import{a as U,b as Te,e as Wn,f as w}from"./chunk-X6YOYRVK.js";function wI(t,e){return Object.is(t,e)}var Be=null,hc=!1,fc=1,Kn=Symbol("SIGNAL");function fe(t){let e=Be;return Be=t,e}var gc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dh(t){if(hc)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(t);let e=Be.nextProducerIndex++;if(Oi(Be),e<Be.producerNode.length&&Be.producerNode[e]!==t&&go(Be)){let n=Be.producerNode[e];mc(n,Be.producerIndexOfThis[e])}Be.producerNode[e]!==t&&(Be.producerNode[e]=t,Be.producerIndexOfThis[e]=go(Be)?CI(t,Be,e):0),Be.producerLastReadVersion[e]=t.version}function vA(){fc++}function EI(t){if(!(go(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===fc)){if(!t.producerMustRecompute(t)&&!ph(t)){t.dirty=!1,t.lastCleanEpoch=fc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=fc}}function TI(t){if(t.liveConsumerNode===void 0)return;let e=hc;hc=!0;try{for(let n of t.liveConsumerNode)n.dirty||_A(n)}finally{hc=e}}function DI(){return Be?.consumerAllowSignalWrites!==!1}function _A(t){t.dirty=!0,TI(t),t.consumerMarkedDirty?.(t)}function hh(t){return t&&(t.nextProducerIndex=0),fe(t)}function fh(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(go(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)mc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ph(t){Oi(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(EI(n),r!==n.version))return!0}return!1}function bI(t){if(Oi(t),go(t))for(let e=0;e<t.producerNode.length;e++)mc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function CI(t,e,n){if(SI(t),Oi(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=CI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function mc(t,e){if(SI(t),Oi(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)mc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Oi(i),i.producerIndexOfThis[r]=e}}function go(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function SI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function AI(t){let e=Object.create(IA);e.computation=t;let n=()=>{if(EI(e),dh(e),e.value===pc)throw e.error;return e.value};return n[Kn]=e,n}var uh=Symbol("UNSET"),lh=Symbol("COMPUTING"),pc=Symbol("ERRORED"),IA=Te(U({},gc),{value:uh,dirty:!0,error:null,equal:wI,producerMustRecompute(t){return t.value===uh||t.value===lh},producerRecomputeValue(t){if(t.value===lh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=lh;let n=hh(t),r;try{r=t.computation()}catch(i){r=pc,t.error=i}finally{fh(t,n)}if(e!==uh&&e!==pc&&r!==pc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function wA(){throw new Error}var RI=wA;function NI(){RI()}function xI(t){RI=t}var EA=null;function MI(t){let e=Object.create(OI);e.value=t;let n=()=>(dh(e),e.value);return n[Kn]=e,n}function gh(t,e){DI()||NI(),t.equal(t.value,e)||(t.value=e,TA(t))}function PI(t,e){DI()||NI(),gh(t,e(t.value))}var OI=Te(U({},gc),{equal:wI,value:void 0});function TA(t){t.version++,vA(),TI(t),EA?.()}function J(t){return typeof t=="function"}function ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var yc=ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Pr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Re=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(s){e=s instanceof yc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{kI(s)}catch(o){e=e??[],o instanceof yc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new yc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)kI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Pr(n,e)}remove(e){let{_finalizers:n}=this;n&&Pr(n,e),e instanceof t&&e._removeParent(this)}};Re.EMPTY=(()=>{let t=new Re;return t.closed=!0,t})();var mh=Re.EMPTY;function vc(t){return t instanceof Re||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function kI(t){J(t)?t():t.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Li={setTimeout(t,e,...n){let{delegate:r}=Li;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Li;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _c(t){Li.setTimeout(()=>{let{onUnhandledError:e}=Ft;if(e)e(t);else throw t})}function mo(){}var LI=yh("C",void 0,void 0);function FI(t){return yh("E",void 0,t)}function VI(t){return yh("N",t,void 0)}function yh(t,e,n){return{kind:t,value:e,error:n}}var Or=null;function Fi(t){if(Ft.useDeprecatedSynchronousErrorHandling){let e=!Or;if(e&&(Or={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Or;if(Or=null,n)throw r}}else t()}function UI(t){Ft.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=t)}var kr=class extends Re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vc(e)&&e.add(this)):this.destination=CA}static create(e,n,r){return new Vi(e,n,r)}next(e){this.isStopped?_h(VI(e),this):this._next(e)}error(e){this.isStopped?_h(FI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_h(LI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},DA=Function.prototype.bind;function vh(t,e){return DA.call(t,e)}var Ih=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ic(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ic(r)}else Ic(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ic(n)}}},Vi=class extends kr{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ft.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vh(e.next,s),error:e.error&&vh(e.error,s),complete:e.complete&&vh(e.complete,s)}):i=e}this.destination=new Ih(i)}};function Ic(t){Ft.useDeprecatedSynchronousErrorHandling?UI(t):_c(t)}function bA(t){throw t}function _h(t,e){let{onStoppedNotification:n}=Ft;n&&Li.setTimeout(()=>n(t,e))}var CA={closed:!0,next:mo,error:bA,complete:mo};var Ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _t(t){return t}function wc(...t){return wh(t)}function wh(t){return t.length===0?_t:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=AA(n)?n:new Vi(n,r,i);return Fi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=jI(r),new r((i,s)=>{let o=new Vi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ui](){return this}pipe(...n){return wh(n)(this)}toPromise(n){return n=jI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function jI(t){var e;return(e=t??Ft.Promise)!==null&&e!==void 0?e:Promise}function SA(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function AA(t){return t&&t instanceof kr||SA(t)&&vc(t)}function Eh(t){return J(t?.lift)}function de(t){return e=>{if(Eh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,r,i){return new Th(t,e,n,r,i)}var Th=class extends kr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ji(){return de((t,e)=>{let n=null;t._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Bi=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Eh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Re;let n=this.getSubject();e.add(this.source.subscribe(oe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Re.EMPTY)}return e}refCount(){return ji()(this)}};var BI=ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ec(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new BI}next(n){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?mh:(this.currentObservers=null,s.push(n),new Re(()=>{this.currentObservers=null,Pr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new Ec(e,n),t})(),Ec=class extends tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:mh}};var ze=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Dh={now(){return(Dh.delegate||Date).now()},delegate:void 0};var Tc=class extends Re{constructor(e,n){super()}schedule(e,n=0){return this}};var yo={setInterval(t,e,...n){let{delegate:r}=yo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=yo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var $i=class extends Tc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return yo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&yo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Pr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Hi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Hi.now=Dh.now;var qi=class extends Hi{constructor(e,n=Hi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var bh=new qi($i);var Dc=class extends $i{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var bc=class extends qi{};var Ch=new bc(Dc);var It=new se(t=>t.complete());function $I(t){return t&&J(t.schedule)}function HI(t){return t[t.length-1]}function Cc(t){return J(HI(t))?t.pop():void 0}function Qn(t){return $I(HI(t))?t.pop():void 0}function Sh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function qI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(t){return this instanceof Lr?(this.v=t,this):new Lr(t)}function GI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(C){return Promise.resolve(C).then(v,p)}}function a(v,C){r[v]&&(i[v]=function(N){return new Promise(function(R,P){s.push([v,N,R,P])>1||u(v,N)})},C&&(i[v]=C(i[v])))}function u(v,C){try{l(r[v](C))}catch(N){m(s[0][3],N)}}function l(v){v.value instanceof Lr?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,C){v(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function WI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qI=="function"?qI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Sc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ac(t){return J(t?.then)}function Rc(t){return J(t[Ui])}function Nc(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function xc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Mc=RA();function Pc(t){return J(t?.[Mc])}function Oc(t){return GI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Lr(n.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{n.releaseLock()}})}function kc(t){return J(t?.getReader)}function Me(t){if(t instanceof se)return t;if(t!=null){if(Rc(t))return NA(t);if(Sc(t))return xA(t);if(Ac(t))return MA(t);if(Nc(t))return KI(t);if(Pc(t))return PA(t);if(kc(t))return OA(t)}throw xc(t)}function NA(t){return new se(e=>{let n=t[Ui]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xA(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function MA(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_c)})}function PA(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function KI(t){return new se(e=>{kA(t,e).catch(n=>e.error(n))})}function OA(t){return KI(Oc(t))}function kA(t,e){var n,r,i,s;return zI(this,void 0,void 0,function*(){try{for(n=WI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ft(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Yn(t,e=0){return de((n,r)=>{n.subscribe(oe(r,i=>ft(r,t,()=>r.next(i),e),()=>ft(r,t,()=>r.complete(),e),i=>ft(r,t,()=>r.error(i),e)))})}function Jn(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function QI(t,e){return Me(t).pipe(Jn(e),Yn(e))}function YI(t,e){return Me(t).pipe(Jn(e),Yn(e))}function JI(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function ZI(t,e){return new se(n=>{let r;return ft(n,e,()=>{r=t[Mc](),ft(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function Lc(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{ft(n,e,()=>{let r=t[Symbol.asyncIterator]();ft(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function XI(t,e){return Lc(Oc(t),e)}function ew(t,e){if(t!=null){if(Rc(t))return QI(t,e);if(Sc(t))return JI(t,e);if(Ac(t))return YI(t,e);if(Nc(t))return Lc(t,e);if(Pc(t))return ZI(t,e);if(kc(t))return XI(t,e)}throw xc(t)}function Pe(t,e){return e?ew(t,e):Me(t)}function Z(...t){let e=Qn(t);return Pe(t,e)}function zi(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Ah(t){return!!t&&(t instanceof se||J(t.lift)&&J(t.subscribe))}var vn=ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return de((n,r)=>{let i=0;n.subscribe(oe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:LA}=Array;function FA(t,e){return LA(e)?t(...e):t(e)}function Fc(t){return ie(e=>FA(t,e))}var{isArray:VA}=Array,{getPrototypeOf:UA,prototype:jA,keys:BA}=Object;function Vc(t){if(t.length===1){let e=t[0];if(VA(e))return{args:e,keys:null};if($A(e)){let n=BA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function $A(t){return t&&typeof t=="object"&&UA(t)===jA}function Uc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function jc(...t){let e=Qn(t),n=Cc(t),{args:r,keys:i}=Vc(t);if(r.length===0)return Pe([],e);let s=new se(HA(r,e,i?o=>Uc(i,o):_t));return n?s.pipe(Fc(n)):s}function HA(t,e,n=_t){return r=>{tw(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)tw(e,()=>{let l=Pe(t[u],e),h=!1;l.subscribe(oe(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function tw(t,e,n){t?ft(n,t,e):e()}function nw(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=N=>l<r?C(N):u.push(N),C=N=>{s&&e.next(N),l++;let R=!1;Me(n(N,h++)).subscribe(oe(e,P=>{i?.(P),s?v(P):e.next(P)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let P=u.shift();o?ft(e,o,()=>C(P)):C(P)}m()}catch(P){e.error(P)}}))};return t.subscribe(oe(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Ve(t,e,n=1/0){return J(e)?Ve((r,i)=>ie((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>nw(r,i,t,n)))}function Rh(t=1/0){return Ve(_t,t)}function rw(){return Rh(1)}function Gi(...t){return rw()(Pe(t,Qn(t)))}function Bc(t){return new se(e=>{Me(t()).subscribe(e)})}function qA(...t){let e=Cc(t),{args:n,keys:r}=Vc(t),i=new se(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Me(n[h]).subscribe(oe(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Uc(r,a):a),s.complete())}))}});return e?i.pipe(Fc(e)):i}function wt(t,e){return de((n,r)=>{let i=0;n.subscribe(oe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Zn(t){return de((e,n)=>{let r=null,i=!1,s;r=e.subscribe(oe(n,void 0,void 0,o=>{s=Me(t(o,Zn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function iw(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(oe(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Wi(t,e){return J(e)?Ve(t,e,1):Ve(t,1)}function Xn(t){return de((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _n(t){return t<=0?()=>It:de((e,n)=>{let r=0;e.subscribe(oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Nh(t){return ie(()=>t)}function $c(t=zA){return de((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function zA(){return new vn}function vo(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wt((i,s)=>t(i,s,r)):_t,_n(1),n?Xn(e):$c(()=>new vn))}function Ki(t){return t<=0?()=>It:de((e,n)=>{let r=[];e.subscribe(oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function xh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wt((i,s)=>t(i,s,r)):_t,Ki(1),n?Xn(e):$c(()=>new vn))}function Hc(t,e){return de(iw(t,e,arguments.length>=2,!0))}function qc(...t){let e=Qn(t);return de((n,r)=>{(e?Gi(t,n,e):Gi(t,n)).subscribe(r)})}function Vt(t,e){return de((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(oe(r,u=>{i?.unsubscribe();let l=0,h=s++;Me(t(u,h)).subscribe(i=oe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Mh(t){return de((e,n)=>{Me(t).subscribe(oe(n,()=>n.complete(),mo)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(oe(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_t}var $w="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(Wf(e,n)),this.code=e}};function Wf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function xo(t){return{toString:t}.toString()}var zc="__parameters__";function GA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Hw(t,e,n){return xo(()=>{let r=GA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(zc)?u[zc]:Object.defineProperty(u,zc,{value:[]})[zc];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var jt=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function WA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function sw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var KA=we({__forward_ref__:we});function qw(t){return t.__forward_ref__=qw,t.toString=function(){return ut(this())},t}function ct(t){return zw(t)?t():t}function zw(t){return typeof t=="function"&&t.hasOwnProperty(KA)&&t.__forward_ref__===qw}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tu(t){return{providers:t.providers||[],imports:t.imports||[]}}function Du(t){return ow(t,Ww)||ow(t,Kw)}function Gw(t){return Du(t)!==null}function ow(t,e){return t.hasOwnProperty(e)?t[e]:null}function QA(t){let e=t&&(t[Ww]||t[Kw]);return e||null}function aw(t){return t&&(t.hasOwnProperty(cw)||t.hasOwnProperty(YA))?t[cw]:null}var Ww=we({\u0275prov:we}),cw=we({\u0275inj:we}),Kw=we({ngInjectableDef:we}),YA=we({ngInjectorDef:we}),Q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qw(t){return t&&!!t.\u0275providers}var JA=we({\u0275cmp:we}),ZA=we({\u0275dir:we}),XA=we({\u0275pipe:we}),eR=we({\u0275mod:we}),tu=we({\u0275fac:we}),_o=we({__NG_ELEMENT_ID__:we}),uw=we({__NG_ENV_ID__:we});function bu(t){return typeof t=="string"?t:t==null?"":String(t)}function tR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():bu(t)}function nR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function Kf(t,e){throw new j(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),Qh;function Yw(){return Qh}function pt(t){let e=Qh;return Qh=t,e}function Jw(t,e,n){let r=Du(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;Kf(t,"Injector")}var rR={},Io=rR,Yh="__NG_DI_FLAG__",nu="ngTempTokenPath",iR="ngTokenPath",sR=/\n/gm,oR="\u0275",lw="__source",Xi;function aR(){return Xi}function er(t){let e=Xi;return Xi=t,e}function cR(t,e=re.Default){if(Xi===void 0)throw new j(-203,!1);return Xi===null?Jw(t,void 0,e):Xi.get(t,e&re.Optional?null:void 0,e)}function ae(t,e=re.Default){return(Yw()||cR)(ct(t),e)}function k(t,e=re.Default){return ae(t,Cu(e))}function Cu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Jh(t){let e=[];for(let n=0;n<t.length;n++){let r=ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){let a=r[o],u=uR(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(ae(i,s))}else e.push(ae(r))}return e}function Zw(t,e){return t[Yh]=e,t.prototype[Yh]=e,t}function uR(t){return t[Yh]}function lR(t,e,n,r){let i=t[nu];throw e[lw]&&i.unshift(e[lw]),t.message=dR(`
`+t.message,i,n,r),t[iR]=i,t[nu]=null,t}function dR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==oR?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sR,`
  `)}`}var Ne=Zw(Hw("Optional"),8);var Qf=Zw(Hw("SkipSelf"),4);function jr(t,e){let n=t.hasOwnProperty(tu);return n?t[tu]:null}function hR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function fR(t){return t.flat(Number.POSITIVE_INFINITY)}function Yf(t,e){t.forEach(n=>Array.isArray(n)?Yf(n,e):e(n))}function Xw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ru(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function gR(t,e,n){let r=Mo(t,e);return r>=0?t[r|1]=n:(r=~r,pR(t,r,e,n)),r}function Ph(t,e){let n=Mo(t,e);if(n>=0)return t[n|1]}function Mo(t,e){return mR(t,e,1)}function mR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ts={},St=[],ns=new Q(""),eE=new Q("",-1),tE=new Q(""),iu=class{get(e,n=Io){if(n===Io){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}},nE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(nE||{}),Yt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yt||{}),Rt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Rt||{});function yR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Zh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];vR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function rE(t){return t===3||t===4||t===6}function vR(t){return t.charCodeAt(0)===64}function wo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?dw(t,n,i,null,e[++r]):dw(t,n,i,null,null))}}return t}function dw(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var iE="ng-template";function _R(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&yR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Jf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Jf(t){return t.type===4&&t.value!==iE}function IR(t,e,n){let r=t.type===4&&!n?iE:t.value;return e===r}function wR(t,e,n){let r=4,i=t.attrs,s=i!==null?DR(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Ut(r)&&!Ut(u))return!1;if(o&&Ut(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!IR(t,u,n)||u===""&&e.length===1){if(Ut(r))return!1;o=!0}}else if(r&8){if(i===null||!_R(t,i,u,n)){if(Ut(r))return!1;o=!0}}else{let l=e[++a],h=ER(u,i,Jf(t),n);if(h===-1){if(Ut(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Ut(r))return!1;o=!0}}}}return Ut(r)||o}function Ut(t){return(t&1)===0}function ER(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return bR(e,t)}function TR(t,e,n=!1){for(let r=0;r<e.length;r++)if(wR(t,e[r],n))return!0;return!1}function DR(t){for(let e=0;e<t.length;e++){let n=t[e];if(rE(n))return e}return t.length}function bR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function hw(t,e){return t?":not("+e.trim()+")":e}function CR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ut(o)&&(e+=hw(s,i),i=""),r=o,s=s||!Ut(r);n++}return i!==""&&(e+=hw(s,i)),e}function SR(t){return t.map(CR).join(",")}function AR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Ut(i))break;i=s}r++}return{attrs:e,classes:n}}function sE(t){return xo(()=>{let e=lE(t),n=Te(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===nE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,styles:t.styles||St,_:null,schemas:t.schemas||null,tView:null,id:""});dE(n);let r=t.dependencies;return n.directiveDefs=pw(r,!1),n.pipeDefs=pw(r,!0),n.id=xR(n),n})}function RR(t){return Br(t)||oE(t)}function NR(t){return t!==null}function Su(t){return xo(()=>({type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function fw(t,e){if(t==null)return ts;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Rt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Rt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Yr(t){return xo(()=>{let e=lE(t);return dE(e),e})}function Au(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Br(t){return t[JA]||null}function oE(t){return t[ZA]||null}function aE(t){return t[XA]||null}function cE(t){let e=Br(t)||oE(t)||aE(t);return e!==null?e.standalone:!1}function uE(t,e){let n=t[eR]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function lE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ts,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fw(t.inputs,e),outputs:fw(t.outputs),debugInfo:null}}function dE(t){t.features?.forEach(e=>e(t))}function pw(t,e){if(!t)return null;let n=e?aE:RR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(NR)}function xR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Mt(t){return{\u0275providers:t}}function MR(...t){return{\u0275providers:hE(!0,t),\u0275fromNgModule:!0}}function hE(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Yf(e,o=>{let a=o;Xh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&fE(i,s),n}function fE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Zf(i,s=>{e(s,r)})}}function Xh(t,e,n,r){if(t=ct(t),!t)return!1;let i=null,s=aw(t),o=!s&&Br(t);if(!s&&!o){let u=t.ngModule;if(s=aw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Xh(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Yf(s.imports,h=>{Xh(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&fE(l,e)}if(!a){let l=jr(i)||(()=>new i);e({provide:i,useFactory:l,deps:St},i),e({provide:tE,useValue:i,multi:!0},i),e({provide:ns,useValue:()=>ae(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Zf(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Zf(t,e){for(let n of t)Qw(n)&&(n=n.\u0275providers),Array.isArray(n)?Zf(n,e):e(n)}var PR=we({provide:String,useValue:we});function pE(t){return t!==null&&typeof t=="object"&&PR in t}function OR(t){return!!(t&&t.useExisting)}function kR(t){return!!(t&&t.useFactory)}function rs(t){return typeof t=="function"}function LR(t){return!!t.useClass}var Ru=new Q(""),Qc={},FR={},Oh;function Xf(){return Oh===void 0&&(Oh=new iu),Oh}var Nt=class{},Eo=class extends Nt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tf(e,o=>this.processProvider(o)),this.records.set(eE,Qi(void 0,this)),i.has("environment")&&this.records.set(Nt,Qi(void 0,this));let s=this.records.get(Ru);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tE,St,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=er(this),r=pt(void 0),i;try{return e()}finally{er(n),pt(r)}}get(e,n=Io,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(uw))return e[uw](this);r=Cu(r);let i,s=er(this),o=pt(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=$R(e)&&Du(e);l&&this.injectableDefInScope(l)?u=Qi(ef(e),Qc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&re.Self?Xf():this.parent;return n=r&re.Optional&&n===Io?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[nu]=a[nu]||[]).unshift(ut(e)),s)throw a;return lR(a,e,"R3InjectorError",this.source)}else throw a}finally{pt(o),er(s)}}resolveInjectorInitializers(){let e=fe(null),n=er(this),r=pt(void 0),i;try{let s=this.get(ns,St,re.Self);for(let o of s)o()}finally{er(n),pt(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=ct(e);let n=rs(e)?e:ct(e&&e.provide),r=UR(e);if(!rs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qi(void 0,Qc,!0),i.factory=()=>Jh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===Qc&&(n.value=FR,n.value=n.factory()),typeof n.value=="object"&&n.value&&BR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ef(t){let e=Du(t),n=e!==null?e.factory:jr(t);if(n!==null)return n;if(t instanceof Q)throw new j(204,!1);if(t instanceof Function)return VR(t);throw new j(204,!1)}function VR(t){if(t.length>0)throw new j(204,!1);let n=QA(t);return n!==null?()=>n.factory(t):()=>new t}function UR(t){if(pE(t))return Qi(void 0,t.useValue);{let e=gE(t);return Qi(e,Qc)}}function gE(t,e,n){let r;if(rs(t)){let i=ct(t);return jr(i)||ef(i)}else if(pE(t))r=()=>ct(t.useValue);else if(kR(t))r=()=>t.useFactory(...Jh(t.deps||[]));else if(OR(t))r=()=>ae(ct(t.useExisting));else{let i=ct(t&&(t.useClass||t.provide));if(jR(t))r=()=>new i(...Jh(t.deps));else return jr(i)||ef(i)}return r}function Qi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jR(t){return!!t.deps}function BR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $R(t){return typeof t=="function"||typeof t=="object"&&t instanceof Q}function tf(t,e){for(let n of t)Array.isArray(n)?tf(n,e):n&&Qw(n)?tf(n.\u0275providers,e):e(n)}function En(t,e){t instanceof Eo&&t.assertNotDestroyed();let n,r=er(t),i=pt(void 0);try{return e()}finally{er(r),pt(i)}}function mE(){return Yw()!==void 0||aR()!=null}function ep(t){if(!mE())throw new j(-203,!1)}function HR(t){return typeof t=="function"}var Tn=0,X=1,q=2,Ge=3,Bt=4,Ht=5,su=6,To=7,xt=8,is=9,$t=10,je=11,Do=12,gw=13,cs=14,Jt=15,Po=16,Yi=17,In=18,Nu=19,yE=20,tr=21,kh=22,$r=23,lt=25,vE=1;var Hr=7,ou=8,ss=9,gt=10,tp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(tp||{});function Vr(t){return Array.isArray(t)&&typeof t[vE]=="object"}function Dn(t){return Array.isArray(t)&&t[vE]===!0}function np(t){return(t.flags&4)!==0}function xu(t){return t.componentOffset>-1}function Mu(t){return(t.flags&1)===1}function nr(t){return!!t.template}function qR(t){return(t[q]&512)!==0}var nf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function _E(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Oo(){return IE}function IE(t){return t.type.prototype.ngOnChanges&&(t.setInput=GR),zR}Oo.ngInherit=!0;function zR(){let t=EE(this),e=t?.current;if(e){let n=t.previous;if(n===ts)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function GR(t,e,n,r,i){let s=this.declaredInputs[r],o=EE(t)||WR(t,{previous:ts,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new nf(l&&l.currentValue,n,u===ts),_E(t,e,i,n)}var wE="__ngSimpleChanges__";function EE(t){return t[wE]||null}function WR(t,e){return t[wE]=e}var mw=null;var Kt=function(t,e,n){mw?.(t,e,n)},TE="svg",KR="math",QR=!1;function YR(){return QR}function Zt(t){for(;Array.isArray(t);)t=t[Tn];return t}function DE(t,e){return Zt(e[t])}function Pt(t,e){return Zt(e[t.index])}function rp(t,e){return t.data[e]}function ip(t,e){return t[e]}function ar(t,e){let n=e[t];return Vr(n)?n:n[Tn]}function JR(t){return(t[q]&4)===4}function sp(t){return(t[q]&128)===128}function ZR(t){return Dn(t[Ge])}function os(t,e){return e==null?null:t[e]}function bE(t){t[Yi]=0}function XR(t){t[q]&1024||(t[q]|=1024,sp(t)&&bo(t))}function eN(t,e){for(;t>0;)e=e[cs],t--;return e}function op(t){return!!(t[q]&9216||t[$r]?.dirty)}function rf(t){t[$t].changeDetectionScheduler?.notify(1),op(t)?bo(t):t[q]&64&&(YR()?(t[q]|=1024,bo(t)):t[$t].changeDetectionScheduler?.notify())}function bo(t){t[$t].changeDetectionScheduler?.notify();let e=Co(t);for(;e!==null&&!(e[q]&8192||(e[q]|=8192,!sp(e)));)e=Co(e)}function CE(t,e){if((t[q]&256)===256)throw new j(911,!1);t[tr]===null&&(t[tr]=[]),t[tr].push(e)}function tN(t,e){if(t[tr]===null)return;let n=t[tr].indexOf(e);n!==-1&&t[tr].splice(n,1)}function Co(t){let e=t[Ge];return Dn(e)?e[Ge]:e}var te={lFrame:PE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nN(){return te.lFrame.elementDepthCount}function rN(){te.lFrame.elementDepthCount++}function iN(){te.lFrame.elementDepthCount--}function SE(){return te.bindingsEnabled}function sN(){return te.skipHydrationRootTNode!==null}function oN(t){return te.skipHydrationRootTNode===t}function aN(){te.skipHydrationRootTNode=null}function le(){return te.lFrame.lView}function We(){return te.lFrame.tView}function tW(t){return te.lFrame.contextLView=t,t[xt]}function nW(t){return te.lFrame.contextLView=null,t}function mt(){let t=AE();for(;t!==null&&t.type===64;)t=t.parent;return t}function AE(){return te.lFrame.currentTNode}function cN(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Jr(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function ap(){return te.lFrame.isParent}function RE(){te.lFrame.isParent=!1}function uN(){return te.lFrame.contextLView}function ko(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function lN(t){return te.lFrame.bindingIndex=t}function Pu(){return te.lFrame.bindingIndex++}function dN(t){let e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function hN(){return te.lFrame.inI18n}function fN(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,sf(e)}function pN(){return te.lFrame.currentDirectiveIndex}function sf(t){te.lFrame.currentDirectiveIndex=t}function gN(t){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function NE(){return te.lFrame.currentQueryIndex}function cp(t){te.lFrame.currentQueryIndex=t}function mN(t){let e=t[X];return e.type===2?e.declTNode:e.type===1?t[Ht]:null}function xE(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=mN(s),i===null||(s=s[cs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=te.lFrame=ME();return r.currentTNode=e,r.lView=t,!0}function up(t){let e=ME(),n=t[X];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ME(){let t=te.lFrame,e=t===null?null:t.child;return e===null?PE(t):e}function PE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function OE(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var kE=OE;function lp(){let t=OE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yN(t){return(te.lFrame.contextLView=eN(t,te.lFrame.contextLView))[xt]}function us(){return te.lFrame.selectedIndex}function qr(t){te.lFrame.selectedIndex=t}function dp(){let t=te.lFrame;return rp(t.tView,t.selectedIndex)}function rW(){te.lFrame.currentNamespace=TE}function iW(){vN()}function vN(){te.lFrame.currentNamespace=null}function _N(){return te.lFrame.currentNamespace}var LE=!0;function Ou(){return LE}function ku(t){LE=t}function IN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=IE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Lu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Yc(t,e,n){FE(t,e,3,n)}function Jc(t,e,n,r){(t[q]&3)===n&&FE(t,e,n,r)}function Lh(t,e){let n=t[q];(n&3)===e&&(n&=16383,n+=1,t[q]=n)}function FE(t,e,n,r){let i=r!==void 0?t[Yi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Yi]+=65536),(a<s||s==-1)&&(wN(t,n,e,u),t[Yi]=(t[Yi]&4294901760)+u+2),u++}function yw(t,e){Kt(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),Kt(5,t,e)}}function wN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[q]>>14<t[Yi]>>16&&(t[q]&3)===e&&(t[q]+=16384,yw(a,s)):yw(a,s)}var es=-1,zr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function EN(t){return t instanceof zr}function TN(t){return(t.flags&8)!==0}function DN(t){return(t.flags&16)!==0}function VE(t){return t!==es}function au(t){return t&32767}function bN(t){return t>>16}function cu(t,e){let n=bN(t),r=e;for(;n>0;)r=r[cs],n--;return r}var of=!0;function uu(t){let e=of;return of=t,e}var CN=256,UE=CN-1,jE=5,SN=0,Qt={};function AN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(_o)&&(r=n[_o]),r==null&&(r=n[_o]=SN++);let i=r&UE,s=1<<i;e.data[t+(i>>jE)]|=s}function lu(t,e){let n=BE(t,e);if(n!==-1)return n;let r=e[X];r.firstCreatePass&&(t.injectorIndex=e.length,Fh(r.data,t),Fh(e,null),Fh(r.blueprint,null));let i=hp(t,e),s=t.injectorIndex;if(VE(i)){let o=au(i),a=cu(i,e),u=a[X].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Fh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function BE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function hp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=GE(i),r===null)return es;if(n++,i=i[cs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return es}function af(t,e,n){AN(t,e,n)}function RN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(rE(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function $E(t,e,n){if(n&re.Optional||t!==void 0)return t;Kf(e,"NodeInjector")}function HE(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),!(n&(re.Self|re.Host))){let i=t[is],s=pt(void 0);try{return i?i.get(e,r,n&re.Optional):Jw(e,r,n&re.Optional)}finally{pt(s)}}return $E(r,e,n)}function qE(t,e,n,r=re.Default,i){if(t!==null){if(e[q]&2048&&!(r&re.Self)){let o=PN(t,e,n,r,Qt);if(o!==Qt)return o}let s=zE(t,e,n,r,Qt);if(s!==Qt)return s}return HE(e,n,r,i)}function zE(t,e,n,r,i){let s=xN(n);if(typeof s=="function"){if(!xE(e,t,r))return r&re.Host?$E(i,n,r):HE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&re.Optional))Kf(n);else return o}finally{kE()}}else if(typeof s=="number"){let o=null,a=BE(t,e),u=es,l=r&re.Host?e[Jt][Ht]:null;for((a===-1||r&re.SkipSelf)&&(u=a===-1?hp(t,e):e[a+8],u===es||!_w(r,!1)?a=-1:(o=e[X],a=au(u),e=cu(u,e)));a!==-1;){let h=e[X];if(vw(s,a,h.data)){let p=NN(a,e,n,o,r,l);if(p!==Qt)return p}u=e[a+8],u!==es&&_w(r,e[X].data[a+8]===l)&&vw(s,a,e)?(o=h,a=au(u),e=cu(u,e)):a=-1}}return i}function NN(t,e,n,r,i,s){let o=e[X],a=o.data[t+8],u=r==null?xu(a)&&of:r!=o&&(a.type&3)!==0,l=i&re.Host&&s===a,h=Zc(a,o,n,u,l);return h!==null?Gr(e,o,h,a):Qt}function Zc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let C=o[v];if(v<u&&n===C||v>=u&&C.type===n)return v}if(i){let v=o[u];if(v&&nr(v)&&v.type===n)return u}return null}function Gr(t,e,n,r){let i=t[n],s=e.data;if(EN(i)){let o=i;o.resolving&&nR(tR(s[n]));let a=uu(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?pt(o.injectImpl):null,h=xE(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&IN(n,s[n],e)}finally{l!==null&&pt(l),uu(a),o.resolving=!1,kE()}}return i}function xN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(_o)?t[_o]:void 0;return typeof e=="number"?e>=0?e&UE:MN:e}function vw(t,e,n){let r=1<<t;return!!(n[e+(t>>jE)]&r)}function _w(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var Ur=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qE(this._tNode,this._lView,e,Cu(r),n)}};function MN(){return new Ur(mt(),le())}function fp(t){return xo(()=>{let e=t.prototype.constructor,n=e[tu]||cf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[tu]||cf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function cf(t){return zw(t)?()=>{let e=cf(ct(t));return e&&e()}:jr(t)}function PN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[q]&2048&&!(o[q]&512);){let a=zE(s,o,n,r|re.Self,Qt);if(a!==Qt)return a;let u=s.parent;if(!u){let l=o[yE];if(l){let h=l.get(n,Qt,r);if(h!==Qt)return h}u=GE(o),o=o[cs]}s=u}return i}function GE(t){let e=t[X],n=e.type;return n===2?e.declTNode:n===1?t[Ht]:null}function pp(t){return RN(mt(),t)}function Iw(t,e=null,n=null,r){let i=WE(t,e,n,r);return i.resolveInjectorInitializers(),i}function WE(t,e=null,n=null,r,i=new Set){let s=[n||St,MR(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new Eo(s,e||Xf(),r||null,i)}var nt=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Io}static{this.NULL=new iu}static create(n,r){if(Array.isArray(n))return Iw({name:""},r,n,"");{let i=n.name??"";return Iw({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=z({token:t,providedIn:"any",factory:()=>ae(eE)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var ON="ngOriginalError";function Vh(t){return t[ON]}var Xt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Vh(e);for(;n&&Vh(n);)n=Vh(n);return n||null}},KE=new Q("",{providedIn:"root",factory:()=>k(Xt).handleError.bind(void 0)}),ls=(()=>{class t{static{this.__NG_ELEMENT_ID__=kN}static{this.__NG_ENV_ID__=n=>n}}return t})(),uf=class extends ls{constructor(e){super(),this._lView=e}onDestroy(e){return CE(this._lView,e),()=>tN(this._lView,e)}};function kN(){return new uf(le())}function LN(){return ds(mt(),le())}function ds(t,e){return new bn(Pt(t,e))}var bn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=LN}}return t})();function FN(t){return t instanceof bn?t.nativeElement:t}var lf=class extends tt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,mE()&&(this.destroyRef=k(ls,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Uh(s),i&&(i=Uh(i)),o&&(o=Uh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Re&&e.add(a),a}};function Uh(t){return e=>{setTimeout(t,void 0,e)}}var At=lf;function VN(){return this._results[Symbol.iterator]()}var df=class t{get changes(){return this._changes??=new At}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=VN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=fR(e);(this._changesDetected=!hR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function QE(t){return(t.flags&128)===128}var YE=new Map,UN=0;function jN(){return UN++}function BN(t){YE.set(t[Nu],t)}function $N(t){YE.delete(t[Nu])}var ww="__ngContext__";function rr(t,e){Vr(e)?(t[ww]=e[Nu],BN(e)):t[ww]=e}function JE(t){return XE(t[Do])}function ZE(t){return XE(t[Bt])}function XE(t){for(;t!==null&&!Dn(t);)t=t[Bt];return t}var hf;function eT(t){hf=t}function HN(){if(hf!==void 0)return hf;if(typeof document<"u")return document;throw new j(210,!1)}var gp=new Q("",{providedIn:"root",factory:()=>qN}),qN="ng",mp=new Q(""),Cn=new Q("",{providedIn:"platform",factory:()=>"unknown"});var yp=new Q("",{providedIn:"root",factory:()=>HN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zN="h",GN="b";var WN=()=>null;function vp(t,e,n=!1){return WN(t,e,n)}var tT=!1,KN=new Q("",{providedIn:"root",factory:()=>tT});var Gc;function QN(){if(Gc===void 0&&(Gc=null,jt.trustedTypes))try{Gc=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gc}function Ew(t){return QN()?.createScriptURL(t)||t}var du=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$w})`}};function Lo(t){return t instanceof du?t.changingThisBreaksApplicationSecurity:t}function _p(t,e){let n=YN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$w})`)}return n===e}function YN(t){return t instanceof du&&t.getTypeName()||null}var JN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nT(t){return t=String(t),t.match(JN)?t:"unsafe:"+t}var Fu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fu||{});function ZN(t){let e=iT();return e?e.sanitize(Fu.URL,t)||"":_p(t,"URL")?Lo(t):nT(bu(t))}function XN(t){let e=iT();if(e)return Ew(e.sanitize(Fu.RESOURCE_URL,t)||"");if(_p(t,"ResourceURL"))return Ew(Lo(t));throw new j(904,!1)}function ex(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?XN:ZN}function rT(t,e,n){return ex(e,n)(t)}function iT(){let t=le();return t&&t[$t].sanitizer}var tx=/^>|^->|<!--|-->|--!>|<!-$/g,nx=/(<|>)/g,rx="\u200B$1\u200B";function ix(t){return t.replace(tx,e=>e.replace(nx,rx))}function sT(t){return t instanceof Function?t():t}function sx(t){return(t??k(nt)).get(Cn)==="browser"}var wn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wn||{}),ox;function Ip(t,e){return ox(t,e)}function Ji(t,e,n,r,i){if(r!=null){let s,o=!1;Dn(r)?s=r:Vr(r)&&(o=!0,r=r[Tn]);let a=Zt(r);t===0&&n!==null?i==null?uT(e,n,a):fu(e,n,a,i||null,!0):t===1&&n!==null?fu(e,n,a,i||null,!0):t===2?Dx(e,a,o):t===3&&e.destroyNode(a),s!=null&&Cx(e,t,s,n,i)}}function ax(t,e){return t.createText(e)}function cx(t,e,n){t.setValue(e,n)}function ux(t,e){return t.createComment(ix(e))}function oT(t,e,n){return t.createElement(e,n)}function lx(t,e){aT(t,e),e[Tn]=null,e[Ht]=null}function dx(t,e,n,r,i,s){r[Tn]=i,r[Ht]=e,Uu(t,r,n,1,i,s)}function aT(t,e){e[$t].changeDetectionScheduler?.notify(1),Uu(t,e,e[je],2,null,null)}function hx(t){let e=t[Do];if(!e)return jh(t[X],t);for(;e;){let n=null;if(Vr(e))n=e[Do];else{let r=e[gt];r&&(n=r)}if(!n){for(;e&&!e[Bt]&&e!==t;)Vr(e)&&jh(e[X],e),e=e[Ge];e===null&&(e=t),Vr(e)&&jh(e[X],e),n=e&&e[Bt]}e=n}}function fx(t,e,n,r){let i=gt+r,s=n.length;r>0&&(n[i-1][Bt]=e),r<s-gt?(e[Bt]=n[i],Xw(n,gt+r,e)):(n.push(e),e[Bt]=null),e[Ge]=n;let o=e[Po];o!==null&&n!==o&&px(o,e);let a=e[In];a!==null&&a.insertView(t),rf(e),e[q]|=128}function px(t,e){let n=t[ss],i=e[Ge][Ge][Jt];e[Jt]!==i&&(t[q]|=tp.HasTransplantedViews),n===null?t[ss]=[e]:n.push(e)}function cT(t,e){let n=t[ss],r=n.indexOf(e);n.splice(r,1)}function hu(t,e){if(t.length<=gt)return;let n=gt+e,r=t[n];if(r){let i=r[Po];i!==null&&i!==t&&cT(i,r),e>0&&(t[n-1][Bt]=r[Bt]);let s=ru(t,gt+e);lx(r[X],r);let o=s[In];o!==null&&o.detachView(s[X]),r[Ge]=null,r[Bt]=null,r[q]&=-129}return r}function wp(t,e){if(!(e[q]&256)){let n=e[je];n.destroyNode&&Uu(t,e,n,3,null,null),hx(e)}}function jh(t,e){if(e[q]&256)return;let n=fe(null);try{e[q]&=-129,e[q]|=256,e[$r]&&bI(e[$r]),mx(t,e),gx(t,e),e[X].type===1&&e[je].destroy();let r=e[Po];if(r!==null&&Dn(e[Ge])){r!==e[Ge]&&cT(r,e);let i=e[In];i!==null&&i.detachView(t)}$N(e)}finally{fe(n)}}function gx(t,e){let n=t.cleanup,r=e[To];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[To]=null);let i=e[tr];if(i!==null){e[tr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function mx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof zr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Kt(4,a,u);try{u.call(a)}finally{Kt(5,a,u)}}else{Kt(4,i,s);try{s.call(i)}finally{Kt(5,i,s)}}}}}function yx(t,e,n){return vx(t,e.parent,n)}function vx(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Tn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Yt.None||s===Yt.Emulated)return null}return Pt(r,n)}}function fu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function uT(t,e,n){t.appendChild(e,n)}function Tw(t,e,n,r,i){r!==null?fu(t,e,n,r,i):uT(t,e,n)}function _x(t,e,n,r){t.removeChild(e,n,r)}function Ep(t,e){return t.parentNode(e)}function Ix(t,e){return t.nextSibling(e)}function wx(t,e,n){return Tx(t,e,n)}function Ex(t,e,n){return t.type&40?Pt(t,n):null}var Tx=Ex,Dw;function Vu(t,e,n,r){let i=yx(t,r,e),s=e[je],o=r.parent||e[Ht],a=wx(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Tw(s,i,n[u],a,!1);else Tw(s,i,n,a,!1);Dw!==void 0&&Dw(s,r,e,n,i)}function Xc(t,e){if(e!==null){let n=e.type;if(n&3)return Pt(e,t);if(n&4)return ff(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Xc(t,r);{let i=t[e.index];return Dn(i)?ff(-1,i):Zt(i)}}else{if(n&32)return Ip(e,t)()||Zt(t[e.index]);{let r=lT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Co(t[Jt]);return Xc(i,r)}else return Xc(t,e.next)}}}return null}function lT(t,e){if(e!==null){let r=t[Jt][Ht],i=e.projection;return r.projection[i]}return null}function ff(t,e){let n=gt+t+1;if(n<e.length){let r=e[n],i=r[X].firstChild;if(i!==null)return Xc(r,i)}return e[Hr]}function Dx(t,e,n){let r=Ep(t,e);r&&_x(t,r,e,n)}function Tp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&rr(Zt(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Tp(t,e,n.child,r,i,s,!1),Ji(e,t,i,a,s);else if(u&32){let l=Ip(n,r),h;for(;h=l();)Ji(e,t,i,h,s);Ji(e,t,i,a,s)}else u&16?bx(t,e,r,n,i,s):Ji(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Uu(t,e,n,r,i,s){Tp(n,r,t.firstChild,e,i,s,!1)}function bx(t,e,n,r,i,s){let o=n[Jt],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ji(e,t,i,h,s)}else{let l=u,h=o[Ge];QE(r)&&(l.flags|=128),Tp(t,e,l,h,i,s,!0)}}function Cx(t,e,n,r,i){let s=n[Hr],o=Zt(n);s!==o&&Ji(e,t,r,s,i);for(let a=gt;a<n.length;a++){let u=n[a];Uu(u[X],u,t,e,r,s)}}function Sx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:wn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=wn.Important),t.setStyle(n,r,i,s))}}function Ax(t,e,n){t.setAttribute(e,"style",n)}function dT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function hT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Zh(t,e,r),i!==null&&dT(t,e,i),s!==null&&Ax(t,e,s)}var Sn={};function sW(t=1){fT(We(),le(),us()+t,!1)}function fT(t,e,n,r){if(!r)if((e[q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Yc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Jc(e,s,0,n)}qr(n)}function xe(t,e=re.Default){let n=le();if(n===null)return ae(t,e);let r=mt();return qE(r,n,ct(t),e)}function pT(t,e,n,r,i,s){let o=fe(null);try{let a=null;i&Rt.SignalBased&&(a=e[r][Kn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Rt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):_E(e,a,r,s)}finally{fe(o)}}function Rx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)qr(~i);else{let s=i,o=n[++r],a=n[++r];fN(o,s);let u=e[s];a(2,u)}}}finally{qr(-1)}}function ju(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Tn]=i,p[q]=r|4|128|8|64,(l!==null||t&&t[q]&2048)&&(p[q]|=2048),bE(p),p[Ge]=p[cs]=t,p[xt]=n,p[$t]=o||t&&t[$t],p[je]=a||t&&t[je],p[is]=u||t&&t[is]||null,p[Ht]=s,p[Nu]=jN(),p[su]=h,p[yE]=l,p[Jt]=e.type==2?t[Jt]:p,p}function Fo(t,e,n,r,i){let s=t.data[e];if(s===null)s=Nx(t,e,n,r,i),hN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=cN();s.injectorIndex=o===null?-1:o.injectorIndex}return Jr(s,!0),s}function Nx(t,e,n,r,i){let s=AE(),o=ap(),a=o?s:s&&s.parent,u=t.data[e]=Lx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function gT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mT(t,e,n,r,i){let s=us(),o=r&2;try{qr(-1),o&&e.length>lt&&fT(t,e,lt,!1),Kt(o?2:0,i),n(r,i)}finally{qr(s),Kt(o?3:1,i)}}function Dp(t,e,n){if(np(e)){let r=fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{fe(r)}}}function bp(t,e,n){SE()&&($x(t,e,n,Pt(n,e)),(n.flags&64)===64&&IT(t,e,n))}function Cp(t,e,n=Pt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function yT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Sp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Sp(t,e,n,r,i,s,o,a,u,l,h){let p=lt+r,m=p+i,v=xx(p,m),C=typeof l=="function"?l():l;return v[X]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function xx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Sn);return n}function Mx(t,e,n,r){let s=r.get(KN,tT)||n===Yt.ShadowDom,o=t.selectRootElement(e,s);return Px(o),o}function Px(t){Ox(t)}var Ox=()=>null;function kx(t,e,n,r){let i=TT(e);i.push(n),t.firstCreatePass&&DT(t).push(r,i.length-1)}function Lx(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return sN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function bw(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Rt.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Cw(r,n,l,a,u):Cw(r,n,l,a)}return r}function Cw(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Fx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,C=m?m.outputs:null;u=bw(0,p.inputs,h,u,v),l=bw(1,p.outputs,h,l,C);let N=u!==null&&o!==null&&!Jf(e)?Xx(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Vx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function vT(t,e,n,r,i,s,o,a){let u=Pt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Rp(t,n,h,r,i),xu(e)&&Ux(n,e.index)):e.type&3?(r=Vx(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function Ux(t,e){let n=ar(e,t);n[q]&16||(n[q]|=64)}function Ap(t,e,n,r){if(SE()){let i=r===null?null:{"":-1},s=qx(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&_T(t,e,n,o,i,a),i&&zx(n,r,i)}n.mergedAttrs=wo(n.mergedAttrs,n.attrs)}function _T(t,e,n,r,i,s){for(let l=0;l<r.length;l++)af(lu(n,e),t,r[l].type);Wx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=gT(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=wo(n.mergedAttrs,h.hostAttrs),Kx(t,n,e,u,h),Gx(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Fx(t,n,s)}function jx(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Bx(o)!=a&&o.push(a),o.push(n,r,s)}}function Bx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function $x(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;xu(n)&&Qx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||lu(n,e),rr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Gr(e,t,a,n);if(rr(l,e),o!==null&&Zx(e,a-i,l,u,n,o),nr(u)){let h=ar(n.index,e);h[xt]=Gr(e,t,a,n)}}}function IT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=pN();try{qr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];sf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Hx(u,l)}}finally{qr(-1),sf(o)}}function Hx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function qx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(TR(e,o.selectors,!1))if(r||(r=[]),nr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;pf(t,e,u)}else r.unshift(o),pf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function pf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function zx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function Gx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;nr(e)&&(n[""]=t)}}function Wx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Kx(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=jr(i.type,!0)),o=new zr(s,nr(i),xe);t.blueprint[r]=o,n[r]=o,jx(t,e,r,gT(t,n,i.hostVars,Sn),i)}function Qx(t,e,n){let r=Pt(e,t),i=yT(n),s=t[$t].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Bu(t,ju(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Yx(t,e,n,r,i,s){let o=Pt(t,e);Jx(e[je],o,s,t.value,n,r,i)}function Jx(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?bu(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Zx(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];pT(r,n,u,l,h,p)}}function Xx(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function wT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ET(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];cp(s),a.contentQueries(2,e[o],o)}}}finally{fe(r)}}}function Bu(t,e){return t[Do]?t[gw][Bt]=e:t[Do]=e,t[gw]=e,e}function gf(t,e,n){cp(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function TT(t){return t[To]||(t[To]=[])}function DT(t){return t.cleanup||(t.cleanup=[])}function bT(t,e){let n=t[is],r=n?n.get(Xt,null):null;r&&r.handleError(e)}function Rp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];pT(h,l,r,a,u,i)}}function eM(t,e,n){let r=DE(e,t);cx(t[je],r,n)}function tM(t,e){let n=ar(e,t),r=n[X];nM(r,n);let i=n[Tn];i!==null&&n[su]===null&&(n[su]=vp(i,n[is])),Np(r,n,n[xt])}function nM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Np(t,e,n){up(e);try{let r=t.viewQuery;r!==null&&gf(1,r,n);let i=t.template;i!==null&&mT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[In]?.finishViewCreation(t),t.staticContentQueries&&ET(t,e),t.staticViewQueries&&gf(2,t.viewQuery,n);let s=t.components;s!==null&&rM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[q]&=-5,lp()}}function rM(t,e){for(let n=0;n<e.length;n++)tM(t,e[n])}function CT(t,e,n,r){let i=fe(null);try{let s=e.tView,a=t[q]&4096?4096:16,u=ju(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Po]=l;let h=t[In];return h!==null&&(u[In]=h.createEmbeddedView(s)),Np(s,u,n),u}finally{fe(i)}}function iM(t,e){let n=gt+e;if(n<t.length)return t[n]}function mf(t,e){return!e||e.firstChild===null||QE(t)}function ST(t,e,n,r=!0){let i=e[X];if(fx(i,e,t,n),r){let o=ff(n,t),a=e[je],u=Ep(a,t[Hr]);u!==null&&dx(i,t[Ht],a,e,u,o)}let s=e[su];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function sM(t,e){let n=hu(t,e);return n!==void 0&&wp(n[X],n),n}function pu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Zt(s)),Dn(s)&&oM(s,r);let o=n.type;if(o&8)pu(t,e,n.child,r);else if(o&32){let a=Ip(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=lT(e,n);if(Array.isArray(a))r.push(...a);else{let u=Co(e[Jt]);pu(u[X],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function oM(t,e){for(let n=gt;n<t.length;n++){let r=t[n],i=r[X].firstChild;i!==null&&pu(r[X],r,i,e)}t[Hr]!==t[Tn]&&e.push(t[Hr])}var AT=[];function aM(t){return t[$r]??cM(t)}function cM(t){let e=AT.pop()??Object.create(lM);return e.lView=t,e}function uM(t){t.lView[$r]!==t&&(t.lView=null,AT.push(t))}var lM=Te(U({},gc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{bo(t.lView)},consumerOnSignalRead(){this.lView[$r]=this}}),RT=100;function NT(t,e=!0,n=0){let r=t[$t],i=r.rendererFactory,s=!1;s||i.begin?.();try{dM(t,n)}catch(o){throw e&&bT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function dM(t,e){yf(t,e);let n=0;for(;op(t);){if(n===RT)throw new j(103,!1);n++,yf(t,1)}}function hM(t,e,n,r){let i=e[q];if((i&256)===256)return;let s=!1;!s&&e[$t].inlineEffectRunner?.flush(),up(e);let o=null,a=null;!s&&fM(t)&&(a=aM(e),o=hh(a));try{bE(e),lN(t.bindingStartIndex),n!==null&&mT(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&Yc(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Jc(e,p,0,null),Lh(e,0)}if(pM(e),xT(e,0),t.contentQueries!==null&&ET(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&Yc(e,p)}else{let p=t.contentHooks;p!==null&&Jc(e,p,1),Lh(e,1)}Rx(t,e);let l=t.components;l!==null&&PT(e,l,0);let h=t.viewQuery;if(h!==null&&gf(2,h,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&Yc(e,p)}else{let p=t.viewHooks;p!==null&&Jc(e,p,2),Lh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[kh]){for(let p of e[kh])p();e[kh]=null}s||(e[q]&=-73)}catch(u){throw bo(e),u}finally{a!==null&&(fh(a,o),uM(a)),lp()}}function fM(t){return t.type!==2}function xT(t,e){for(let n=JE(t);n!==null;n=ZE(n))for(let r=gt;r<n.length;r++){let i=n[r];MT(i,e)}}function pM(t){for(let e=JE(t);e!==null;e=ZE(e)){if(!(e[q]&tp.HasTransplantedViews))continue;let n=e[ss];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ge];XR(i)}}}function gM(t,e,n){let r=ar(e,t);MT(r,n)}function MT(t,e){sp(t)&&yf(t,e)}function yf(t,e){let r=t[X],i=t[q],s=t[$r],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ph(s)),s&&(s.dirty=!1),t[q]&=-9217,o)hM(r,t,r.template,t[xt]);else if(i&8192){xT(t,1);let a=r.components;a!==null&&PT(t,a,1)}}function PT(t,e,n){for(let r=0;r<e.length;r++)gM(t,e[r],n)}function xp(t){for(t[$t].changeDetectionScheduler?.notify();t;){t[q]|=64;let e=Co(t);if(qR(t)&&!e)return t;t=e}return null}var Wr=class{get rootNodes(){let e=this._lView,n=e[X];return pu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xt]}set context(e){this._lView[xt]=e}get destroyed(){return(this._lView[q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ge];if(Dn(e)){let n=e[ou],r=n?n.indexOf(this):-1;r>-1&&(hu(e,r),ru(n,r))}this._attachedToViewContainer=!1}wp(this._lView[X],this._lView)}onDestroy(e){CE(this._lView,e)}markForCheck(){xp(this._cdRefInjectingView||this._lView)}detach(){this._lView[q]&=-129}reattach(){rf(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,NT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,aT(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,rf(this._lView)}},Kr=(()=>{class t{static{this.__NG_ELEMENT_ID__=vM}}return t})(),mM=Kr,yM=class extends mM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=CT(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Wr(i)}};function vM(){return $u(mt(),le())}function $u(t,e){return t.type&4?new yM(e,t,ds(t,e)):null}var aW=new RegExp(`^(\\d+)*(${GN}|${zN})*(.*)`);var _M=()=>null;function vf(t,e){return _M(t,e)}var gu=class{},_f=class{},mu=class{};function IM(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[wM]=t,e}var wM="ngComponent";var If=class{resolveComponentFactory(e){throw IM(e)}},Hu=(()=>{class t{static{this.NULL=new If}}return t})(),So=class{},Vo=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>EM()}}return t})();function EM(){let t=le(),e=mt(),n=ar(e.index,t);return(Vr(n)?n:t)[je]}var TM=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>null})}}return t})(),Bh={};var Sw=new Set;function hs(t){Sw.has(t)||(Sw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Aw(...t){}function DM(){let t=typeof jt.requestAnimationFrame=="function",e=jt[t?"requestAnimationFrame":"setTimeout"],n=jt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ge=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new At(!1),this.onMicrotaskEmpty=new At(!1),this.onStable=new At(!1),this.onError=new At(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=DM().nativeRequestAnimationFrame,SM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,bM,Aw,Aw);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},bM={};function Mp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function CM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wf(t),t.isCheckStableRunning=!0,Mp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wf(t))}function SM(t){let e=()=>{CM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(AM(a))return n.invokeTask(i,s,o,a);try{return Rw(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Nw(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Rw(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Nw(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,wf(t),Mp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function wf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Rw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nw(t){t._nesting--,Mp(t)}function AM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Zi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Zi||{}),RM={destroy(){}};function Pp(t,e){!e&&ep(Pp);let n=e?.injector??k(nt);if(!sx(n))return RM;hs("NgAfterNextRender");let r=n.get(Op),i=r.handler??=new Tf,s=e?.phase??Zi.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(ls).onDestroy(o),u=En(n,()=>new Ef(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var Ef=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(ge),this.errorHandler=k(Xt,{optional:!0}),k(gu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Tf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Zi.EarlyRead]:new Set,[Zi.Write]:new Set,[Zi.MixedReadWrite]:new Set,[Zi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Op=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}}return t})();function yu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=sw(i,a);else if(s==2){let u=a,l=e[++o];r=sw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var vu=class extends Hu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Br(e);return new Ao(n,this.ngModule)}};function xw(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function NM(t){let e=t.toLowerCase();return e==="svg"?TE:e==="math"?KR:null}var Df=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Cu(r);let i=this.injector.get(e,Bh,r);return i!==Bh||n===Bh?i:this.parentInjector.get(e,n,r)}},Ao=class extends mu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=xw(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return xw(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=SR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=fe(null);try{i=i||this.ngModule;let o=i instanceof Nt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Df(e,o):e,u=a.get(So,null);if(u===null)throw new j(407,!1);let l=a.get(TM,null),h=a.get(Op,null),p=a.get(gu,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},v=u.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",N=r?Mx(v,r,this.componentDef.encapsulation,a):oT(v,C,NM(C)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let P=null;N!==null&&(P=vp(N,a,!0));let B=Sp(0,null,null,1,0,null,null,null,null,null,null),V=ju(null,B,null,R,null,null,m,v,a,null,P);up(V);let H,ye;try{let W=this.componentDef,T,y=null;W.findHostDirectiveDefs?(T=[],y=new Map,W.findHostDirectiveDefs(W,T,y),T.push(W)):T=[W];let _=xM(V,N),E=MM(_,N,W,T,V,m,v);ye=rp(B,lt),N&&kM(v,W,N,r),n!==void 0&&LM(ye,this.ngContentSelectors,n),H=OM(E,W,T,y,V,[FM]),Np(B,V,null)}finally{lp()}return new bf(this.componentType,H,ds(ye,V),V,ye)}finally{fe(s)}}},bf=class extends _f{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Wr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Rp(s[X],s,i,e,n),this.previousInputValues.set(e,n);let o=ar(this._tNode.index,s);xp(o)}}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function xM(t,e){let n=t[X],r=lt;return t[r]=e,Fo(n,r,2,"#host",null)}function MM(t,e,n,r,i,s,o){let a=i[X];PM(r,t,e,o);let u=null;e!==null&&(u=vp(e,i[is]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=ju(i,yT(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&pf(a,t,r.length-1),Bu(i,p),i[t.index]=p}function PM(t,e,n,r){for(let i of t)e.mergedAttrs=wo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(yu(e,e.mergedAttrs,!0),n!==null&&hT(r,n,e))}function OM(t,e,n,r,i,s){let o=mt(),a=i[X],u=Pt(o,i);_T(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=Gr(i,a,p,o);rr(m,i)}IT(a,i,o),u&&rr(u,i);let l=Gr(i,a,o.directiveStart+o.componentOffset,o);if(t[xt]=i[xt]=l,s!==null)for(let h of s)h(l,e);return Dp(a,o,i),l}function kM(t,e,n,r){if(r)Zh(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=AR(e.selectors[0]);i&&Zh(t,n,i),s&&s.length>0&&dT(t,n,s.join(" "))}}function LM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function FM(){let t=mt();Lu(le()[X],t)}var cr=(()=>{class t{static{this.__NG_ELEMENT_ID__=VM}}return t})();function VM(){let t=mt();return kT(t,le())}var UM=cr,OT=class extends UM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ds(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){let e=hp(this._hostTNode,this._hostLView);if(VE(e)){let n=cu(e,this._hostLView),r=au(e),i=n[X].data[r+8];return new Ur(i,n)}else return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Mw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=vf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,mf(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!HR(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new Ao(Br(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(Nt,null);N&&(s=N)}let h=Br(u.componentType??{}),p=vf(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,mf(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ZR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ge],l=new OT(u,u[Ht],u[Ge]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return ST(o,i,s,r),e.attachToViewContainerRef(),Xw($h(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Mw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=hu(this._lContainer,n);r&&(ru($h(this._lContainer),n),wp(r[X],r))}detach(e){let n=this._adjustIndex(e,-1),r=hu(this._lContainer,n);return r&&ru($h(this._lContainer),n)!=null?new Wr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Mw(t){return t[ou]}function $h(t){return t[ou]||(t[ou]=[])}function kT(t,e){let n,r=e[t.index];return Dn(r)?n=r:(n=wT(r,e,null,t),e[t.index]=n,Bu(e,n)),BM(n,e,t,r),new OT(n,t,e)}function jM(t,e){let n=t[je],r=n.createComment(""),i=Pt(e,t),s=Ep(n,i);return fu(n,s,r,Ix(n,i),!1),r}var BM=qM,$M=()=>!1;function HM(t,e,n){return $M(t,e,n)}function qM(t,e,n,r){if(t[Hr])return;let i;n.type&8?i=Zt(r):i=jM(e,n),t[Hr]=i}var Cf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Sf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)kp(e,n).matches!==null&&this.queries[n].setDirty()}},Af=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=ZM(e):this.predicate=e}},Rf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Nf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,zM(n,s)),this.matchTNodeWithReadOption(e,n,Zc(n,e,s,!1,!1))}else r===Kr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Zc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===bn||i===cr||i===Kr&&n.type&4)this.addMatch(n.index,-2);else{let s=Zc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function zM(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function GM(t,e){return t.type&11?ds(t,e):t.type&4?$u(t,e):null}function WM(t,e,n,r){return n===-1?GM(e,t):n===-2?KM(t,e,r):Gr(t,t[X],n,e)}function KM(t,e,n){if(n===bn)return ds(e,t);if(n===Kr)return $u(e,t);if(n===cr)return kT(e,t)}function LT(t,e,n,r){let i=e[In].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(WM(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function xf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=LT(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=gt;p<h.length;p++){let m=h[p];m[Po]===m[Ge]&&xf(m[X],m,l,r)}if(h[ss]!==null){let p=h[ss];for(let m=0;m<p.length;m++){let v=p[m];xf(v[X],v,l,r)}}}}}return r}function QM(t,e){return t[In].queries[e].queryList}function YM(t,e,n){let r=new df((n&4)===4);return kx(t,e,r,r.destroy),(e[In]??=new Sf).queries.push(new Cf(r))-1}function JM(t,e,n){let r=We();return r.firstCreatePass&&(XM(r,new Af(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),YM(r,le(),e)}function ZM(t){return t.split(",").map(e=>e.trim())}function XM(t,e,n){t.queries===null&&(t.queries=new Rf),t.queries.track(new Nf(e,n))}function kp(t,e){return t.queries.getByIndex(e)}function eP(t,e){let n=t[X],r=kp(n,e);return r.crossesNgTemplate?xf(n,t,e,[]):LT(n,t,r,e)}function Zr(t,e){hs("NgSignals");let n=MI(t),r=n[Kn];return e?.equal&&(r.equal=e.equal),n.set=i=>gh(r,i),n.update=i=>PI(r,i),n.asReadonly=tP.bind(n),n}function tP(){let t=this[Kn];if(t.readonlyFn===void 0){let e=()=>this();e[Kn]=t,t.readonlyFn=e}return t.readonlyFn}function nP(t){return Object.getPrototypeOf(t.prototype).constructor}function rP(t){let e=nP(t.type),n=!0,r=[t];for(;e;){let i;if(nr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Wc(t.inputs),o.inputTransforms=Wc(t.inputTransforms),o.declaredInputs=Wc(t.declaredInputs),o.outputs=Wc(t.outputs);let a=i.hostBindings;a&&cP(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&oP(t,u),l&&aP(t,l),iP(t,i),WA(t.outputs,i.outputs),nr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===rP&&(n=!1)}}e=Object.getPrototypeOf(e)}sP(r)}function iP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function sP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wo(i.hostAttrs,n=wo(n,i.hostAttrs))}}function Wc(t){return t===ts?{}:t===St?[]:t}function oP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function aP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function cP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Lp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ir=class{},Ro=class{};var Mf=class extends ir{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vu(this);let i=uE(e);this._bootstrapComponents=sT(i.bootstrap),this._r3Injector=WE(e,n,[{provide:ir,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Pf=class extends Ro{constructor(e){super(),this.moduleType=e}create(e){return new Mf(this.moduleType,e,[])}};var _u=class extends ir{constructor(e){super(),this.componentFactoryResolver=new vu(this),this.instance=null;let n=new Eo([...e.providers,{provide:ir,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver}],e.parent||Xf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Fp(t,e,n=null){return new _u({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var qu=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function FT(t){return Vp(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function uP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Vp(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Up(t,e,n){return t[e]=n}function lP(t,e){return t[e]}function sr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function dP(t,e,n,r){let i=sr(t,e,n);return sr(t,e+1,r)||i}function hP(t){return(t.flags&32)===32}function fP(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Fo(e,t,4,o||null,os(l,a));Ap(e,n,h,os(l,u)),Lu(e,h);let p=h.tView=Sp(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function pP(t,e,n,r,i,s,o,a){let u=le(),l=We(),h=t+lt,p=l.firstCreatePass?fP(h,l,u,e,n,r,i,s,o):l.data[h];Jr(p,!1);let m=gP(l,u,p,t);Ou()&&Vu(l,u,m,p),rr(m,u);let v=wT(m,u,m,p);return u[h]=v,Bu(u,v),HM(v,p,u),Mu(p)&&bp(l,u,p),o!=null&&Cp(u,p,a),pP}var gP=mP;function mP(t,e,n,r){return ku(!0),e[je].createComment("")}function jp(t,e,n,r){let i=le(),s=Pu();if(sr(i,s,e)){let o=We(),a=dp();Yx(a,i,t,e,n,r)}return jp}function VT(t,e,n,r){return sr(t,Pu(),n)?e+bu(n)+r:Sn}function Kc(t,e){return t<<17|e<<2}function Qr(t){return t>>17&32767}function yP(t){return(t&2)==2}function vP(t,e){return t&131071|e<<17}function Of(t){return t|2}function as(t){return(t&131068)>>2}function Hh(t,e){return t&-131069|e<<2}function _P(t){return(t&1)===1}function kf(t){return t|1}function IP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Qr(o),u=as(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Mo(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Qr(t[a+1]);t[r+1]=Kc(m,a),m!==0&&(t[m+1]=Hh(t[m+1],r)),t[a+1]=vP(t[a+1],r)}else t[r+1]=Kc(a,0),a!==0&&(t[a+1]=Hh(t[a+1],r)),a=r;else t[r+1]=Kc(u,0),a===0?a=r:t[u+1]=Hh(t[u+1],r),u=r;l&&(t[r+1]=Of(t[r+1])),Pw(t,h,r,!0),Pw(t,h,r,!1),wP(e,h,t,r,s),o=Kc(a,u),s?e.classBindings=o:e.styleBindings=o}function wP(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Mo(s,e)>=0&&(n[r+1]=kf(n[r+1]))}function Pw(t,e,n,r){let i=t[n+1],s=e===null,o=r?Qr(i):as(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];EP(u,e)&&(a=!0,t[o+1]=r?kf(l):Of(l)),o=r?Qr(l):as(l)}a&&(t[n+1]=r?Of(i):kf(i))}function EP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Mo(t,e)>=0:!1}function TP(t,e,n){let r=le(),i=Pu();if(sr(r,i,e)){let s=We(),o=dp();vT(s,o,r,t,e,r[je],n,!1)}return TP}function Ow(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Rp(t,n,s[o],o,r)}function DP(t,e){return bP(t,e,null,!0),DP}function bP(t,e,n,r){let i=le(),s=We(),o=dN(2);if(s.firstUpdatePass&&SP(s,t,o,r),e!==Sn&&sr(i,o,e)){let a=s.data[us()];MP(s,a,i,i[je],t,i[o+1]=PP(e,n),r,o)}}function CP(t,e){return e>=t.expandoStartIndex}function SP(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[us()],o=CP(t,n);OP(s,r)&&e===null&&!o&&(e=!1),e=AP(i,s,e,r),IP(i,s,e,n,o,r)}}function AP(t,e,n,r){let i=gN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=qh(null,t,e,n,r),n=No(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=qh(i,t,e,n,r),s===null){let u=RP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=qh(null,t,e,u[1],r),u=No(u,e.attrs,r),NP(t,e,r,u))}else s=xP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function RP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(as(r)!==0)return t[Qr(r)]}function NP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Qr(i)]=r}function xP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=No(r,o,n)}return No(r,e.attrs,n)}function qh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=No(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function No(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),gR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function MP(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=_P(l)?kw(u,e,n,i,as(l),o):void 0;if(!Iu(h)){Iu(s)||yP(l)&&(s=kw(u,null,n,i,a,o));let p=DE(us(),n);Sx(r,o,p,i,s)}}function kw(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Sn&&(m=p?St:void 0);let v=p?Ph(m,r):h===r?m:void 0;if(l&&!Iu(v)&&(v=Ph(u,r)),Iu(v)&&(a=v,o))return a;let C=t[i+1];i=o?Qr(C):as(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Ph(u,r))}return a}function Iu(t){return t!==void 0}function PP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ut(Lo(t)))),t}function OP(t,e){return(t.flags&(e?8:16))!==0}function uW(t,e,n){hs("NgControlFlow");let r=le(),i=Pu(),s=kP(r,lt+t),o=0;if(sr(r,i,e)){let a=fe(null);try{if(sM(s,o),e!==-1){let u=LP(r[X],lt+e),l=vf(s,u.tView.ssrId),h=CT(r,u,n,{dehydratedView:l});ST(s,h,o,mf(u,l))}}finally{fe(a)}}else{let a=iM(s,o);a!==void 0&&(a[xt]=n)}}function kP(t,e){return t[e]}function LP(t,e){return rp(t,e)}function FP(t,e,n,r,i,s){let o=e.consts,a=os(o,i),u=Fo(e,t,2,r,a);return Ap(e,n,u,os(o,s)),u.attrs!==null&&yu(u,u.attrs,!1),u.mergedAttrs!==null&&yu(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function UT(t,e,n,r){let i=le(),s=We(),o=lt+t,a=i[je],u=s.firstCreatePass?FP(o,s,i,e,n,r):s.data[o],l=VP(s,i,u,a,e,t);i[o]=l;let h=Mu(u);return Jr(u,!0),hT(a,l,u),!hP(u)&&Ou()&&Vu(s,i,l,u),nN()===0&&rr(l,i),rN(),h&&(bp(s,i,u),Dp(s,u,i)),r!==null&&Cp(i,u),UT}function jT(){let t=mt();ap()?RE():(t=t.parent,Jr(t,!1));let e=t;oN(e)&&aN(),iN();let n=We();return n.firstCreatePass&&(Lu(n,t),np(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&TN(e)&&Ow(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DN(e)&&Ow(n,e,le(),e.stylesWithoutHost,!1),jT}function Bp(t,e,n,r){return UT(t,e,n,r),jT(),Bp}var VP=(t,e,n,r,i,s)=>(ku(!0),oT(r,i,_N()));function UP(t,e,n,r,i){let s=e.consts,o=os(s,r),a=Fo(e,t,8,"ng-container",o);o!==null&&yu(a,o,!0);let u=os(s,i);return Ap(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function jP(t,e,n){let r=le(),i=We(),s=t+lt,o=i.firstCreatePass?UP(s,i,r,e,n):i.data[s];Jr(o,!0);let a=$P(i,r,o,t);return r[s]=a,Ou()&&Vu(i,r,a,o),rr(a,r),Mu(o)&&(bp(i,r,o),Dp(i,o,r)),n!=null&&Cp(r,o),jP}function BP(){let t=mt(),e=We();return ap()?RE():(t=t.parent,Jr(t,!1)),e.firstCreatePass&&(Lu(e,t),np(t)&&e.queries.elementEnd(t)),BP}var $P=(t,e,n,r)=>(ku(!0),ux(e[je],""));function lW(){return le()}var Fr=void 0;function HP(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var qP=["en",[["a","p"],["AM","PM"],Fr],[["AM","PM"],Fr,Fr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fr,"{1} 'at' {0}",Fr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",HP],zh={};function zu(t){let e=zP(t),n=Lw(e);if(n)return n;let r=e.split("-")[0];if(n=Lw(r),n)return n;if(r==="en")return qP;throw new j(701,!1)}function Lw(t){return t in zh||(zh[t]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[t]),zh[t]}var Xr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Xr||{});function zP(t){return t.toLowerCase().replace(/_/g,"-")}var wu="en-US",GP="USD";var WP=wu;function KP(t){typeof t=="string"&&(WP=t.toLowerCase().replace(/_/g,"-"))}function $p(t,e,n,r){let i=le(),s=We(),o=mt();return YP(s,i,i[je],o,t,e,r),$p}function QP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[To],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function YP(t,e,n,r,i,s,o){let a=Mu(r),l=t.firstCreatePass&&DT(t),h=e[xt],p=TT(e),m=!0;if(r.type&3||o){let N=Pt(r,e),R=o?o(N):N,P=p.length,B=o?H=>o(Zt(H[r.index])):r.index,V=null;if(!o&&a&&(V=QP(t,e,i,r.index)),V!==null){let H=V.__ngLastListenerFn__||V;H.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,m=!1}else{s=Vw(r,e,h,s,!1);let H=n.listen(R,i,s);p.push(s,H),l&&l.push(i,B,P,P+1)}}else s=Vw(r,e,h,s,!1);let v=r.outputs,C;if(m&&v!==null&&(C=v[i])){let N=C.length;if(N)for(let R=0;R<N;R+=2){let P=C[R],B=C[R+1],ye=e[P][B].subscribe(s),W=p.length;p.push(s,ye),l&&l.push(i,r.index,W,-(W+1))}}}function Fw(t,e,n,r){let i=fe(null);try{return Kt(6,e,n),n(r)!==!1}catch(s){return bT(t,s),!1}finally{Kt(7,e,n),fe(i)}}function Vw(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?ar(t.index,e):e;xp(a);let u=Fw(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=Fw(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function dW(t=1){return yN(t)}function JP(t,e,n){return BT(t,"",e,"",n),JP}function BT(t,e,n,r,i){let s=le(),o=VT(s,e,n,r);if(o!==Sn){let a=We(),u=dp();vT(a,u,s,t,o,s[je],i,!1)}return BT}function hW(t,e,n){JM(t,e,n)}function ZP(t){let e=le(),n=We(),r=NE();cp(r+1);let i=kp(n,r);if(t.dirty&&JR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=eP(e,r);t.reset(s,FN),t.notifyOnChanges()}return!0}return!1}function XP(){return QM(le(),NE())}function eO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function fW(t){let e=uN();return ip(e,lt+t)}function pW(t,e=""){let n=le(),r=We(),i=t+lt,s=r.firstCreatePass?Fo(r,i,1,e,null):r.data[i],o=tO(r,n,s,e,t);n[i]=o,Ou()&&Vu(r,n,o,s),Jr(s,!1)}var tO=(t,e,n,r,i)=>(ku(!0),ax(e[je],r));function nO(t){return $T("",t,""),nO}function $T(t,e,n){let r=le(),i=VT(r,t,e,n);return i!==Sn&&eM(r,us(),i),$T}function rO(t,e,n){let r=We();if(r.firstCreatePass){let i=nr(t);Lf(n,r.data,r.blueprint,i,!0),Lf(e,r.data,r.blueprint,i,!1)}}function Lf(t,e,n,r,i){if(t=ct(t),Array.isArray(t))for(let s=0;s<t.length;s++)Lf(t[s],e,n,r,i);else{let s=We(),o=le(),a=mt(),u=rs(t)?t:ct(t.provide),l=gE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(rs(t)||!t.multi){let v=new zr(l,i,xe),C=Wh(u,e,i?h:h+m,p);C===-1?(af(lu(a,o),s,u),Gh(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[C]=v,o[C]=v)}else{let v=Wh(u,e,h+m,p),C=Wh(u,e,h,h+m),N=v>=0&&n[v],R=C>=0&&n[C];if(i&&!R||!i&&!N){af(lu(a,o),s,u);let P=oO(i?sO:iO,n.length,i,r,l);!i&&R&&(n[C].providerFactory=P),Gh(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(P),o.push(P)}else{let P=HT(n[i?C:v],l,!i&&r);Gh(s,t,v>-1?v:C,P)}!i&&r&&R&&n[C].componentProviders++}}}function Gh(t,e,n,r){let i=rs(e),s=LR(e);if(i||s){let u=(s?ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function HT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function iO(t,e,n,r){return Ff(this.multi,[])}function sO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Gr(n,n[X],this.providerFactory.index,r);s=a.slice(0,o),Ff(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ff(i,s);return s}function Ff(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function oO(t,e,n,r,i){let s=new zr(t,n,xe);return s.multi=[],s.index=e,s.componentProviders=0,HT(s,i,r&&!n),s}function gW(t,e=[]){return n=>{n.providersResolver=(r,i)=>rO(r,i?i(t):t,e)}}var aO=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=hE(!1,n.type),i=r.length>0?Fp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(ae(Nt))})}}return t})();function qT(t){hs("NgStandalone"),t.getStandaloneInjector=e=>e.get(aO).getOrCreateStandaloneInjector(t)}function mW(t,e,n){let r=ko()+t,i=le();return i[r]===Sn?Up(i,r,n?e.call(n):e()):lP(i,r)}function yW(t,e,n,r){return GT(le(),ko(),t,e,n,r)}function vW(t,e,n,r,i){return WT(le(),ko(),t,e,n,r,i)}function zT(t,e){let n=t[e];return n===Sn?void 0:n}function GT(t,e,n,r,i,s){let o=e+n;return sr(t,o,i)?Up(t,o+1,s?r.call(s,i):r(i)):zT(t,o+1)}function WT(t,e,n,r,i,s,o){let a=e+n;return dP(t,a,i,s)?Up(t,a+2,o?r.call(o,i,s):r(i,s)):zT(t,a+2)}function _W(t,e){let n=We(),r,i=t+lt;n.firstCreatePass?(r=cO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=jr(r.type,!0)),o,a=pt(xe);try{let u=uu(!1),l=s();return uu(u),eO(n,le(),i,l),l}finally{pt(a)}}function cO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function IW(t,e,n){let r=t+lt,i=le(),s=ip(i,r);return KT(i,r)?GT(i,ko(),e,s.transform,n,s):s.transform(n)}function wW(t,e,n,r){let i=t+lt,s=le(),o=ip(s,i);return KT(s,i)?WT(s,ko(),e,o.transform,n,r,o):o.transform(n,r)}function KT(t,e){return t[X].data[e].pure}function EW(t,e){return $u(t,e)}var or=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},QT=new or("17.3.12"),Gu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var YT=new Q("");function Uo(t){return!!t&&typeof t.then=="function"}function JT(t){return!!t&&typeof t.subscribe=="function"}var ZT=new Q(""),XT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(ZT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Uo(s))n.push(s);else if(JT(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hp=new Q("");function uO(){xI(()=>{throw new j(600,!1)})}function lO(t){return t.isBoundToModule}function dO(t,e,n){try{let r=n();return Uo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var jo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(KE),this.afterRenderEffectManager=k(Op),this.externalTestViews=new Set,this.beforeRender=new tt,this.afterTick=new tt,this.componentTypes=[],this.components=[],this.isStable=k(qu).hasPendingTasks.pipe(ie(n=>!n)),this._injector=k(Nt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof mu;if(!this._injector.get(XT).done){let m=!i&&cE(n),v=!1;throw new j(405,v)}let o;i?o=n:o=this._injector.get(Hu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=lO(o)?void 0:this._injector.get(ir),u=r||o.selector,l=o.create(nt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(YT,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Kh(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new j(101,!1);let r=fe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,fe(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===RT)throw new j(103,!1);if(n){let s=r===0;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)hO(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Vf(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Vf(s))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Kh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Hp,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Kh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Kh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function hO(t,e,n){!e&&!Vf(t)||fO(t,n,e)}function Vf(t){return op(t)}function fO(t,e,n){let r;n?(r=0,t[q]|=1024):t[q]&64?r=0:r=1,NT(t,e,r)}var Uf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},qp=(()=>{class t{compileModuleSync(n){return new Pf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=uE(n),s=sT(i.declarations).reduce((o,a)=>{let u=Br(a);return u&&o.push(new Ao(u)),o},[]);return new Uf(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var pO=(()=>{class t{constructor(){this.zone=k(ge),this.applicationRef=k(jo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function gO(t){return[{provide:ge,useFactory:t},{provide:ns,multi:!0,useFactory:()=>{let e=k(pO,{optional:!0});return()=>e.initialize()}},{provide:ns,multi:!0,useFactory:()=>{let e=k(_O);return()=>{e.initialize()}}},{provide:KE,useFactory:mO}]}function mO(){let t=k(ge),e=k(Xt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function yO(t){let e=gO(()=>new ge(vO(t)));return Mt([[],e])}function vO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var _O=(()=>{class t{constructor(){this.subscription=new Re,this.initialized=!1,this.zone=k(ge),this.pendingTasks=k(qu)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function IO(){return typeof $localize<"u"&&$localize.locale||wu}var Wu=new Q("",{providedIn:"root",factory:()=>k(Wu,re.Optional|re.SkipSelf)||IO()}),eD=new Q("",{providedIn:"root",factory:()=>GP});var tD=new Q("");var eu=null;function wO(t=[],e){return nt.create({name:e,providers:[{provide:Ru,useValue:"platform"},{provide:tD,useValue:new Set([()=>eu=null])},...t]})}function EO(t=[]){if(eu)return eu;let e=wO(t);return eu=e,uO(),TO(e),e}function TO(t){t.get(mp,null)?.forEach(n=>n())}var Bo=(()=>{class t{static{this.__NG_ELEMENT_ID__=DO}}return t})();function DO(t){return bO(mt(),le(),(t&16)===16)}function bO(t,e,n){if(xu(t)&&!n){let r=ar(t.index,e);return new Wr(r,r)}else if(t.type&47){let r=e[Jt];return new Wr(r,e)}return null}var jf=class{constructor(){}supports(e){return FT(e)}create(e){return new Bf(e)}},CO=(t,e)=>e,Bf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||CO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Uw(r,i,s)?n:r,a=Uw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<s.length?s[m]:s[m]=0,C=v+m;h<=C&&C<l&&(s[m]=v+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!FT(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,uP(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new $f(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Eu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Eu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},$f=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Hf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Eu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Hf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Uw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var qf=class{constructor(){}supports(e){return e instanceof Map||Vp(e)}create(){return new zf}},zf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Vp(e)))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Gf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Gf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function jw(){return new zp([new jf])}var zp=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:jw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||jw()),deps:[[t,new Qf,new Ne]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new j(901,!1)}}return t})();function Bw(){return new Gp([new qf])}var Gp=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:Bw})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Bw()),deps:[[t,new Qf,new Ne]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new j(901,!1)}}return t})();function nD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=EO(r),s=[yO(),...n||[]],a=new _u({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(ge);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Xt,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>a.destroy(),m=i.get(tD);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),dO(l,u,()=>{let v=a.get(XT);return v.runInitializers(),v.donePromise.then(()=>{let C=a.get(Wu,wu);KP(C||wu);let N=a.get(jo);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function $o(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ho(t,e){hs("NgSignals");let n=AI(t);return e?.equal&&(n[Kn].equal=e.equal),n}var dD=null;function fs(){return dD}function hD(t){dD??=t}var Ku=class{};var Et=new Q(""),fD=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>k(AO),providedIn:"platform"})}}return t})();var AO=(()=>{class t extends fD{constructor(){super(),this._doc=k(Et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fs().getBaseHref(this._doc)}onPopState(n){let r=fs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=fs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function pD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function rD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ei(t){return t&&t[0]!=="?"?"?"+t:t}var ps=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>k(gD),providedIn:"root"})}}return t})(),RO=new Q(""),gD=(()=>{class t extends ps{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return pD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ei(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ei(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ei(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ae(fD),ae(RO,8))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Wo=(()=>{class t{constructor(n){this._subject=new At,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=MO(rD(iD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ei(r))}normalize(n){return t.stripTrailingSlash(xO(this._basePath,iD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ei(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ei(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=ei}static{this.joinWithSlash=pD}static{this.stripTrailingSlash=rD}static{this.\u0275fac=function(r){return new(r||t)(ae(ps))}}static{this.\u0275prov=z({token:t,factory:()=>NO(),providedIn:"root"})}}return t})();function NO(){return new Wo(ae(ps))}function xO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function iD(t){return t.replace(/\/index.html$/,"")}function MO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var mD={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},yD=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(yD||{});var An={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function zo(t,e){let n=zu(t),r=n[Xr.NumberSymbols][e];if(typeof r>"u"){if(e===An.CurrencyDecimal)return n[Xr.NumberSymbols][An.Decimal];if(e===An.CurrencyGroup)return n[Xr.NumberSymbols][An.Group]}return r}function PO(t,e){return zu(t)[Xr.NumberFormats][e]}function OO(t){return zu(t)[Xr.Currencies]}function kO(t,e,n="en"){let r=OO(n)[t]||mD[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var LO=2;function FO(t){let e,n=mD[t];return n&&(e=n[2]),typeof e=="number"?e:LO}var VO=/^(\d+)?\.((\d+)(-(\d+))?)?$/,sD=22,Qu=".",Go="0",UO=";",jO=",",Wp="#",oD="\xA4";function BO(t,e,n,r,i,s,o=!1){let a="",u=!1;if(!isFinite(t))a=zo(n,An.Infinity);else{let l=zO(t);o&&(l=qO(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(s){let B=s.match(VO);if(B===null)throw new Error(`${s} is not a valid digit info`);let V=B[1],H=B[3],ye=B[5];V!=null&&(h=Kp(V)),H!=null&&(p=Kp(H)),ye!=null?m=Kp(ye):H!=null&&p>m&&(m=p)}GO(l,p,m);let v=l.digits,C=l.integerLen,N=l.exponent,R=[];for(u=v.every(B=>!B);C<h;C++)v.unshift(0);for(;C<0;C++)v.unshift(0);C>0?R=v.splice(C,v.length):(R=v,v=[0]);let P=[];for(v.length>=e.lgSize&&P.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)P.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&P.unshift(v.join("")),a=P.join(zo(n,r)),R.length&&(a+=zo(n,i)+R.join("")),N&&(a+=zo(n,An.Exponential)+"+"+N)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function $O(t,e,n,r,i){let s=PO(e,yD.Currency),o=HO(s,zo(e,An.MinusSign));return o.minFrac=FO(r),o.maxFrac=o.minFrac,BO(t,o,e,An.CurrencyGroup,An.CurrencyDecimal,i).replace(oD,n).replace(oD,"").trim()}function HO(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(UO),i=r[0],s=r[1],o=i.indexOf(Qu)!==-1?i.split(Qu):[i.substring(0,i.lastIndexOf(Go)+1),i.substring(i.lastIndexOf(Go)+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf(Wp));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Go?n.minFrac=n.maxFrac=h+1:p===Wp?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(jO);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let h=i.length-n.posPre.length-n.posSuf.length,p=s.indexOf(Wp);n.negPre=s.substring(0,p).replace(/'/g,""),n.negSuf=s.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function qO(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function zO(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(Qu))>-1&&(e=e.replace(Qu,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Go;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Go;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>sD&&(r=r.splice(0,sD-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function GO(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let p=o;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let p=1;p<o;p++)r[p]=0}if(a>=5)if(o-1<0){for(let p=0;p>o;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=s!==0,l=e+t.integerLen,h=r.reduceRight(function(p,m,v,C){return m=m+p,C[v]=m<10?m:m-10,u&&(C[v]===0&&v>=l?C.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Kp(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function vD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Qp=/\s+/,aD=[],$W=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=aD,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Qp):aD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Qp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Qp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(xe(bn),xe(Vo))}}static{this.\u0275dir=Yr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Rt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Yp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},HW=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Yp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),cD(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);cD(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(xe(cr),xe(Kr),xe(zp))}}static{this.\u0275dir=Yr({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function cD(t,e){t.context.$implicit=e.item}var qW=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Jp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){uD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){uD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(xe(cr),xe(Kr))}}static{this.\u0275dir=Yr({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Jp=class{constructor(){this.$implicit=null,this.ngIf=null}};function uD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ut(e)}'.`)}function _D(t,e){return new j(2100,!1)}var WO=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,zW=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw _D(t,n);return n.replace(WO,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Au({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();function KO(t,e){return{key:t,value:e}}var GW=(()=>{class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=lD}transform(n,r=lD){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let i=this.differ.diff(n),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(KO(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||t)(xe(Gp,16))}}static{this.\u0275pipe=Au({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function lD(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),s=String(r);return i==s?0:i<s?-1:1}var WW=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!QO(n))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=kO(a,i==="symbol"?"wide":"narrow",o):a=i);try{let u=YO(n);return $O(u,o,a,r,s)}catch(u){throw _D(t,u.message)}}static{this.\u0275fac=function(r){return new(r||t)(xe(Wu,16),xe(eD,16))}}static{this.\u0275pipe=Au({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function QO(t){return!(t==null||t===""||t!==t)}function YO(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var JO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Su({type:t})}static{this.\u0275inj=Tu({})}}return t})(),ID="browser",ZO="server";function Zp(t){return t===ZO}var Yu=class{};var tg=class extends Ku{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ng=class t extends tg{static makeCurrent(){hD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ek();return n==null?null:tk(n)}resetBaseElement(){Ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vD(document.cookie,e)}},Ko=null;function ek(){return Ko=Ko||document.querySelector("base"),Ko?Ko.getAttribute("href"):null}function tk(t){return new URL(t,document.baseURI).pathname}var nk=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),rg=new Q(""),DD=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(ae(rg),ae(ge))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),Ju=class{constructor(e){this._doc=e}},Xp="ng-app-id",bD=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zp(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Xp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Xp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Xp,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(ae(Et),ae(gp),ae(yp,8),ae(Cn))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),eg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sg=/%COMP%/g,CD="%COMP%",rk=`_nghost-${CD}`,ik=`_ngcontent-${CD}`,sk=!0,ok=new Q("",{providedIn:"root",factory:()=>sk});function ak(t){return ik.replace(sg,t)}function ck(t){return rk.replace(sg,t)}function SD(t,e){return e.map(n=>n.replace(sg,t))}var wD=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Zp(a),this.defaultRenderer=new Qo(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yt.ShadowDom&&(r=Te(U({},r),{encapsulation:Yt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Zu?i.applyToHost(n):i instanceof Yo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Yt.Emulated:s=new Zu(u,l,r,this.appId,h,o,a,p);break;case Yt.ShadowDom:return new ig(u,l,n,r,o,a,this.nonce,p);default:s=new Yo(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(ae(DD),ae(bD),ae(gp),ae(ok),ae(Et),ae(Cn),ae(ge),ae(yp))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),Qo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(eg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ED(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ED(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=eg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=eg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(wn.DashCase|wn.Important)?e.style.setProperty(n,r,i&wn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&wn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=fs().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ED(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ig=class extends Qo{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=SD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yo=class extends Qo{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?SD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zu=class extends Yo{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=ak(l),this.hostAttr=ck(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},uk=(()=>{class t extends Ju{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(ae(Et))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),TD=["alt","control","meta","shift"],lk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},hk=(()=>{class t extends Ju{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),TD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=lk[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),TD.forEach(o=>{if(o!==i){let a=dk[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(ae(Et))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();function v9(t,e){return nD(U({rootComponent:t},fk(e)))}function fk(t){return{appProviders:[...vk,...t?.providers??[]],platformProviders:yk}}function pk(){ng.makeCurrent()}function gk(){return new Xt}function mk(){return eT(document),document}var yk=[{provide:Cn,useValue:ID},{provide:mp,useValue:pk,multi:!0},{provide:Et,useFactory:mk,deps:[]}];var vk=[{provide:Ru,useValue:"root"},{provide:Xt,useFactory:gk,deps:[]},{provide:rg,useClass:uk,multi:!0,deps:[Et,ge,Cn]},{provide:rg,useClass:hk,multi:!0,deps:[Et]},wD,bD,DD,{provide:So,useExisting:wD},{provide:Yu,useClass:nk,deps:[]},[]];var AD=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(ae(Et))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ne="primary",da=Symbol("RouteTitle"),lg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _s(t){return new lg(t)}function Ik(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!en(t[n],e[n]))return!1;return!0}function en(t,e){let n=t?dg(t):void 0,r=e?dg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!OD(t[i],e[i]))return!1;return!0}function dg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function OD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function kD(t){return t.length>0?t[t.length-1]:null}function hr(t){return Ah(t)?t:Uo(t)?Pe(Promise.resolve(t)):Z(t)}var Ek={exact:FD,subset:VD},LD={exact:Tk,subset:Dk,ignored:()=>!0};function RD(t,e,n){return Ek[n.paths](t.root,e.root,n.matrixParams)&&LD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Tk(t,e){return en(t,e)}function FD(t,e,n){if(!ni(t.segments,e.segments)||!tl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!FD(t.children[r],e.children[r],n))return!1;return!0}function Dk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OD(t[n],e[n]))}function VD(t,e,n){return UD(t,e,e.segments,n)}function UD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ni(i,n)||e.hasChildren()||!tl(i,n,r))}else if(t.segments.length===n.length){if(!ni(t.segments,n)||!tl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!VD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ni(t.segments,i)||!tl(t.segments,i,r)||!t.children[ne]?!1:UD(t.children[ne],e,s,r)}}function tl(t,e,n){return e.every((r,i)=>LD[n](t[i].parameters,r.parameters))}var ur=class{constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){return Sk.serialize(this)}},ve=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nl(this)}},ti=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_s(this.parameters),this._parameterMap}toString(){return BD(this)}};function bk(t,e){return ni(t,e)&&t.every((n,r)=>en(n.parameters,e[r].parameters))}function ni(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Ck(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var Fg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>new il,providedIn:"root"})}}return t})(),il=class{parse(e){let n=new fg(e);return new ur(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Jo(e.root,!0)}`,r=Nk(e.queryParams),i=typeof e.fragment=="string"?`#${Ak(e.fragment)}`:"";return`${n}${r}${i}`}},Sk=new il;function nl(t){return t.segments.map(e=>BD(e)).join("/")}function Jo(t,e){if(!t.hasChildren())return nl(t);if(e){let n=t.children[ne]?Jo(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ne&&r.push(`${i}:${Jo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Ck(t,(r,i)=>i===ne?[Jo(t.children[ne],!1)]:[`${i}:${Jo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${nl(t)}/${n[0]}`:`${nl(t)}/(${n.join("//")})`}}function jD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xu(t){return jD(t).replace(/%3B/gi,";")}function Ak(t){return encodeURI(t)}function hg(t){return jD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rl(t){return decodeURIComponent(t)}function ND(t){return rl(t.replace(/\+/g,"%20"))}function BD(t){return`${hg(t.path)}${Rk(t.parameters)}`}function Rk(t){return Object.entries(t).map(([e,n])=>`;${hg(e)}=${hg(n)}`).join("")}function Nk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Xu(n)}=${Xu(i)}`).join("&"):`${Xu(n)}=${Xu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var xk=/^[^\/()?;#]+/;function og(t){let e=t.match(xk);return e?e[0]:""}var Mk=/^[^\/()?;=#]+/;function Pk(t){let e=t.match(Mk);return e?e[0]:""}var Ok=/^[^=?&#]+/;function kk(t){let e=t.match(Ok);return e?e[0]:""}var Lk=/^[^&#]+/;function Fk(t){let e=t.match(Lk);return e?e[0]:""}var fg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new ve(e,n)),r}parseSegment(){let e=og(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new ti(rl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Pk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=og(this.remaining);i&&(r=i,this.capture(r))}e[rl(n)]=rl(r)}parseQueryParam(e){let n=kk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Fk(this.remaining);o&&(r=o,this.capture(r))}let i=ND(n),s=ND(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=og(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ne]:new ve([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function $D(t){return t.segments.length>0?new ve([],{[ne]:t}):t}function HD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=HD(i);if(r===ne&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ve(t.segments,e);return Vk(n)}function Vk(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new ve(t.segments.concat(e.segments),e.children)}return t}function Is(t){return t instanceof ur}function Uk(t,e,n=null,r=null){let i=qD(t);return zD(i,e,n,r)}function qD(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new ve(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=$D(r);return e??i}function zD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ag(i,i,i,n,r);let s=jk(e);if(s.toRoot())return ag(i,i,new ve([],{}),n,r);let o=Bk(s,i,t),a=o.processChildren?ea(o.segmentGroup,o.index,s.commands):WD(o.segmentGroup,o.index,s.commands);return ag(i,o.segmentGroup,a,n,r)}function sl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ra(t){return typeof t=="object"&&t!=null&&t.outlets}function ag(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=GD(t,e,n);let a=$D(HD(o));return new ur(a,s,i)}function GD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=GD(s,e,n)}),new ve(t.segments,r)}var ol=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&sl(r[0]))throw new j(4003,!1);let i=r.find(ra);if(i&&i!==kD(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function jk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ol(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ol(n,e,r)}var ys=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Bk(t,e,n){if(t.isAbsolute)return new ys(e,!0,0);if(!n)return new ys(e,!1,NaN);if(n.parent===null)return new ys(n,!0,0);let r=sl(t.commands[0])?0:1,i=n.segments.length-1+r;return $k(n,i,t.numberOfDoubleDots)}function $k(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new ys(r,!1,i-s)}function Hk(t){return ra(t[0])?t[0].outlets:{[ne]:t}}function WD(t,e,n){if(t??=new ve([],{}),t.segments.length===0&&t.hasChildren())return ea(t,e,n);let r=qk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ve(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new ve(t.segments.slice(r.pathIndex),t.children),ea(s,0,i)}else return r.match&&i.length===0?new ve(t.segments,{}):r.match&&!t.hasChildren()?pg(t,e,n):r.match?ea(t,0,i):pg(t,e,n)}function ea(t,e,n){if(n.length===0)return new ve(t.segments,{});{let r=Hk(n),i={};if(Object.keys(r).some(s=>s!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let s=ea(t.children[ne],e,n);return new ve(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=WD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ve(t.segments,i)}}function qk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ra(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!MD(u,l,o))return s;r+=2}else{if(!MD(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function pg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ra(s)){let u=zk(s.outlets);return new ve(r,u)}if(i===0&&sl(n[0])){let u=t.segments[e];r.push(new ti(u.path,xD(n[0]))),i++;continue}let o=ra(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&sl(a)?(r.push(new ti(o,xD(a))),i+=2):(r.push(new ti(o,{})),i++)}return new ve(r,{})}function zk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=pg(new ve([],{}),0,r))}),e}function xD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function MD(t,e,n){return t==n.path&&en(e,n.parameters)}var ta="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),Ot=class{constructor(e,n){this.id=e,this.url=n}},ia=class extends Ot{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ke.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},lr=class extends Ot{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Dt||{}),gg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(gg||{}),dr=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ri=class extends Ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ke.NavigationSkipped}},sa=class extends Ot{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},al=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yg=class extends Ot{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vg=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_g=class extends Ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ig=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wg=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Eg=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tg=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dg=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bg=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var oa=class{},aa=class{constructor(e){this.url=e}};var Cg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fl,this.attachRef=null}},fl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Cg,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Sg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Sg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ag(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ag(e,this._root).map(n=>n.value)}};function Sg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Sg(t,n);if(r)return r}return null}function Ag(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ag(t,n);if(r.length)return r.unshift(e),r}return[]}var Tt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ms(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ul=class extends cl{constructor(e,n){super(e),this.snapshot=n,Ug(this,e)}toString(){return this.snapshot.toString()}};function KD(t){let e=Gk(t),n=new ze([new ti("",{})]),r=new ze({}),i=new ze({}),s=new ze({}),o=new ze(""),a=new ii(n,r,s,o,i,ne,t,e.root);return a.snapshot=e.root,new ul(new Tt(a,[]),e)}function Gk(t){let e={},n={},r={},i="",s=new ca([],e,r,i,n,ne,t,null,{});return new ll("",new Tt(s,[]))}var ii=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[da]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>_s(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>_s(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&YD(i)&&(r.resolve[da]=i.title),r}var ca=class{get title(){return this.data?.[da]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_s(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_s(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ll=class extends cl{constructor(e,n){super(n),this.url=e,Ug(this,n)}toString(){return QD(this._root)}};function Ug(t,e){e.value._routerState=t,e.children.forEach(n=>Ug(t,n))}function QD(t){let e=t.children.length>0?` { ${t.children.map(QD).join(", ")} } `:"";return`${t.value}${e}`}function cg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,en(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),en(e.params,n.params)||t.paramsSubject.next(n.params),wk(e.url,n.url)||t.urlSubject.next(n.url),en(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rg(t,e){let n=en(t.params,e.params)&&bk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Rg(t.parent,e.parent))}function YD(t){return typeof t.title=="string"||t.title===null}var Wk=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new At,this.deactivateEvents=new At,this.attachEvents=new At,this.detachEvents=new At,this.parentContexts=k(fl),this.location=k(cr),this.changeDetector=k(Bo),this.environmentInjector=k(Nt),this.inputBinder=k(jg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Ng(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Yr({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Oo]})}}return t})(),Ng=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ii?this.route:e===fl?this.childContexts:this.parent.get(e,n)}},jg=new Q("");function Kk(t,e,n){let r=ua(t,e._root,n?n._root:void 0);return new ul(r,e)}function ua(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Qk(t,e,n);return new Tt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ua(t,a)),o}}let r=Yk(e.value),i=e.children.map(s=>ua(t,s));return new Tt(r,i)}}function Qk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ua(t,r,i);return ua(t,r)})}function Yk(t){return new ii(new ze(t.url),new ze(t.params),new ze(t.queryParams),new ze(t.fragment),new ze(t.data),t.outlet,t.component,t)}var JD="ngNavigationCancelingError";function ZD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Is(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XD(!1,Dt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function XD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[JD]=!0,n.cancellationCode=e,n}function Jk(t){return eb(t)&&Is(t.url)}function eb(t){return!!t&&t[JD]}var Zk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=sE({type:t,selectors:[["ng-component"]],standalone:!0,features:[qT],decls:1,vars:0,template:function(r,i){r&1&&Bp(0,"router-outlet")},dependencies:[Wk],encapsulation:2})}}return t})();function Xk(t,e){return t.providers&&!t._injector&&(t._injector=Fp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Bg(t){let e=t.children&&t.children.map(Bg),n=e?Te(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=Zk),n}function tn(t){return t.outlet||ne}function e1(t,e){let n=t.filter(r=>tn(r)===e);return n.push(...t.filter(r=>tn(r)!==e)),n}function ha(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var t1=(t,e,n,r)=>ie(i=>(new xg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),xg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),cg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ms(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ms(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ms(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ms(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Tg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(cg(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),cg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ha(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},dl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{constructor(e,n){this.component=e,this.route=n}};function n1(t,e,n){let r=t._root,i=e?e._root:null;return Zo(r,i,n,[r.value])}function r1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Es(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Gw(t)?t:e.get(t):r}function Zo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ms(e);return t.children.forEach(o=>{i1(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>na(a,n.getContext(o),i)),i}function i1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=s1(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Zo(t,e,a?a.children:null,r,i):Zo(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vs(a.outlet.component,o))}else o&&na(e,a,i),i.canActivateChecks.push(new dl(r)),s.component?Zo(t,null,a?a.children:null,r,i):Zo(t,null,n,r,i);return i}function s1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ni(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ni(t.url,e.url)||!en(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rg(t,e)||!en(t.queryParams,e.queryParams);case"paramsChange":default:return!Rg(t,e)}}function na(t,e,n){let r=ms(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?na(o,e.children.getContext(s),n):na(o,null,n):na(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vs(e.outlet.component,i)):n.canDeactivateChecks.push(new vs(null,i)):n.canDeactivateChecks.push(new vs(null,i))}function fa(t){return typeof t=="function"}function o1(t){return typeof t=="boolean"}function a1(t){return t&&fa(t.canLoad)}function c1(t){return t&&fa(t.canActivate)}function u1(t){return t&&fa(t.canActivateChild)}function l1(t){return t&&fa(t.canDeactivate)}function d1(t){return t&&fa(t.canMatch)}function tb(t){return t instanceof vn||t?.name==="EmptyError"}var el=Symbol("INITIAL_VALUE");function ws(){return Vt(t=>jc(t.map(e=>e.pipe(_n(1),qc(el)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===el)return el;if(n===!1||n instanceof ur)return n}return!0}),wt(e=>e!==el),_n(1)))}function h1(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Z(Te(U({},n),{guardsResult:!0})):f1(o,r,i,t).pipe(Ve(a=>a&&o1(a)?p1(r,s,t,e):Z(a)),ie(a=>Te(U({},n),{guardsResult:a})))})}function f1(t,e,n,r){return Pe(t).pipe(Ve(i=>_1(i.component,i.route,n,e,r)),Wt(i=>i!==!0,!0))}function p1(t,e,n,r){return Pe(e).pipe(Wi(i=>Gi(m1(i.route.parent,r),g1(i.route,r),v1(t,i.path,n),y1(t,i.route,n))),Wt(i=>i!==!0,!0))}function g1(t,e){return t!==null&&e&&e(new Dg(t)),Z(!0)}function m1(t,e){return t!==null&&e&&e(new Eg(t)),Z(!0)}function y1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(s=>Bc(()=>{let o=ha(e)??n,a=Es(s,o),u=c1(a)?a.canActivate(e,t):En(o,()=>a(e,t));return hr(u).pipe(Wt())}));return Z(i).pipe(ws())}function v1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>r1(o)).filter(o=>o!==null).map(o=>Bc(()=>{let a=o.guards.map(u=>{let l=ha(o.node)??n,h=Es(u,l),p=u1(h)?h.canActivateChild(r,t):En(l,()=>h(r,t));return hr(p).pipe(Wt())});return Z(a).pipe(ws())}));return Z(s).pipe(ws())}function _1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(a=>{let u=ha(e)??i,l=Es(a,u),h=l1(l)?l.canDeactivate(t,e,n,r):En(u,()=>l(t,e,n,r));return hr(h).pipe(Wt())});return Z(o).pipe(ws())}function I1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let s=i.map(o=>{let a=Es(o,t),u=a1(a)?a.canLoad(e,n):En(t,()=>a(e,n));return hr(u)});return Z(s).pipe(ws(),nb(r))}function nb(t){return wc(Ue(e=>{if(Is(e))throw ZD(t,e)}),ie(e=>e===!0))}function w1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let s=i.map(o=>{let a=Es(o,t),u=d1(a)?a.canMatch(e,n):En(t,()=>a(e,n));return hr(u)});return Z(s).pipe(ws(),nb(r))}var la=class{constructor(e){this.segmentGroup=e||null}},hl=class extends Error{constructor(e){super(),this.urlTree=e}};function gs(t){return zi(new la(t))}function E1(t){return zi(new j(4e3,!1))}function T1(t){return zi(XD(!1,Dt.GuardRejected))}var Mg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ne])return E1(e.redirectTo);i=i.children[ne]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new hl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ur(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ve(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Pg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function D1(t,e,n,r,i){let s=$g(t,e,n);return s.matched?(r=Xk(e,r),w1(r,e,n,i).pipe(ie(o=>o===!0?s:U({},Pg)))):Z(s)}function $g(t,e,n){if(e.path==="**")return b1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Pg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Ik)(n,t,e);if(!i)return U({},Pg);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?U(U({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function b1(t){return{matched:!0,parameters:t.length>0?kD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function PD(t,e,n,r){return n.length>0&&A1(t,n,r)?{segmentGroup:new ve(e,S1(r,new ve(n,t.children))),slicedSegments:[]}:n.length===0&&R1(t,n,r)?{segmentGroup:new ve(t.segments,C1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function C1(t,e,n,r){let i={};for(let s of n)if(pl(t,e,s)&&!r[tn(s)]){let o=new ve([],{});i[tn(s)]=o}return U(U({},r),i)}function S1(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&tn(r)!==ne){let i=new ve([],{});n[tn(r)]=i}return n}function A1(t,e,n){return n.some(r=>pl(t,e,r)&&tn(r)!==ne)}function R1(t,e,n){return n.some(r=>pl(t,e,r))}function pl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function N1(t,e,n,r){return tn(t)!==r&&(r===ne||!pl(e,n,t))?!1:$g(e,t,n).matched}function x1(t,e,n){return e.length===0&&!t.children[n]}var Og=class{};function M1(t,e,n,r,i,s,o="emptyOnly"){return new kg(t,e,n,r,i,o,s).recognize()}var P1=31,kg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Mg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=PD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(n=>{let r=new ca([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),i=new Tt(r,n),s=new ll("",i),o=Uk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(Zn(r=>{if(r instanceof hl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof la?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Vg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ie(s=>s instanceof Tt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Pe(i).pipe(Wi(s=>{let o=r.children[s],a=e1(n,s);return this.processSegmentGroup(e,a,o,s)}),Hc((s,o)=>(s.push(...o),s)),Xn(null),xh(),Ve(s=>{if(s===null)return gs(r);let o=rb(s);return O1(o),Z(o)}))}processSegment(e,n,r,i,s,o){return Pe(n).pipe(Wi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Zn(u=>{if(u instanceof la)return Z(null);throw u}))),Wt(a=>!!a),Zn(a=>{if(tb(a))return x1(r,i,s)?Z(new Og):gs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return N1(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):gs(i):gs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=$g(n,i,s);if(!a)return gs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>P1&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ve(m=>this.processSegment(e,r,n,m.concat(h),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=D1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Vt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Vt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,v=new ca(h,m,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,L1(r),tn(r),r.component??r._loadedComponent??null,r,F1(r)),{segmentGroup:C,slicedSegments:N}=PD(n,h,p,u);if(N.length===0&&C.hasChildren())return this.processChildren(l,u,C).pipe(ie(P=>P===null?null:new Tt(v,P)));if(u.length===0&&N.length===0)return Z(new Tt(v,[]));let R=tn(r)===s;return this.processSegment(l,u,C,N,R?ne:s,!0).pipe(ie(P=>new Tt(v,P instanceof Tt?[P]:[])))}))):gs(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):I1(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):T1(n))):Z({routes:[],injector:e})}};function O1(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function k1(t){let e=t.value.routeConfig;return e&&e.path===""}function rb(t){let e=[],n=new Set;for(let r of t){if(!k1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=rb(r.children);e.push(new Tt(r.value,i))}return e.filter(r=>!n.has(r))}function L1(t){return t.data||{}}function F1(t){return t.resolve||{}}function V1(t,e,n,r,i,s){return Ve(o=>M1(t,e,n,r,o.extractedUrl,i,s).pipe(ie(({state:a,tree:u})=>Te(U({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function U1(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of ib(u))o.add(l);let a=0;return Pe(o).pipe(Wi(u=>s.has(u)?j1(u,r,t,e):(u.data=Vg(u,u.parent,t).resolve,Z(void 0))),Ue(()=>a++),Ki(1),Ve(u=>a===o.size?Z(n):It))})}function ib(t){let e=t.children.map(n=>ib(n)).flat();return[t,...e]}function j1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!YD(i)&&(s[da]=i.title),B1(s,t,e,r).pipe(ie(o=>(t._resolvedData=o,t.data=Vg(t,t.parent,n).resolve,null)))}function B1(t,e,n,r){let i=dg(t);if(i.length===0)return Z({});let s={};return Pe(i).pipe(Ve(o=>$1(t[o],e,n,r).pipe(Wt(),Ue(a=>{s[o]=a}))),Ki(1),Nh(s),Zn(o=>tb(o)?It:zi(o)))}function $1(t,e,n,r){let i=ha(e)??r,s=Es(t,i),o=s.resolve?s.resolve(e,n):En(i,()=>s(e,n));return hr(o)}function ug(t){return Vt(e=>{let n=t(e);return n?Pe(n).pipe(ie(()=>e)):Z(e)})}var sb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[da]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>k(H1),providedIn:"root"})}}return t})(),H1=(()=>{class t extends sb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(ae(AD))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hg=new Q("",{providedIn:"root",factory:()=>({})}),qg=new Q(""),q1=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(qp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=hr(n.loadComponent()).pipe(ie(ob),Ue(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),vo(()=>{this.componentLoaders.delete(n)})),i=new Bi(r,()=>new tt).pipe(ji());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=z1(r,this.compiler,n,this.onLoadEndListener).pipe(vo(()=>{this.childrenLoaders.delete(r)})),o=new Bi(s,()=>new tt).pipe(ji());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function z1(t,e,n,r){return hr(t.loadChildren()).pipe(ie(ob),Ve(i=>i instanceof Ro||Array.isArray(i)?Z(i):Pe(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(qg,[],{optional:!0,self:!0}).flat()),{routes:o.map(Bg),injector:s}}))}function G1(t){return t&&typeof t=="object"&&"default"in t}function ob(t){return G1(t)?t.default:t}var zg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>k(W1),providedIn:"root"})}}return t})(),W1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ab=new Q(""),cb=new Q("");function K1(t,e,n){let r=t.get(cb),i=t.get(Et);return t.get(ge).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),Q1(t))),{onViewTransitionCreated:u}=r;return u&&En(t,()=>u({transition:a,from:e,to:n})),o})}function Q1(t){return new Promise(e=>{Pp(e,{injector:t})})}var Y1=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.transitionAbortSubject=new tt,this.configLoader=k(q1),this.environmentInjector=k(Nt),this.urlSerializer=k(Fg),this.rootContexts=k(fl),this.location=k(Wo),this.inputBindingEnabled=k(jg,{optional:!0})!==null,this.titleStrategy=k(sb),this.options=k(Hg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(zg),this.createViewTransition=k(ab,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Ig(i)),r=i=>this.events.next(new wg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Te(U(U({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new ze({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ta,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wt(s=>s.id!==0),ie(s=>Te(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Vt(s=>{let o=!1,a=!1;return Z(s).pipe(Vt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Dt.SupersededByNewNavigation),It;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Te(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new ri(u.id,this.urlSerializer.serialize(u.rawUrl),p,gg.IgnoredSameUrlNavigation)),u.resolve(null),It}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(Vt(p=>{let m=this.transitions?.getValue();return this.events.next(new ia(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?It:Promise.resolve(p)}),V1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Te(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new al(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:C,extras:N}=u,R=new ia(p,this.urlSerializer.serialize(m),v,C);this.events.next(R);let P=KD(this.rootComponentType).snapshot;return this.currentTransition=s=Te(U({},u),{targetSnapshot:P,urlAfterRedirects:m,extras:Te(U({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Z(s)}else{let p="";return this.events.next(new ri(u.id,this.urlSerializer.serialize(u.extractedUrl),p,gg.IgnoredByUrlHandlingStrategy)),u.resolve(null),It}}),Ue(u=>{let l=new mg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ie(u=>(this.currentTransition=s=Te(U({},u),{guards:n1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),h1(this.environmentInjector,u=>this.events.next(u)),Ue(u=>{if(s.guardsResult=u.guardsResult,Is(u.guardsResult))throw ZD(this.urlSerializer,u.guardsResult);let l=new yg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),wt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Dt.GuardRejected),!1)),ug(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe(Ue(l=>{let h=new vg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Vt(l=>{let h=!1;return Z(l).pipe(U1(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Dt.NoDataFromResolver)}}))}),Ue(l=>{let h=new _g(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),ug(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ue(m=>{h.component=m}),ie(()=>{})));for(let m of h.children)p.push(...l(m));return p};return jc(l(u.targetSnapshot.root)).pipe(Xn(null),_n(1))}),ug(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Pe(h).pipe(ie(()=>s)):Z(s)}),ie(u=>{let l=Kk(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Te(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ue(()=>{this.events.next(new oa)}),t1(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),_n(1),Ue({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Mh(this.transitionAbortSubject.pipe(Ue(u=>{throw u}))),vo(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Dt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zn(u=>{if(a=!0,eb(u))this.events.next(new dr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),Jk(u)?this.events.next(new aa(u.url)):s.resolve(!1);else{this.events.next(new sa(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return It}))}))}cancelNavigationTransition(n,r,i){let s=new dr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function J1(t){return t!==ta}var Z1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>k(X1),providedIn:"root"})}}return t})(),Lg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},X1=(()=>{class t extends Lg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=fp(t)))(i||t)}})()}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ub=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>k(eL),providedIn:"root"})}}return t})(),eL=(()=>{class t extends ub{constructor(){super(...arguments),this.location=k(Wo),this.urlSerializer=k(Fg),this.options=k(Hg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(zg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ur,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ia)this.stateMemento=this.createStateMemento();else if(n instanceof ri)this.rawUrlTree=r.initialUrl;else if(n instanceof al){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof oa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof dr&&(n.code===Dt.GuardRejected||n.code===Dt.NoDataFromResolver)?this.restoreHistory(r):n instanceof sa?this.restoreHistory(r,!0):n instanceof lr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=U(U({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=fp(t)))(i||t)}})()}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Xo||{});function tL(t,e){t.events.pipe(wt(n=>n instanceof lr||n instanceof dr||n instanceof sa||n instanceof ri),ie(n=>n instanceof lr||n instanceof ri?Xo.COMPLETE:(n instanceof dr?n.code===Dt.Redirect||n.code===Dt.SupersededByNewNavigation:!1)?Xo.REDIRECTING:Xo.FAILED),wt(n=>n!==Xo.REDIRECTING),_n(1)).subscribe(()=>{e()})}function nL(t){throw t}var rL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gg=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Gu),this.stateManager=k(ub),this.options=k(Hg,{optional:!0})||{},this.pendingTasks=k(qu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Y1),this.urlSerializer=k(Fg),this.location=k(Wo),this.urlHandlingStrategy=k(zg),this._events=new tt,this.errorHandler=this.options.errorHandler||nL,this.navigated=!1,this.routeReuseStrategy=k(Z1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(qg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(jg,{optional:!0}),this.eventsSubscription=new Re,this.isNgZoneEnabled=k(ge)instanceof ge&&ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof dr&&r.code!==Dt.Redirect&&r.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof lr)this.navigated=!0;else if(r instanceof aa){let o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||J1(i.source)};this.scheduleNavigation(o,ta,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}oL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ta,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Bg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a){case"merge":h=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=qD(m)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return zD(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Is(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ta,null,r)}navigate(n,r={skipLocationChange:!1}){return sL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},rL):r===!1?i=U({},iL):i=r,Is(n))return RD(this.currentUrlTree,n,i);let s=this.parseUrl(n);return RD(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return tL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function sL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function oL(t){return!(t instanceof oa)&&!(t instanceof aa)}var $9=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new tt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof lr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:rT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(xe(Gg),xe(ii),pp("tabindex"),xe(Vo),xe(bn),xe(ps))}}static{this.\u0275dir=Yr({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&$p("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&jp("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Rt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",$o],skipLocationChange:[Rt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",$o],replaceUrl:[Rt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",$o],routerLink:"routerLink"},standalone:!0,features:[Lp,Oo]})}}return t})();var aL=new Q("");function H9(t,...e){return Mt([{provide:qg,multi:!0,useValue:t},[],{provide:ii,useFactory:cL,deps:[Gg]},{provide:Hp,multi:!0,useFactory:lL},e.map(n=>n.\u0275providers)])}function cL(t){return t.routerState.root}function uL(t,e){return{\u0275kind:t,\u0275providers:e}}function lL(){let t=k(nt);return e=>{let n=t.get(jo);if(e!==n.components[0])return;let r=t.get(Gg),i=t.get(dL);t.get(hL)===1&&r.initialNavigation(),t.get(fL,null,re.Optional)?.setUpPreloading(),t.get(aL,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dL=new Q("",{factory:()=>new tt}),hL=new Q("",{providedIn:"root",factory:()=>1});var fL=new Q("");function q9(t){let e=[{provide:ab,useValue:K1},{provide:cb,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return uL(9,e)}function Wg(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&ep(Wg);let r=n?e?.injector?.get(ls)??k(ls):null,i;e?.requireSync?i=Zr({kind:0}):i=Zr({kind:1,value:e?.initialValue});let s=t.subscribe({next:o=>i.set({kind:1,value:o}),error:o=>{if(e?.rejectErrors)throw o;i.set({kind:2,error:o})}});return r?.onDestroy(s.unsubscribe.bind(s)),Ho(()=>{let o=i();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new j(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var db=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(db(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Qg;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Qg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},gL=function(t){let e=db(t);return hb.encodeByteArray(e,!0)},pa=function(t){return gL(t).replace(/\./g,"")},Jg=function(t){try{return hb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var yL=()=>mL().__FIREBASE_DEFAULTS__,vL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_L=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Jg(t[1]);return e&&JSON.parse(e)},ml=()=>{try{return yL()||vL()||_L()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zg=t=>{var e,n;return(n=(e=ml())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yl=t=>{let e=Zg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xg=()=>{var t;return(t=ml())===null||t===void 0?void 0:t.config},em=t=>{var e;return(e=ml())===null||e===void 0?void 0:e[`_${t}`]};var gl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function vl(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pa(JSON.stringify(n)),pa(JSON.stringify(o)),""].join(".")}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function IL(){var t;let e=(t=ml())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yb(){let t=$e();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vb(){return!IL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tm(){try{return typeof indexedDB=="object"}catch{return!1}}function _b(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var wL="FirebaseError",dt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rn.prototype.create)}},Rn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?EL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new dt(i,a,r)}};function EL(t,e){return t.replace(TL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var TL=/\{\$([^}]+)}/g;function Ib(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function si(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(lb(s)&&lb(o)){if(!si(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function lb(t){return t!==null&&typeof t=="object"}function ga(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wb(t,e){let n=new Yg(t,e);return n.subscribe.bind(n)}var Yg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kg),i.error===void 0&&(i.error=Kg),i.complete===void 0&&(i.complete=Kg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function DL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kg(){}var Z9=4*60*60*1e3;function Oe(t){return t&&t._delegate?t._delegate:t}var yt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var oi="[DEFAULT]";var nm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new gl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CL(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=oi){return this.instances.has(e)}getOptions(e=oi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oi){return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bL(t){return t===oi?void 0:t}function CL(t){return t.instantiationMode==="EAGER"}var _l=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new nm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var SL=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),AL={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},RL=ce.INFO,NL={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},xL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=NL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fr=class{constructor(e){this.name=e,this._logLevel=RL,this._logHandler=xL,this._userLogHandler=null,SL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var ML=(t,e)=>e.some(n=>t instanceof n),Eb,Tb;function PL(){return Eb||(Eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OL(){return Tb||(Tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Db=new WeakMap,im=new WeakMap,bb=new WeakMap,rm=new WeakMap,om=new WeakMap;function kL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(nn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Db.set(n,t)}).catch(()=>{}),om.set(e,t),e}function LL(t){if(im.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});im.set(t,e)}var sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return im.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Cb(t){sm=t(sm)}function FL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Il(this),e,...n);return bb.set(r,e.sort?e.sort():[e]),nn(r)}:OL().includes(t)?function(...e){return t.apply(Il(this),e),nn(Db.get(this))}:function(...e){return nn(t.apply(Il(this),e))}}function VL(t){return typeof t=="function"?FL(t):(t instanceof IDBTransaction&&LL(t),ML(t,PL())?new Proxy(t,sm):t)}function nn(t){if(t instanceof IDBRequest)return kL(t);if(rm.has(t))return rm.get(t);let e=VL(t);return e!==t&&(rm.set(t,e),om.set(e,t)),e}var Il=t=>om.get(t);function Ab(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=nn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(nn(o.result),u.oldVersion,u.newVersion,nn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var UL=["get","getKey","getAll","getAllKeys","count"],jL=["put","add","delete","clear"],am=new Map;function Sb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(am.get(e))return am.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=jL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UL.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return am.set(e,s),s}Cb(t=>Te(U({},t),{get:(e,n,r)=>Sb(e,n)||t.get(e,n,r),has:(e,n)=>!!Sb(e,n)||t.has(e,n)}));var um=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function BL(t){let e=t.getComponent();return e?.type==="VERSION"}var lm="@firebase/app",Rb="0.10.13";var Nn=new fr("@firebase/app"),$L="@firebase/app-compat",HL="@firebase/analytics-compat",qL="@firebase/analytics",zL="@firebase/app-check-compat",GL="@firebase/app-check",WL="@firebase/auth",KL="@firebase/auth-compat",QL="@firebase/database",YL="@firebase/data-connect",JL="@firebase/database-compat",ZL="@firebase/functions",XL="@firebase/functions-compat",eF="@firebase/installations",tF="@firebase/installations-compat",nF="@firebase/messaging",rF="@firebase/messaging-compat",iF="@firebase/performance",sF="@firebase/performance-compat",oF="@firebase/remote-config",aF="@firebase/remote-config-compat",cF="@firebase/storage",uF="@firebase/storage-compat",lF="@firebase/firestore",dF="@firebase/vertexai-preview",hF="@firebase/firestore-compat",fF="firebase",pF="10.14.1";var dm="[DEFAULT]",gF={[lm]:"fire-core",[$L]:"fire-core-compat",[qL]:"fire-analytics",[HL]:"fire-analytics-compat",[GL]:"fire-app-check",[zL]:"fire-app-check-compat",[WL]:"fire-auth",[KL]:"fire-auth-compat",[QL]:"fire-rtdb",[YL]:"fire-data-connect",[JL]:"fire-rtdb-compat",[ZL]:"fire-fn",[XL]:"fire-fn-compat",[eF]:"fire-iid",[tF]:"fire-iid-compat",[nF]:"fire-fcm",[rF]:"fire-fcm-compat",[iF]:"fire-perf",[sF]:"fire-perf-compat",[oF]:"fire-rc",[aF]:"fire-rc-compat",[cF]:"fire-gcs",[uF]:"fire-gcs-compat",[lF]:"fire-fst",[hF]:"fire-fst-compat",[dF]:"fire-vertex","fire-js":"fire-js",[fF]:"fire-js-all"};var ma=new Map,mF=new Map,hm=new Map;function Nb(t,e){try{t.container.addComponent(e)}catch(n){Nn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rn(t){let e=t.name;if(hm.has(e))return Nn.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,t);for(let n of ma.values())Nb(n,t);for(let n of mF.values())Nb(n,t);return!0}function ai(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t.settings!==void 0}var yF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Rn("app","Firebase",yF);var fm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}};var sn=pF;function mm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:dm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=Xg()),!n)throw pr.create("no-options");let s=ma.get(i);if(s){if(si(n,s.options)&&si(r,s.config))return s;throw pr.create("duplicate-app",{appName:i})}let o=new _l(i);for(let u of hm.values())o.addComponent(u);let a=new fm(n,r,o);return ma.set(i,a),a}function gr(t=dm){let e=ma.get(t);if(!e&&t===dm&&Xg())return mm();if(!e)throw pr.create("no-app",{appName:t});return e}function wl(){return Array.from(ma.values())}function De(t,e,n){var r;let i=(r=gF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nn.warn(a.join(" "));return}rn(new yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var vF="firebase-heartbeat-database",_F=1,ya="firebase-heartbeat-store",cm=null;function Ob(){return cm||(cm=Ab(vF,_F,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ya)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),cm}function IF(t){return w(this,null,function*(){try{let n=(yield Ob()).transaction(ya),r=yield n.objectStore(ya).get(kb(t));return yield n.done,r}catch(e){if(e instanceof dt)Nn.warn(e.message);else{let n=pr.create("idb-get",{originalErrorMessage:e?.message});Nn.warn(n.message)}}})}function xb(t,e){return w(this,null,function*(){try{let r=(yield Ob()).transaction(ya,"readwrite");yield r.objectStore(ya).put(e,kb(t)),yield r.done}catch(n){if(n instanceof dt)Nn.warn(n.message);else{let r=pr.create("idb-set",{originalErrorMessage:n?.message});Nn.warn(r.message)}}})}function kb(t){return`${t.name}!${t.options.appId}`}var wF=1024,EF=30*24*60*60*1e3,pm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new gm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Mb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=EF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Nn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Mb(),{heartbeatsToSend:r,unsentEntries:i}=TF(this._heartbeatsCache.heartbeats),s=pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Nn.warn(n),""}})}};function Mb(){return new Date().toISOString().substring(0,10)}function TF(t,e=wF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Pb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var gm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return tm()?_b().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield IF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Pb(t){return pa(JSON.stringify({version:2,heartbeats:t})).length}function DF(t){rn(new yt("platform-logger",e=>new um(e),"PRIVATE")),rn(new yt("heartbeat",e=>new pm(e),"PRIVATE")),De(lm,Rb,t),De(lm,Rb,"esm2017"),De("fire-js","")}DF("");var bF="firebase",CF="10.14.1";De(bF,CF,"app");var Mn=new or("ANGULARFIRE2_VERSION");function Ds(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ui=(t,e)=>{let n=e?[e]:wl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},mr=class{constructor(){return ui(SF)}},SF="app-check";function Ts(){}var El=class{zone;delegate;constructor(e,n=Ch){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},ym=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ts,{},Ts,Ts)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},yr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new El(Zone.current)),this.insideAngular=n.run(()=>new El(Zone.current,bh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ae(ge))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function AF(t){return Tl().ngZone.runOutsideAngular(()=>t())}function ci(t){return Tl().ngZone.run(()=>t())}function RF(t){return NF(Tl())(t)}function NF(t){return function(n){return n=n.lift(new ym(t.ngZone)),n.pipe(Jn(t.outsideAngular),Yn(t.insideAngular))}}var xF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ci(()=>t.apply(void 0,r))},Qe=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ts,{},Ts,Ts))),r[s]=xF(r[s],n));let i=AF(()=>t.apply(this,r));if(!e)if(i instanceof se){let s=Tl();return i.pipe(Jn(s.outsideAngular),Yn(s.insideAngular))}else return ci(()=>i);return i instanceof se?i.pipe(RF):i instanceof Promise?ci(()=>new Promise((s,o)=>i.then(a=>ci(()=>s(a)),a=>ci(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ci(()=>i)};var qt=class{constructor(e){return e}},Pn=class{constructor(){return wl()}};function MF(t){return t&&t.length===1?t[0]:new qt(gr())}var vm=new Q("angularfire2._apps"),PF={provide:qt,useFactory:MF,deps:[[new Ne,vm]]},OF={provide:Pn,deps:[[new Ne,vm]]};function kF(t){return(e,n)=>{let r=n.get(Cn);De("angularfire",Mn.full,"core"),De("angularfire",Mn.full,"app"),De("angular",QT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new qt(i)}}function V6(t,...e){return Mt([PF,OF,{provide:vm,useFactory:kF(t),multi:!0,deps:[ge,nt,yr,...e]}])}var U6=Qe(mm,!0);function Yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Jb=Yb,Zb=new Rn("auth","Firebase",Yb());var Rl=new fr("@firebase/auth");function LF(t,...e){Rl.logLevel<=ce.WARN&&Rl.warn(`Auth (${sn}): ${t}`,...e)}function bl(t,...e){Rl.logLevel<=ce.ERROR&&Rl.error(`Auth (${sn}): ${t}`,...e)}function _r(t,...e){throw Vm(t,...e)}function di(t,...e){return Vm(t,...e)}function Xb(t,e,n){let r=Object.assign(Object.assign({},Jb()),{[e]:n});return new Rn("auth","Firebase",r).create(e,{appName:t.name})}function li(t){return Xb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zb.create(t,...e)}function K(t,e,...n){if(!t)throw Vm(e,...n)}function On(t){let e="INTERNAL ASSERTION FAILED: "+t;throw bl(e),new Error(e)}function Ir(t,e){t||On(e)}function Em(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FF(){return Lb()==="http:"||Lb()==="https:"}function Lb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function VF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FF()||gb()||"connection"in navigator)?navigator.onLine:!0}function UF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var hi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ir(n>e,"Short delay should be less than long delay!"),this.isMobile=fb()||mb()}get(){return VF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Um(t,e){Ir(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Nl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var jF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var BF=new hi(3e4,6e4);function jm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Cs(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return eC(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ga(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:m},l);return pb()||(v.referrerPolicy="no-referrer"),Nl.fetch()(tC(t,t.config.apiHost,n,p),v)}))})}function eC(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},jF),e);try{let i=new Tm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Dl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Dl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Dl(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Xb(t,h,l);_r(t,h)}}catch(i){if(i instanceof dt)throw i;_r(t,"network-request-failed",{message:String(i)})}})}function $F(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Cs(t,e,n,r,i);return"mfaPendingCredential"in l&&_r(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function tC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Um(t.config,i):`${t.config.apiScheme}://${i}`}var Tm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(di(this.auth,"network-request-failed")),BF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Dl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=di(t,e,r);return i.customData._tokenResponse=n,i}function HF(t,e){return w(this,null,function*(){return Cs(t,"POST","/v1/accounts:delete",e)})}function nC(t,e){return w(this,null,function*(){return Cs(t,"POST","/v1/accounts:lookup",e)})}function va(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Bm(t,e=!1){return w(this,null,function*(){let n=Oe(t),r=yield n.getIdToken(e),i=$m(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:va(_m(i.auth_time)),issuedAtTime:va(_m(i.iat)),expirationTime:va(_m(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function _m(t){return Number(t)*1e3}function $m(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Jg(n);return i?JSON.parse(i):(bl("Failed to decode base64 JWT payload"),null)}catch(i){return bl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Fb(t){let e=$m(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ia(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof dt&&qF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function qF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Dm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var wa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=va(this.lastLoginAt),this.creationTime=va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xl(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ia(t,nC(n,{idToken:r}));K(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rC(s.providerUserInfo):[],a=zF(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wa(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Hm(t){return w(this,null,function*(){let e=Oe(t);yield xl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function zF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rC(t){return t.map(e=>{var{providerId:n}=e,r=Sh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function GF(t,e){return w(this,null,function*(){let n=yield eC(t,{},()=>w(this,null,function*(){let r=ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function WF(t,e){return w(this,null,function*(){return Cs(t,"POST","/v2/accounts:revokeToken",jm(t,e))})}var _a=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=Fb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield GF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return On("not implemented")}};function vr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var bs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Sh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Ia(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Bm(this,e)}reload(){return Hm(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield xl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(xn(this.auth.app))return Promise.reject(li(this.auth));let e=yield this.getIdToken();return yield Ia(this,HF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,P=(l=n.createdAt)!==null&&l!==void 0?l:void 0,B=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:V,emailVerified:H,isAnonymous:ye,providerData:W,stsTokenManager:T}=n;K(V&&T,e,"internal-error");let y=_a.fromJSON(this.name,T);K(typeof V=="string",e,"internal-error"),vr(p,e.name),vr(m,e.name),K(typeof H=="boolean",e,"internal-error"),K(typeof ye=="boolean",e,"internal-error"),vr(v,e.name),vr(C,e.name),vr(N,e.name),vr(R,e.name),vr(P,e.name),vr(B,e.name);let _=new t({uid:V,auth:e,email:m,emailVerified:H,displayName:p,isAnonymous:ye,photoURL:C,phoneNumber:v,tenantId:N,stsTokenManager:y,createdAt:P,lastLoginAt:B});return W&&Array.isArray(W)&&(_.providerData=W.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new _a;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?rC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new _a;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var Vb=new Map;function kn(t){Ir(t instanceof Function,"Expected a class definition");let e=Vb.get(t);return e?(Ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vb.set(t,e),e)}var KF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),bm=KF;function Cl(t,e,n){return`firebase:${t}:${e}:${n}`}var Ml=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Cl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?bs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(kn(bm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||kn(bm),o=Cl(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=bs._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function Ub(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uC(e))return"Blackberry";if(lC(e))return"Webos";if(sC(e))return"Safari";if((e.includes("chrome/")||oC(e))&&!e.includes("edge/"))return"Chrome";if(cC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function iC(t=$e()){return/firefox\//i.test(t)}function sC(t=$e()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oC(t=$e()){return/crios\//i.test(t)}function aC(t=$e()){return/iemobile/i.test(t)}function cC(t=$e()){return/android/i.test(t)}function uC(t=$e()){return/blackberry/i.test(t)}function lC(t=$e()){return/webos/i.test(t)}function qm(t=$e()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QF(t=$e()){var e;return qm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YF(){return yb()&&document.documentMode===10}function dC(t=$e()){return qm(t)||cC(t)||lC(t)||uC(t)||/windows phone/i.test(t)||aC(t)}function hC(t,e=[]){let n;switch(t){case"Browser":n=Ub($e());break;case"Worker":n=`${Ub($e())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sn}/${r}`}var Cm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function JF(n){return w(this,arguments,function*(t,e={}){return Cs(t,"GET","/v2/passwordPolicy",jm(t,e))})}var ZF=6,Sm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ZF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Am=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pl(this),this.idTokenSubscription=new Pl(this),this.beforeStateQueue=new Cm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ml.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield nC(this,{idToken:e}),r=yield bs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(xn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield xl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=UF()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(xn(this.app))return Promise.reject(li(this));let n=e?Oe(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return xn(this.app)?Promise.reject(li(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return xn(this.app)?Promise.reject(li(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(kn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield JF(this),n=new Sm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield WF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&kn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield Ml.create(this,[kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&LF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function zm(t){return Oe(t)}var Pl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wb(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Gm={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XF(t){Gm=t}function eV(t){return Gm.loadJS(t)}function tV(){return Gm.gapiScript}function fC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Wm(t,e){let n=ai(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(si(s,e??{}))return i;_r(i,"already-initialized")}return n.initialize({options:e})}function nV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(kn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Km(t,e,n){let r=zm(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=pC(e),{host:o,port:a}=rV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||iV()}function pC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rV(t){let e=pC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:jb(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:jb(o)}}}function jb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function iV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ol=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return On("not implemented")}_getIdTokenResponse(e){return On("not implemented")}_linkToIdToken(e,n){return On("not implemented")}_getReauthenticationResolver(e){return On("not implemented")}};function Im(t,e){return w(this,null,function*(){return $F(t,"POST","/v1/accounts:signInWithIdp",jm(t,e))})}var kl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Rm=class extends kl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ea=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield bs._fromIdTokenResponse(e,r,i),o=Bb(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Bb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Bb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Nm=class t extends dt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function gC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nm._fromErrorAndOperation(t,s,e,r):s})}function sV(t,e,n=!1){return w(this,null,function*(){let r=yield Ia(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ea._forOperation(t,"link",r)})}function oV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(xn(r.app))return Promise.reject(li(r));let i="reauthenticate";try{let s=yield Ia(t,gC(r,i,e,t),n);K(s.idToken,r,"internal-error");let o=$m(s.idToken);K(o,r,"internal-error");let{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),Ea._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&_r(r,"user-mismatch"),s}})}function aV(t,e,n=!1){return w(this,null,function*(){if(xn(t.app))return Promise.reject(li(t));let r="signIn",i=yield gC(t,r,e),s=yield Ea._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Qm(t,e,n,r){return Oe(t).onIdTokenChanged(e,n,r)}function Ym(t,e,n){return Oe(t).beforeAuthStateChanged(e,n)}var Ll="__sak";var Fl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ll,"1"),this.storage.removeItem(Ll),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var cV=1e3,uV=10,lV=(()=>{class t extends Fl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);YF()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,uV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},cV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Wn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Wn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Wn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),mC=lV;var dV=(()=>{class t extends Fl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Jm=dV;function hV(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var fV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield hV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function yC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var xm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=yC("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function on(){return window}function pV(t){on().location.href=t}function vC(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}function gV(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function mV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yV(){return vC()?self:null}var _C="firebaseLocalStorageDb",vV=1,Vl="firebaseLocalStorage",IC="fbase_key",fi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function jl(t,e){return t.transaction([Vl],e?"readwrite":"readonly").objectStore(Vl)}function _V(){let t=indexedDB.deleteDatabase(_C);return new fi(t).toPromise()}function Mm(){let t=indexedDB.open(_C,vV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Vl,{keyPath:IC})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Vl)?e(r):(r.close(),yield _V(),e(yield Mm()))}))})}function $b(t,e,n){return w(this,null,function*(){let r=jl(t,!0).put({[IC]:e,value:n});return new fi(r).toPromise()})}function IV(t,e){return w(this,null,function*(){let n=jl(t,!1).get(e),r=yield new fi(n).toPromise();return r===void 0?null:r.value})}function Hb(t,e){let n=jl(t,!0).delete(e);return new fi(n).toPromise()}var wV=800,EV=3,TV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Mm(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>EV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return vC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=fV._getInstance(yV()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield gV(),!this.activeServiceWorker)return;this.sender=new xm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||mV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Mm();return yield $b(n,Ll,"1"),yield Hb(n,Ll),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>$b(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>IV(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>Hb(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=jl(s,!1).getAll();return new fi(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),wV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),wC=TV;var Q6=fC("rcb"),Y6=new hi(3e4,6e4);function DV(t,e){return e?kn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ta=class extends Ol{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Im(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Im(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Im(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function bV(t){return aV(t.auth,new Ta(t),t.bypassAuthState)}function CV(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),oV(n,new Ta(t),t.bypassAuthState)}function SV(t){return w(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),sV(n,new Ta(t),t.bypassAuthState)})}var Pm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bV;case"linkViaPopup":case"linkViaRedirect":return SV;case"reauthViaPopup":case"reauthViaRedirect":return CV;default:_r(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var J6=new hi(2e3,1e4);var AV="pendingRedirect",Sl=new Map,Om=class t extends Pm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Sl.get(this.auth._key());if(!e){try{let r=(yield RV(this.resolver,this.auth))?yield Wn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sl.set(this.auth._key(),e)}return this.bypassAuthState||Sl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Wn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Wn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function RV(t,e){return w(this,null,function*(){let n=MV(e),r=xV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function NV(t,e){Sl.set(t._key(),e)}function xV(t){return kn(t._redirectPersistence)}function MV(t){return Cl(AV,t.config.apiKey,t.name)}function PV(t,e,n=!1){return w(this,null,function*(){if(xn(t.app))return Promise.reject(li(t));let r=zm(t),i=DV(r,e),o=yield new Om(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var OV=10*60*1e3,km=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(di(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OV&&this.cachedEventUids.clear(),this.cachedEventUids.has(qb(e))}saveEventToCache(e){this.cachedEventUids.add(qb(e)),this.lastProcessedEventTime=Date.now()}};function qb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EC(t);default:return!1}}function LV(n){return w(this,arguments,function*(t,e={}){return Cs(t,"GET","/v1/projects",e)})}var FV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VV=/^https?/;function UV(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield LV(t);for(let n of e)try{if(jV(n))return}catch{}_r(t,"unauthorized-domain")})}function jV(t){let e=Em(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!VV.test(n))return!1;if(FV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var BV=new hi(3e4,6e4);function zb(){let t=on().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $V(t){return new Promise((e,n)=>{var r,i,s;function o(){zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zb(),n(di(t,"network-request-failed"))},timeout:BV.get()})}if(!((i=(r=on().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=on().gapi)===null||s===void 0)&&s.load)o();else{let a=fC("iframefcb");return on()[a]=()=>{gapi.load?o():n(di(t,"network-request-failed"))},eV(`${tV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Al=null,e})}var Al=null;function HV(t){return Al=Al||$V(t),Al}var qV=new hi(5e3,15e3),zV="__/auth/iframe",GV="emulator/auth/iframe",WV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QV(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Um(e,GV):`https://${t.config.authDomain}/${zV}`,r={apiKey:e.apiKey,appName:t.name,v:sn},i=KV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ga(r).slice(1)}`}function YV(t){return w(this,null,function*(){let e=yield HV(t),n=on().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:QV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WV,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=di(t,"network-request-failed"),a=on().setTimeout(()=>{s(o)},qV.get());function u(){on().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var JV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZV=500,XV=600,eU="_blank",tU="http://localhost",Ul=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function nU(t,e,n,r=ZV,i=XV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},JV),{width:r.toString(),height:i.toString(),top:s,left:o}),l=$e().toLowerCase();n&&(a=oC(l)?eU:n),iC(l)&&(e=e||tU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,C])=>`${m}${v}=${C},`,"");if(QF(l)&&a!=="_self")return rU(e||"",a),new Ul(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new Ul(p)}function rU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var iU="__/auth/handler",sU="emulator/auth/handler",oU=encodeURIComponent("fac");function Gb(t,e,n,r,i,s){return w(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sn,eventId:i};if(e instanceof kl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ib(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Rm){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${oU}=${encodeURIComponent(u)}`:"";return`${aU(t)}?${ga(a).slice(1)}${l}`})}function aU({config:t}){return t.emulator?Um(t,sU):`https://${t.authDomain}/${iU}`}var wm="webStorageSupport",Lm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jm,this._completeRedirectFn=PV,this._overrideRedirectResult=NV}_openPopup(e,n,r,i){return w(this,null,function*(){var s;Ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Gb(e,n,r,Em(),i);return nU(e,o,yC())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield Gb(e,n,r,Em(),i);return pV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ir(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield YV(e),r=new km(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[wm];o!==void 0&&n(!!o),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dC()||sC()||qm()}},TC=Lm;var Wb="@firebase/auth",Kb="1.7.9";var Fm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function cU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uU(t){rn(new yt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hC(t)},l=new Am(r,i,s,u);return nV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rn(new yt("auth-internal",e=>{let n=zm(e.getProvider("auth").getImmediate());return(r=>new Fm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),De(Wb,Kb,cU(t)),De(Wb,Kb,"esm2017")}var lU=5*60,dU=em("authIdTokenMaxAge")||lU,Qb=null,hU=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dU)return;let i=n?.token;Qb!==i&&(Qb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Zm(t=gr()){let e=ai(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Wm(t,{popupRedirectResolver:TC,persistence:[wC,mC,Jm]}),r=em("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=hU(s.toString());Ym(n,o,()=>o(n.currentUser)),Qm(n,a=>o(a))}}let i=Zg("auth");return i&&Km(n,`http://${i}`),n}function fU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=di("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uU("Browser");var DC="auth",Da=class{constructor(e){return e}},pi=class{constructor(){return ui(DC)}};var Xm=new Q("angularfire2.auth-instances");function aj(t,e){let n=Ds(DC,t,e);return n&&new Da(n)}function cj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Da(r)}}var uj={provide:pi,deps:[[new Ne,Xm]]},lj={provide:Da,useFactory:aj,deps:[[new Ne,Xm],qt]};function F3(t,...e){return De("angularfire",Mn.full,"auth"),Mt([lj,uj,{provide:Xm,useFactory:cj(t),multi:!0,deps:[ge,nt,yr,Pn,[new Ne,mr],...e]}])}var V3=Qe(Zm,!0);var bC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CC={};var wr,ey;(function(){var t;function e(T,y){function _(){}_.prototype=y.prototype,T.D=y.prototype,T.prototype=new _,T.prototype.constructor=T,T.C=function(E,D,S){for(var I=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)I[gn-2]=arguments[gn];return y.prototype[D].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)E[D]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(D=0;16>D;++D)E[D]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=T.g[0],_=T.g[1],D=T.g[2];var S=T.g[3],I=y+(S^_&(D^S))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=S+(D^y&(_^D))+E[1]+3905402710&4294967295,S=y+(I<<12&4294967295|I>>>20),I=D+(_^S&(y^_))+E[2]+606105819&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(y^D&(S^y))+E[3]+3250441966&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(S^_&(D^S))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=S+(D^y&(_^D))+E[5]+1200080426&4294967295,S=y+(I<<12&4294967295|I>>>20),I=D+(_^S&(y^_))+E[6]+2821735955&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(y^D&(S^y))+E[7]+4249261313&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(S^_&(D^S))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=S+(D^y&(_^D))+E[9]+2336552879&4294967295,S=y+(I<<12&4294967295|I>>>20),I=D+(_^S&(y^_))+E[10]+4294925233&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(y^D&(S^y))+E[11]+2304563134&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(S^_&(D^S))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=S+(D^y&(_^D))+E[13]+4254626195&4294967295,S=y+(I<<12&4294967295|I>>>20),I=D+(_^S&(y^_))+E[14]+2792965006&4294967295,D=S+(I<<17&4294967295|I>>>15),I=_+(y^D&(S^y))+E[15]+1236535329&4294967295,_=D+(I<<22&4294967295|I>>>10),I=y+(D^S&(_^D))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(y^_))+E[6]+3225465664&4294967295,S=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(S^y))+E[11]+643717713&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(D^S))+E[0]+3921069994&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^S&(_^D))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(y^_))+E[10]+38016083&4294967295,S=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(S^y))+E[15]+3634488961&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(D^S))+E[4]+3889429448&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^S&(_^D))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(y^_))+E[14]+3275163606&4294967295,S=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(S^y))+E[3]+4107603335&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(D^S))+E[8]+1163531501&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(D^S&(_^D))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=S+(_^D&(y^_))+E[2]+4243563512&4294967295,S=y+(I<<9&4294967295|I>>>23),I=D+(y^_&(S^y))+E[7]+1735328473&4294967295,D=S+(I<<14&4294967295|I>>>18),I=_+(S^y&(D^S))+E[12]+2368359562&4294967295,_=D+(I<<20&4294967295|I>>>12),I=y+(_^D^S)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^D)+E[8]+2272392833&4294967295,S=y+(I<<11&4294967295|I>>>21),I=D+(S^y^_)+E[11]+1839030562&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^y)+E[14]+4259657740&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^S)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^D)+E[4]+1272893353&4294967295,S=y+(I<<11&4294967295|I>>>21),I=D+(S^y^_)+E[7]+4139469664&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^y)+E[10]+3200236656&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^S)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^D)+E[0]+3936430074&4294967295,S=y+(I<<11&4294967295|I>>>21),I=D+(S^y^_)+E[3]+3572445317&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^y)+E[6]+76029189&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(_^D^S)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=S+(y^_^D)+E[12]+3873151461&4294967295,S=y+(I<<11&4294967295|I>>>21),I=D+(S^y^_)+E[15]+530742520&4294967295,D=S+(I<<16&4294967295|I>>>16),I=_+(D^S^y)+E[2]+3299628645&4294967295,_=D+(I<<23&4294967295|I>>>9),I=y+(D^(_|~S))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~D))+E[7]+1126891415&4294967295,S=y+(I<<10&4294967295|I>>>22),I=D+(y^(S|~_))+E[14]+2878612391&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~y))+E[5]+4237533241&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~S))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~D))+E[3]+2399980690&4294967295,S=y+(I<<10&4294967295|I>>>22),I=D+(y^(S|~_))+E[10]+4293915773&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~y))+E[1]+2240044497&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~S))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~D))+E[15]+4264355552&4294967295,S=y+(I<<10&4294967295|I>>>22),I=D+(y^(S|~_))+E[6]+2734768916&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~y))+E[13]+1309151649&4294967295,_=D+(I<<21&4294967295|I>>>11),I=y+(D^(_|~S))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=S+(_^(y|~D))+E[11]+3174756917&4294967295,S=y+(I<<10&4294967295|I>>>22),I=D+(y^(S|~_))+E[2]+718787259&4294967295,D=S+(I<<15&4294967295|I>>>17),I=_+(S^(D|~y))+E[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var _=y-this.blockSize,E=this.B,D=this.h,S=0;S<y;){if(D==0)for(;S<=_;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<y;)if(E[D++]=T.charCodeAt(S++),D==this.blockSize){i(this,E),D=0;break}}else for(;S<y;)if(E[D++]=T[S++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var _=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=_&255,_/=256;for(this.u(T),T=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)T[_++]=this.g[y]>>>E&255;return T};function s(T,y){var _=a;return Object.prototype.hasOwnProperty.call(_,T)?_[T]:_[T]=y(T)}function o(T,y){this.h=y;for(var _=[],E=!0,D=T.length-1;0<=D;D--){var S=T[D]|0;E&&S==y||(_[D]=S,E=!1)}this.g=_}var a={};function u(T){return-128<=T&&128>T?s(T,function(y){return new o([y|0],0>y?-1:0)}):new o([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var y=[],_=1,E=0;T>=_;E++)y[E]=T/_|0,_*=4294967296;return new o(y,0)}function h(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return R(h(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,D=0;D<T.length;D+=8){var S=Math.min(8,T.length-D),I=parseInt(T.substring(D,D+S),y);8>S?(S=l(Math.pow(y,S)),E=E.j(S).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-R(this).m();for(var T=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);T+=(0<=E?E:4294967296+E)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var y=l(Math.pow(T,6)),_=this,E="";;){var D=H(_,y).g;_=P(_,D.j(y));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(T);if(_=D,C(_))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function N(T){return T.h==-1}t.l=function(T){return T=P(this,T),N(T)?-1:C(T)?0:1};function R(T){for(var y=T.g.length,_=[],E=0;E<y;E++)_[E]=~T.g[E];return new o(_,~T.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],E=0,D=0;D<=y;D++){var S=E+(this.i(D)&65535)+(T.i(D)&65535),I=(S>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);E=I>>>16,S&=65535,I&=65535,_[D]=I<<16|S}return new o(_,_[_.length-1]&-2147483648?-1:0)};function P(T,y){return T.add(R(y))}t.j=function(T){if(C(this)||C(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(v)&&0>T.l(v))return l(this.m()*T.m());for(var y=this.g.length+T.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<T.g.length;D++){var S=this.i(E)>>>16,I=this.i(E)&65535,gn=T.i(D)>>>16,Qs=T.i(D)&65535;_[2*E+2*D]+=I*Qs,B(_,2*E+2*D),_[2*E+2*D+1]+=S*Qs,B(_,2*E+2*D+1),_[2*E+2*D+1]+=I*gn,B(_,2*E+2*D+1),_[2*E+2*D+2]+=S*gn,B(_,2*E+2*D+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new o(_,0)};function B(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function V(T,y){this.g=T,this.h=y}function H(T,y){if(C(y))throw Error("division by zero");if(C(T))return new V(p,p);if(N(T))return y=H(R(T),y),new V(R(y.g),R(y.h));if(N(y))return y=H(T,R(y)),new V(R(y.g),y.h);if(30<T.g.length){if(N(T)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(T);)_=ye(_),E=ye(E);var D=W(_,1),S=W(E,1);for(E=W(E,2),_=W(_,2);!C(E);){var I=S.add(E);0>=I.l(T)&&(D=D.add(_),S=I),E=W(E,1),_=W(_,1)}return y=P(T,D.j(y)),new V(D,y)}for(D=p;0<=T.l(y);){for(_=Math.max(1,Math.floor(T.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=l(_),I=S.j(y);N(I)||0<I.l(T);)_-=E,S=l(_),I=S.j(y);C(S)&&(S=m),D=D.add(S),T=P(T,I)}return new V(D,T)}t.A=function(T){return H(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&T.i(E);return new o(_,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|T.i(E);return new o(_,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^T.i(E);return new o(_,this.h^T.h)};function ye(T){for(var y=T.g.length+1,_=[],E=0;E<y;E++)_[E]=T.i(E)<<1|T.i(E-1)>>>31;return new o(_,T.h)}function W(T,y){var _=y>>5;y%=32;for(var E=T.g.length-_,D=[],S=0;S<E;S++)D[S]=0<y?T.i(S+_)>>>y|T.i(S+_+1)<<32-y:T.i(S+_);return new o(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ey=CC.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,wr=CC.Integer=o}).apply(typeof bC<"u"?bC:typeof self<"u"?self:typeof window<"u"?window:{});var Bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ln={};var ty,dj,Ss,ny,ba,$l,ry,iy,sy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bl=="object"&&Bl];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var O=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)O[Ie-2]=arguments[Ie];return d.prototype[b].apply(g,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let O=0;O<A;O++)c[b+O]=g[O]}else c.push(g)}}class P{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function B(c){return/^[\s\xa0]*$/.test(c)}function V(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function H(c){return H[" "](c),c}H[" "]=function(){};var ye=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function W(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Vd;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class gn{constructor(){this.h=this.g=null}add(d,f){let g=Qs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Qs=new P(()=>new V0,c=>c.reset());class V0{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ys,Js=!1,Vd=new gn,I_=()=>{let c=a.Promise.resolve(void 0);Ys=()=>{c.then(U0)}};var U0=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=Qs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Js=!1};function Hn(){this.s=this.s,this.C=this.C}Hn.prototype.s=!1,Hn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Hn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var j0=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Zs(c,d){if(Je.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ye){e:{try{H(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:B0[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Zs.aa.h.call(this)}}C(Zs,Je);var B0={2:"touch",3:"pen",4:"mouse"};Zs.prototype.h=function(){Zs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Xs="closure_listenable_"+(1e6*Math.random()|0),$0=0;function H0(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++$0,this.da=this.fa=!1}function Qa(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ya(c){this.src=c,this.g={},this.h=0}Ya.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=jd(c,d,g,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new H0(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function Ud(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Qa(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function jd(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var Bd="closure_lm_"+(1e6*Math.random()|0),$d={};function w_(c,d,f,g,b){if(g&&g.once)return T_(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)w_(c,d[A],f,g,b);return null}return f=Gd(f),c&&c[Xs]?c.K(d,f,l(g)?!!g.capture:!!g,b):E_(c,d,f,!1,g,b)}function E_(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,Ie=qd(c);if(Ie||(c[Bd]=Ie=new Ya(c)),f=Ie.add(d,f,g,O,A),f.proxy)return f;if(g=q0(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)j0||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(b_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function q0(){function c(f){return d.call(c.src,c.listener,f)}let d=z0;return c}function T_(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)T_(c,d[A],f,g,b);return null}return f=Gd(f),c&&c[Xs]?c.L(d,f,l(g)?!!g.capture:!!g,b):E_(c,d,f,!0,g,b)}function D_(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)D_(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=Gd(f),c&&c[Xs]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=jd(A,f,g,b),-1<f&&(Qa(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=qd(c))&&(d=c.g[d.toString()],c=-1,d&&(c=jd(d,f,g,b)),(f=-1<c?d[c]:null)&&Hd(f))}function Hd(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Xs])Ud(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(b_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=qd(d))?(Ud(f,c),f.h==0&&(f.src=null,d[Bd]=null)):Qa(c)}}}function b_(c){return c in $d?$d[c]:$d[c]="on"+c}function z0(c,d){if(c.da)c=!0;else{d=new Zs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Hd(c),c=f.call(g,d)}return c}function qd(c){return c=c[Bd],c instanceof Ya?c:null}var zd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gd(c){return typeof c=="function"?c:(c[zd]||(c[zd]=function(d){return c.handleEvent(d)}),c[zd])}function Ze(){Hn.call(this),this.i=new Ya(this),this.M=this,this.F=null}C(Ze,Hn),Ze.prototype[Xs]=!0,Ze.prototype.removeEventListener=function(c,d,f,g){D_(this,c,d,f,g)};function ot(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Je(d,c);else if(d instanceof Je)d.target=d.target||c;else{var b=d;d=new Je(g,c),E(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var O=d.g=f[A];b=Ja(O,g,!0,d)&&b}if(O=d.g=c,b=Ja(O,g,!0,d)&&b,b=Ja(O,g,!1,d)&&b,f)for(A=0;A<f.length;A++)O=d.g=f[A],b=Ja(O,g,!1,d)&&b}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Qa(f[g]);delete c.g[d],c.h--}}this.F=null},Ze.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Ze.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ja(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==f){var Ie=O.listener,qe=O.ha||O.src;O.fa&&Ud(c.i,O),b=Ie.call(qe,g)!==!1&&b}}return b&&!g.defaultPrevented}function C_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function S_(c){c.g=C_(()=>{c.g=null,c.i&&(c.i=!1,S_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class G0 extends Hn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:S_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eo(c){Hn.call(this),this.h=c,this.g={}}C(eo,Hn);var A_=[];function R_(c){W(c.g,function(d,f){this.g.hasOwnProperty(f)&&Hd(d)},c),c.g={}}eo.prototype.N=function(){eo.aa.N.call(this),R_(this)},eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wd=a.JSON.stringify,W0=a.JSON.parse,K0=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Kd(){}Kd.prototype.h=null;function N_(c){return c.h||(c.h=c.i())}function x_(){}var to={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qd(){Je.call(this,"d")}C(Qd,Je);function Yd(){Je.call(this,"c")}C(Yd,Je);var Rr={},M_=null;function Za(){return M_=M_||new Ze}Rr.La="serverreachability";function P_(c){Je.call(this,Rr.La,c)}C(P_,Je);function no(c){let d=Za();ot(d,new P_(d))}Rr.STAT_EVENT="statevent";function O_(c,d){Je.call(this,Rr.STAT_EVENT,c),this.stat=d}C(O_,Je);function at(c){let d=Za();ot(d,new O_(d,c))}Rr.Ma="timingevent";function k_(c,d){Je.call(this,Rr.Ma,c),this.size=d}C(k_,Je);function ro(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function io(){this.g=!0}io.prototype.xa=function(){this.g=!1};function Q0(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var O="",Ie=A.split("&"),qe=0;qe<Ie.length;qe++){var pe=Ie[qe].split("=");if(1<pe.length){var Xe=pe[0];pe=pe[1];var et=Xe.split("_");O=2<=et.length&&et[1]=="type"?O+(Xe+"="+pe+"&"):O+(Xe+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function Y0(c,d,f,g,b,A,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+O})}function Ni(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Z0(c,f)+(g?" "+g:"")})}function J0(c,d){c.info(function(){return"TIMEOUT: "+d})}io.prototype.info=function(){};function Z0(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return Wd(f)}catch{return d}}var Xa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},L_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jd;function ec(){}C(ec,Kd),ec.prototype.g=function(){return new XMLHttpRequest},ec.prototype.i=function(){return{}},Jd=new ec;function qn(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new eo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new F_}function F_(){this.i=null,this.g="",this.h=!1}var V_={},Zd={};function Xd(c,d,f){c.L=1,c.v=ic(mn(d)),c.m=f,c.P=!0,U_(c,null)}function U_(c,d){c.F=Date.now(),tc(c),c.A=mn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),X_(f.i,"t",g),c.C=0,f=c.j.J,c.h=new F_,c.g=yI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new G0(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(A_[0]=b.toString()),b=A_);for(var A=0;A<b.length;A++){var O=w_(f,b[A],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),no(),Q0(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;let d=this.M;d&&yn(c)==3?d.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{let et=yn(this.g);var d=this.g.Ba();let Pi=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||oI(this.g)))){this.J||et!=4||d==7||(d==8||0>=Pi?no(3):no(2)),eh(this);var f=this.g.Z();this.X=f;t:if(j_(this)){var g=oI(this.g);c="";var b=g.length,A=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),so(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,Y0(this.i,this.u,this.A,this.l,this.R,et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,qe=this.g;if((Ie=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ie)){var pe=Ie;break t}}pe=null}if(f=pe)Ni(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,th(this,f);else{this.o=!1,this.s=3,at(12),Nr(this),so(this);break e}}if(this.P){f=!0;let Lt;for(;!this.J&&this.C<O.length;)if(Lt=X0(this,O),Lt==Zd){et==4&&(this.s=4,at(14),f=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==V_){this.s=4,at(15),Ni(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else Ni(this.i,this.l,Lt,null),th(this,Lt);if(j_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||O.length!=0||this.h.h||(this.s=1,at(16),f=!1),this.o=this.o&&f,!f)Ni(this.i,this.l,O,"[Invalid Chunked Response]"),Nr(this),so(this);else if(0<O.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),ah(Xe),Xe.M=!0,at(11))}}else Ni(this.i,this.l,O,null),th(this,O);et==4&&Nr(this),this.o&&!this.J&&(et==4?fI(this.j,this):(this.o=!1,tc(this)))}else mA(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Nr(this),so(this)}}}catch{}finally{}};function j_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function X0(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Zd:(f=Number(d.substring(f,g)),isNaN(f)?V_:(g+=1,g+f>d.length?Zd:(d=d.slice(g,g+f),c.C=g+f,d)))}qn.prototype.cancel=function(){this.J=!0,Nr(this)};function tc(c){c.S=Date.now()+c.I,B_(c,c.I)}function B_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ro(m(c.ba,c),d)}function eh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(J0(this.i,this.A),this.L!=2&&(no(),at(17)),Nr(this),this.s=2,so(this)):B_(this,this.S-c)};function so(c){c.j.G==0||c.J||fI(c.j,c)}function Nr(c){eh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,R_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function th(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||nh(f.h,c))){if(!c.K&&nh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)uc(f),ac(f);else break e;oh(f),at(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=ro(m(f.Za,f),6e3));if(1>=q_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Mr(f,11)}else if((c.K||f.g==c)&&uc(f),!B(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let pe=b[d];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];let Xe=pe[3];Xe!=null&&(f.la=Xe,f.j.info("VER="+f.la));let et=pe[4];et!=null&&(f.Aa=et,f.j.info("SVER="+f.Aa));let Pi=pe[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(g=1.5*Pi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Lt=c.g;if(Lt){let dc=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dc){var A=g.h;A.g||dc.indexOf("spdy")==-1&&dc.indexOf("quic")==-1&&dc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(rh(A,A.h),A.h=null))}if(g.D){let ch=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;ch&&(g.ya=ch,Ee(g.I,g.D,ch))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=mI(g,g.J?g.ia:null,g.W),O.K){z_(g.h,O);var Ie=O,qe=g.L;qe&&(Ie.I=qe),Ie.B&&(eh(Ie),tc(Ie)),g.g=O}else dI(g);0<f.i.length&&cc(f)}else pe[0]!="stop"&&pe[0]!="close"||Mr(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Mr(f,7):sh(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}no(4)}catch{}}var eA=class{constructor(c,d){this.g=c,this.map=d}};function $_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function H_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function q_(c){return c.h?1:c.g?c.g.size:0}function nh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function rh(c,d){c.g?c.g.add(d):c.h=d}function z_(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}$_.prototype.cancel=function(){if(this.i=G_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function G_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function tA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function nA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function W_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=nA(c),g=tA(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var K_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xr){this.h=c.h,nc(this,c.j),this.o=c.o,this.g=c.g,rc(this,c.s),this.l=c.l;var d=c.i,f=new co;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Q_(this,f),this.m=c.m}else c&&(d=String(c).match(K_))?(this.h=!1,nc(this,d[1]||"",!0),this.o=oo(d[2]||""),this.g=oo(d[3]||"",!0),rc(this,d[4]),this.l=oo(d[5]||"",!0),Q_(this,d[6]||"",!0),this.m=oo(d[7]||"")):(this.h=!1,this.i=new co(null,this.h))}xr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ao(d,Y_,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ao(d,Y_,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ao(f,f.charAt(0)=="/"?oA:sA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ao(f,cA)),c.join("")};function mn(c){return new xr(c)}function nc(c,d,f){c.j=f?oo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function rc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Q_(c,d,f){d instanceof co?(c.i=d,uA(c.i,c.h)):(f||(d=ao(d,aA)),c.i=new co(d,c.h))}function Ee(c,d,f){c.i.set(d,f)}function ic(c){return Ee(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function oo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ao(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,iA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function iA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Y_=/[#\/\?@]/g,sA=/[#\?:]/g,oA=/[#\?]/g,aA=/[#\?@]/g,cA=/#/g;function co(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function zn(c){c.g||(c.g=new Map,c.h=0,c.i&&rA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=co.prototype,t.add=function(c,d){zn(this),this.i=null,c=xi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function J_(c,d){zn(c),d=xi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Z_(c,d){return zn(c),d=xi(c,d),c.g.has(d)}t.forEach=function(c,d){zn(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){zn(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},t.V=function(c){zn(this);let d=[];if(typeof c=="string")Z_(this,c)&&(d=d.concat(this.g.get(xi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return zn(this),this.i=null,c=xi(this,c),Z_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function X_(c,d,f){J_(c,d),0<f.length&&(c.i=null,c.g.set(xi(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=A;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),c.push(b)}}return this.i=c.join("&")};function xi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function uA(c,d){d&&!c.j&&(zn(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(J_(this,g),X_(this,b,f))},c)),c.j=d}function lA(c,d){let f=new io;if(a.Image){let g=new Image;g.onload=v(Gn,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(Gn,f,"TestLoadImage: error",!1,d,g),g.onabort=v(Gn,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(Gn,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function dA(c,d){let f=new io,g=new AbortController,b=setTimeout(()=>{g.abort(),Gn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?Gn(f,"TestPingServer: ok",!0,d):Gn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Gn(f,"TestPingServer: error",!1,d)})}function Gn(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function hA(){this.g=new K0}function fA(c,d,f){let g=f||"";try{W_(c,function(b,A){let O=b;l(b)&&(O=Wd(b)),d.push(g+A+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function uo(c){this.l=c.Ub||null,this.j=c.eb||!1}C(uo,Kd),uo.prototype.g=function(){return new sc(this.l,this.j)},uo.prototype.i=function(c){return function(){return c}}({});function sc(c,d){Ze.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(sc,Ze),t=sc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ho(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function eI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?lo(this):ho(this),this.readyState==3&&eI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,lo(this))},t.Qa=function(c){this.g&&(this.response=c,lo(this))},t.ga=function(){this.g&&lo(this)};function lo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ho(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ho(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tI(c){let d="";return W(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function ih(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=tI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ee(c,d,f))}function Se(c){Ze.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Se,Ze);var pA=/^https?$/i,gA=["POST","PUT"];t=Se.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jd.g(),this.v=this.o?N_(this.o):N_(Jd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){nI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gA,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of f)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){nI(this,A)}};function nI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,rI(c),oc(c)}function rI(c){c.A||(c.A=!0,ot(c,"complete"),ot(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ot(this,"complete"),ot(this,"abort"),oc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oc(this,!0)),Se.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iI(this):this.bb())},t.bb=function(){iI(this)};function iI(c){if(c.h&&typeof o<"u"&&(!c.v[1]||yn(c)!=4||c.Z()!=2)){if(c.u&&yn(c)==4)C_(c.Ea,0,c);else if(ot(c,"readystatechange"),yn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var b=String(c.D).match(K_)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!pA.test(b?b.toLowerCase():"")}f=g}if(f)ot(c,"complete"),ot(c,"success");else{c.m=6;try{var A=2<yn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",rI(c)}}finally{oc(c)}}}}function oc(c,d){if(c.g){sI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ot(c,"ready");try{f.onreadystatechange=g}catch{}}}function sI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function yn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),W0(d)}};function oI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mA(c){let d={};c=(c.g&&2<=yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(B(c[g]))continue;var f=D(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}T(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function aI(c){this.Aa=0,this.i=[],this.j=new io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fo("baseRetryDelayMs",5e3,c),this.cb=fo("retryDelaySeedMs",1e4,c),this.Wa=fo("forwardChannelMaxRetries",2,c),this.wa=fo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new $_(c&&c.concurrentRequestLimit),this.Da=new hA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=aI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){at(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=mI(this,null,this.W),cc(this)};function sh(c){if(cI(c),c.G==3){var d=c.U++,f=mn(c.I);if(Ee(f,"SID",c.K),Ee(f,"RID",d),Ee(f,"TYPE","terminate"),po(c,f),d=new qn(c,c.j,d),d.L=2,d.v=ic(mn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=yI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),tc(d)}gI(c)}function ac(c){c.g&&(ah(c),c.g.cancel(),c.g=null)}function cI(c){ac(c),c.u&&(a.clearTimeout(c.u),c.u=null),uc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function cc(c){if(!H_(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ys||I_(),Js||(Ys(),Js=!0),Vd.add(d,c),c.B=0}}function yA(c,d){return q_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ro(m(c.Ga,c,d),pI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new qn(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=lI(this,b,d),f=mn(this.I),Ee(f,"RID",c),Ee(f,"CVER",22),this.D&&Ee(f,"X-HTTP-Session-Id",this.D),po(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(tI(A)))+"&"+d:this.m&&ih(f,this.m,A)),rh(this.h,b),this.Ua&&Ee(f,"TYPE","init"),this.P?(Ee(f,"$req",d),Ee(f,"SID","null"),b.T=!0,Xd(b,f,null)):Xd(b,f,d),this.G=2}}else this.G==3&&(c?uI(this,c):this.i.length==0||H_(this.h)||uI(this))};function uI(c,d){var f;d?f=d.l:f=c.U++;let g=mn(c.I);Ee(g,"SID",c.K),Ee(g,"RID",f),Ee(g,"AID",c.T),po(c,g),c.m&&c.o&&ih(g,c.m,c.o),f=new qn(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=lI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),rh(c.h,f),Xd(f,g,d)}function po(c,d){c.H&&W(c.H,function(f,g){Ee(d,g,f)}),c.l&&W_({},function(f,g){Ee(d,g,f)})}function lI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let O=["count="+f];A==-1?0<f?(A=b[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let Ie=!0;for(let qe=0;qe<f;qe++){let pe=b[qe].g,Xe=b[qe].map;if(pe-=A,0>pe)A=Math.max(0,b[qe].g-100),Ie=!1;else try{fA(Xe,O,"req"+pe+"_")}catch{g&&g(Xe)}}if(Ie){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function dI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ys||I_(),Js||(Ys(),Js=!0),Vd.add(d,c),c.v=0}}function oh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ro(m(c.Fa,c),pI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,hI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ro(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),ac(this),hI(this))};function ah(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function hI(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=mn(c.qa);Ee(d,"RID","rpc"),Ee(d,"SID",c.K),Ee(d,"AID",c.T),Ee(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ee(d,"TO",c.ja),Ee(d,"TYPE","xmlhttp"),po(c,d),c.m&&c.o&&ih(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ic(mn(d)),f.m=null,f.P=!0,U_(f,c)}t.Za=function(){this.C!=null&&(this.C=null,ac(this),oh(this),at(19))};function uc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function fI(c,d){var f=null;if(c.g==d){uc(c),ah(c),c.g=null;var g=2}else if(nh(c.h,d))f=d.D,z_(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Za(),ot(g,new k_(g,f)),cc(c)}else dI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&yA(c,d)||g==2&&oh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function pI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Mr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new xr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||nc(g,"https"),ic(g),b?lA(g.toString(),f):dA(g.toString(),f)}else at(2);c.G=0,c.l&&c.l.sa(d),gI(c),cI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function gI(c){if(c.G=0,c.ka=[],c.l){let d=G_(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function mI(c,d,f){var g=f instanceof xr?mn(f):new xr(f);if(g.g!="")d&&(g.g=d+"."+g.g),rc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new xr(null);g&&nc(A,g),d&&(A.g=d),b&&rc(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ee(g,f,d),Ee(g,"VER",c.la),po(c,g),g}function yI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Se(new uo({eb:f})):new Se(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vI(){}t=vI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lc(){}lc.prototype.g=function(c,d){return new vt(c,d)};function vt(c,d){Ze.call(this),this.g=new aI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!B(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!B(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Mi(this)}C(vt,Ze),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){sh(this.g)},vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Wd(c),c=f);d.i.push(new eA(d.Ya++,c)),d.G==3&&cc(d)},vt.prototype.N=function(){this.g.l=null,delete this.j,sh(this.g),delete this.g,vt.aa.N.call(this)};function _I(c){Qd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(_I,Qd);function II(){Yd.call(this),this.status=1}C(II,Yd);function Mi(c){this.g=c}C(Mi,vI),Mi.prototype.ua=function(){ot(this.g,"a")},Mi.prototype.ta=function(c){ot(this.g,new _I(c))},Mi.prototype.sa=function(c){ot(this.g,new II)},Mi.prototype.ra=function(){ot(this.g,"b")},lc.prototype.createWebChannel=lc.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,sy=Ln.createWebChannelTransport=function(){return new lc},iy=Ln.getStatEventTarget=function(){return Za()},ry=Ln.Event=Rr,$l=Ln.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xa.NO_ERROR=0,Xa.TIMEOUT=8,Xa.HTTP_ERROR=6,ba=Ln.ErrorCode=Xa,L_.COMPLETE="complete",ny=Ln.EventType=L_,x_.EventType=to,to.OPEN="a",to.CLOSE="b",to.ERROR="c",to.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,Ss=Ln.WebChannel=x_,dj=Ln.FetchXmlHttpFactory=uo,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,ty=Ln.XhrIo=Se}).apply(typeof Bl<"u"?Bl:typeof self<"u"?self:typeof window<"u"?window:{});var SC="@firebase/firestore";var He=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");var Gs="10.14.0";var vi=new fr("@firebase/firestore");function Ca(){return vi.logLevel}function F(t,...e){if(vi.logLevel<=ce.DEBUG){let n=e.map(Hv);vi.debug(`Firestore (${Gs}): ${t}`,...n)}}function Vn(t,...e){if(vi.logLevel<=ce.ERROR){let n=e.map(Hv);vi.error(`Firestore (${Gs}): ${t}`,...n)}}function Os(t,...e){if(vi.logLevel<=ce.WARN){let n=e.map(Hv);vi.warn(`Firestore (${Gs}): ${t}`,...n)}}function Hv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function G(t="Unexpected state"){let e=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: `+t;throw Vn(e),new Error(e)}function _e(t,e){t||G()}function Y(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends dt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Wl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ly=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(He.UNAUTHENTICATED))}shutdown(){}},dy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},hy=class{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new Wl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new He(e)}},fy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},py=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}},gy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},my=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_e(this.o===void 0);let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new gy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function hj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Kl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=hj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function ks(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ye=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ye(0,0))}static max(){return new t(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ql=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ce=class t extends Ql{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},fj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class t extends Ql{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return fj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new L(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var $=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ce.fromString(e))}static fromName(e){return new t(Ce.fromString(e).popFirst(5))}static empty(){return new t(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ce(e.slice()))}};var yy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};yy.UNKNOWN_ID=-1;function pj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new _i(i,$.empty(),e)}function gj(t){return new _i(t.readTime,t.key,-1)}var _i=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),$.empty(),-1)}static max(){return new t(ee.max(),$.empty(),-1)}};function mj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function qa(t){return w(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==yj)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function vj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function za(t){return t.name==="IndexedDbTransactionError"}var cS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ad(t){return t==null}function Ma(t){return t===0&&1/t==-1/0}function _j(t){return typeof t=="number"&&Number.isInteger(t)&&!Ma(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ij=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Z3=[...Ij,"documentOverlays"],wj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ej=wj,Tj=[...Ej,"indexConfiguration","indexState","indexEntries"];var X3=[...Tj,"globals"];function AC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ci(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ae=class t{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xs(this.root,e,this.comparator,!0)}},xs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},un=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var it=class t{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yl(this.data.getIterator())}getIteratorFrom(e){return new Yl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Yl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kt=class t{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new it(Ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Jl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var Dj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Un(t){if(_e(!!t),typeof t=="string"){let e=0,n=Dj.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}function qv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zv(t){let e=t.mapValue.fields.__previous_value__;return qv(e)?zv(e):e}function Pa(t){let e=Un(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}var _y=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Zl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Hl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qv(t)?4:dS(t)?9007199254740991:lS(t)?10:11:G()}function hn(t,e){if(t===e)return!0;let n=Ii(t);if(n!==Ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pa(t).isEqual(Pa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Un(i.timestampValue),a=Un(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Dr(i.bytesValue).isEqual(Dr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=be(i.doubleValue),a=be(s.doubleValue);return o===a?Ma(o)===Ma(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ks(t.arrayValue.values||[],e.arrayValue.values||[],hn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(AC(o)!==AC(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!hn(o[u],a[u])))return!1;return!0}(t,e);default:return G()}}function Oa(t,e){return(t.values||[]).find(n=>hn(n,e))!==void 0}function Ls(t,e){if(t===e)return 0;let n=Ii(t),r=Ii(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=be(s.integerValue||s.doubleValue),u=be(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return RC(t.timestampValue,e.timestampValue);case 4:return RC(Pa(t),Pa(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Dr(s),u=Dr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=me(a[l],u[l]);if(h!==0)return h}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=me(be(s.latitude),be(o.latitude));return a!==0?a:me(be(s.longitude),be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return NC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=me(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:NC(v,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hl.mapValue&&o===Hl.mapValue)return 0;if(s===Hl.mapValue)return 1;if(o===Hl.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=me(u[p],h[p]);if(m!==0)return m;let v=Ls(a[u[p]],l[h[p]]);if(v!==0)return v}return me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw G()}}function RC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=Un(t),r=Un(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function NC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ls(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function Fs(t){return Iy(t)}function Iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Un(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Dr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Iy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Iy(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function xC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wy(t){return!!t&&"integerValue"in t}function Gv(t){return!!t&&"arrayValue"in t}function MC(t){return!!t&&"nullValue"in t}function PC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zl(t){return!!t&&"mapValue"in t}function lS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Aa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ci(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Aa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Aa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var bt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Aa(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Aa(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ci(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Aa(this.value))}};function hS(t){let e=[];return Ci(t.fields,(n,r)=>{let i=new Ct([n]);if(zl(r)){let s=hS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new kt(e)}var zt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vs=class{constructor(e,n){this.position=e,this.inclusive=n}};function OC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=$.comparator($.fromName(o.referenceValue),n.key):r=Ls(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hn(t.position[n],e.position[n]))return!1;return!0}var wi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function bj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Xl=class{},Fe=class t extends Xl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ty(e,n,r):n==="array-contains"?new Cy(e,r):n==="in"?new Sy(e,r):n==="not-in"?new Ay(e,r):n==="array-contains-any"?new Ry(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dy(e,r):new by(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&Ii(this.value)===Ii(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Gt=class t extends Xl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return fS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function fS(t){return t.op==="and"}function pS(t){return Cj(t)&&fS(t)}function Cj(t){for(let e of t.filters)if(e instanceof Gt)return!1;return!0}function Ey(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+Fs(t.value);if(pS(t))return t.filters.map(e=>Ey(e)).join(",");{let e=t.filters.map(n=>Ey(n)).join(",");return`${t.op}(${e})`}}function gS(t,e){return t instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&hn(r.value,i.value)}(t,e):t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&gS(o,i.filters[a]),!0):!1}(t,e):void G()}function mS(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(t):t instanceof Gt?function(n){return n.op.toString()+" {"+n.getFilters().map(mS).join(" ,")+"}"}(t):"Filter"}var Ty=class extends Fe{constructor(e,n,r){super(e,n,r),this.key=$.fromName(r.referenceValue)}matches(e){let n=$.comparator(e.key,this.key);return this.matchesComparison(n)}},Dy=class extends Fe{constructor(e,n){super(e,"in",n),this.keys=yS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},by=class extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=yS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function yS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$.fromName(r.referenceValue))}var Cy=class extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Gv(n)&&Oa(n.arrayValue,this.value)}},Sy=class extends Fe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Oa(this.value.arrayValue,n)}},Ay=class extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Oa(this.value.arrayValue,n)}},Ry=class extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oa(this.value.arrayValue,r))}};var Ny=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function LC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ny(t,e,n,r,i,s,o)}function Wv(t){let e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ey(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fs(r)).join(",")),e.ue=n}return e.ue}function Kv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kC(t.startAt,e.startAt)&&kC(t.endAt,e.endAt)}function xy(t){return $.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var br=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Sj(t,e,n,r,i,s,o,a){return new br(t,e,n,r,i,s,o,a)}function Rd(t){return new br(t)}function FC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vS(t){return t.collectionGroup!==null}function Ra(t){let e=Y(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(Ct.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new wi(s,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new wi(Ct.keyField(),r))}return e.ce}function ln(t){let e=Y(t);return e.le||(e.le=Aj(e,Ra(t))),e.le}function Aj(t,e){if(t.limitType==="F")return LC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new wi(i.field,s)});let n=t.endAt?new Vs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vs(t.startAt.position,t.startAt.inclusive):null;return LC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function My(t,e){let n=t.filters.concat([e]);return new br(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Py(t,e,n){return new br(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nd(t,e){return Kv(ln(t),ln(e))&&t.limitType===e.limitType}function _S(t){return`${Wv(ln(t))}|lt:${t.limitType}`}function As(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mS(i)).join(", ")}]`),Ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fs(i)).join(",")),`Target(${r})`}(ln(t))}; limitType=${t.limitType})`}function xd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ra(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=OC(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Ra(r),i)||r.endAt&&!function(o,a,u){let l=OC(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Ra(r),i))}(t,e)}function Rj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IS(t){return(e,n)=>{let r=!1;for(let i of Ra(t)){let s=Nj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Nj(t,e,n){let r=t.field.isKeyField()?$.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Ls(u,l):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var Cr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ci(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return uS(this.inner)}size(){return this.innerSize}};var xj=new Ae($.comparator);function jn(){return xj}var wS=new Ae($.comparator);function Sa(...t){let e=wS;for(let n of t)e=e.insert(n.key,n);return e}function ES(t){let e=wS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gi(){return Na()}function TS(){return Na()}function Na(){return new Cr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Mj=new Ae($.comparator),Pj=new it($.comparator);function ue(...t){let e=Pj;for(let n of t)e=e.add(n);return e}var Oj=new it(me);function kj(){return Oj}function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ma(e)?"-0":e}}function DS(t){return{integerValue:""+t}}function Lj(t,e){return _j(e)?DS(e):Qv(t,e)}var Us=class{constructor(){this._=void 0}};function Fj(t,e,n){return t instanceof js?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&qv(s)&&(s=zv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ei?CS(t,e):t instanceof Ti?SS(t,e):function(i,s){let o=bS(i,s),a=VC(o)+VC(i.Pe);return wy(o)&&wy(i.Pe)?DS(a):Qv(i.serializer,a)}(t,e)}function Vj(t,e,n){return t instanceof Ei?CS(t,e):t instanceof Ti?SS(t,e):n}function bS(t,e){return t instanceof Bs?function(r){return wy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var js=class extends Us{},Ei=class extends Us{constructor(e){super(),this.elements=e}};function CS(t,e){let n=AS(e);for(let r of t.elements)n.some(i=>hn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ti=class extends Us{constructor(e){super(),this.elements=e}};function SS(t,e){let n=AS(e);for(let r of t.elements)n=n.filter(i=>!hn(i,r));return{arrayValue:{values:n}}}var Bs=class extends Us{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function VC(t){return be(t.integerValue||t.doubleValue)}function AS(t){return Gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Uj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ei&&i instanceof Ei||r instanceof Ti&&i instanceof Ti?ks(r.elements,i.elements,hn):r instanceof Bs&&i instanceof Bs?hn(r.Pe,i.Pe):r instanceof js&&i instanceof js}(t.transform,e.transform)}var Oy=class{constructor(e,n){this.version=e,this.transformResults=n}},Er=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var $s=class{};function RS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ed(t.key,Er.none()):new Di(t.key,t.data,Er.none());{let n=t.data,r=bt.empty(),i=new it(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fn(t.key,r,new kt(i.toArray()),Er.none())}}function jj(t,e,n){t instanceof Di?function(i,s,o){let a=i.value.clone(),u=jC(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fn?function(i,s,o){if(!Gl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=jC(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(NS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function xa(t,e,n,r){return t instanceof Di?function(s,o,a,u){if(!Gl(s.precondition,o))return a;let l=s.value.clone(),h=BC(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fn?function(s,o,a,u){if(!Gl(s.precondition,o))return a;let l=BC(s.fieldTransforms,u,o),h=o.data;return h.setAll(NS(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Gl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Bj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=bS(r.transform,i||null);s!=null&&(n===null&&(n=bt.empty()),n.set(r.field,s))}return n||null}function UC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ks(r,i,(s,o)=>Uj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Di=class extends $s{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fn=class extends $s{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function NS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function jC(t,e,n){let r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Vj(o,a,n[i]))}return r}function BC(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Fj(s,o,e))}return r}var ed=class extends $s{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ky=class extends $s{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ly=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&jj(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=xa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=TS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=RS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(n,r)=>UC(n,r))&&ks(this.baseMutations,e.baseMutations,(n,r)=>UC(n,r))}},Fy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return Mj}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Vy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Uy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ke,he;function $j(t){switch(t){default:return G();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function xS(t){if(t===void 0)return Vn("GRPC error has no .code"),x.UNKNOWN;switch(t){case ke.OK:return x.OK;case ke.CANCELLED:return x.CANCELLED;case ke.UNKNOWN:return x.UNKNOWN;case ke.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case ke.INTERNAL:return x.INTERNAL;case ke.UNAVAILABLE:return x.UNAVAILABLE;case ke.UNAUTHENTICATED:return x.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case ke.NOT_FOUND:return x.NOT_FOUND;case ke.ALREADY_EXISTS:return x.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return x.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case ke.ABORTED:return x.ABORTED;case ke.OUT_OF_RANGE:return x.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return x.UNIMPLEMENTED;case ke.DATA_LOSS:return x.DATA_LOSS;default:return G()}}(he=ke||(ke={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var $C=null;function Hj(){return new TextEncoder}var qj=new wr([4294967295,4294967295],0);function HC(t){let e=Hj().encode(t),n=new ey;return n.update(e),new Uint8Array(n.digest())}function qC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wr([n,r],0),new wr([i,s],0)]}var jy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mi(`Invalid padding: ${n}`);if(r<0)throw new mi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=wr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(wr.fromNumber(r)));return i.compare(qj)===1&&(i=new wr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=HC(e),[r,i]=qC(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=HC(e),[r,i]=qC(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},mi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var td=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ka.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new Ae(me),jn(),ue())}},ka=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var Ms=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},nd=class{constructor(e,n){this.targetId=e,this.me=n}},rd=class{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},id=class{constructor(){this.fe=0,this.ge=GC(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new ka(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=GC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},By=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=jn(),this.qe=zC(),this.Qe=new Ae(me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(xy(s))if(r===0){let o=new $(s.path);this.Ue(n,o,zt.newNoDocument(o,ee.min()))}else _e(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}$C?.et(function(h,p,m,v,C){var N,R,P,B,V,H;let ye={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},W=p.unchangedNames;return W&&(ye.bloomFilter={applied:C===0,hashCount:(N=W?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(B=(P=(R=W?.bits)===null||R===void 0?void 0:R.bitmap)===null||P===void 0?void 0:P.length)!==null&&B!==void 0?B:0,padding:(H=(V=W?.bits)===null||V===void 0?void 0:V.padding)!==null&&H!==void 0?H:0,mightContain:T=>{var y;return(y=v?.mightContain(T))!==null&&y!==void 0&&y}}),ye}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Dr(r).toUint8Array()}catch(u){if(u instanceof Jl)return Os("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new jy(o,i,s)}catch(u){return Os(u instanceof mi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&xy(a.target)){let u=new $(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,zt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new td(e,n,this.Qe,this.ke,r);return this.ke=jn(),this.qe=zC(),this.Qe=new Ae(me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new id,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new it(me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new id),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function zC(){return new Ae($.comparator)}function GC(){return new Ae($.comparator)}var zj={asc:"ASCENDING",desc:"DESCENDING"},Gj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wj={and:"AND",or:"OR"},$y=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Hy(t,e){return t.useProto3Json||Ad(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kj(t,e){return sd(t,e.toTimestamp())}function dn(t){return _e(!!t),ee.fromTimestamp(function(n){let r=Un(n);return new Ye(r.seconds,r.nanos)}(t))}function Yv(t,e){return qy(t,e).canonicalString()}function qy(t,e){let n=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PS(t){let e=Ce.fromString(t);return _e(VS(e)),e}function zy(t,e){return Yv(t.databaseId,e.path)}function oy(t,e){let n=PS(e);if(n.get(1)!==t.databaseId.projectId)throw new L(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $(kS(n))}function OS(t,e){return Yv(t.databaseId,e)}function Qj(t){let e=PS(t);return e.length===4?Ce.emptyPath():kS(e)}function Gy(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kS(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function WC(t,e,n){return{name:zy(t,e),fields:n.value.mapValue.fields}}function Yj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(_e(h===void 0||typeof h=="string"),st.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array),st.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?x.UNKNOWN:xS(l.code);return new L(h,l.message||"")}(o);n=new rd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=oy(t,r.document.name),s=dn(r.document.updateTime),o=r.document.createTime?dn(r.document.createTime):ee.min(),a=new bt({mapValue:{fields:r.document.fields}}),u=zt.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ms(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=oy(t,r.document),s=r.readTime?dn(r.readTime):ee.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ms([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=oy(t,r.document),s=r.removedTargetIds||[];n=new Ms([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Uy(i,s),a=r.targetId;n=new nd(a,o)}}return n}function Jj(t,e){let n;if(e instanceof Di)n={update:WC(t,e.key,e.value)};else if(e instanceof ed)n={delete:zy(t,e.key)};else if(e instanceof fn)n={update:WC(t,e.key,e.data),updateMask:o2(e.fieldMask)};else{if(!(e instanceof ky))return G();n={verify:zy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof js)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ei)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ti)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bs)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Kj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function Zj(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?dn(i.updateTime):dn(s);return o.isEqual(ee.min())&&(o=dn(s)),new Oy(o,i.transformResults||[])}(n,e))):[]}function Xj(t,e){return{documents:[OS(t,e.path)]}}function e2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OS(t,i);let s=function(l){if(l.length!==0)return FS(Gt.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Rs(m.field),direction:r2(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Hy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function t2(t){let e=Qj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_e(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=LS(p);return m instanceof Gt&&pS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(C){return new wi(Ns(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Ad(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new Vs(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new Vs(v,m)}(n.endAt)),Sj(e,i,o,s,a,"F",u,l)}function n2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ns(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ns(n.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ns(n.unaryFilter.field);return Fe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ns(n.unaryFilter.field);return Fe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(Ns(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gt.create(n.compositeFilter.filters.map(r=>LS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function r2(t){return zj[t]}function i2(t){return Gj[t]}function s2(t){return Wj[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Ns(t){return Ct.fromServerFormat(t.fieldPath)}function FS(t){return t instanceof Fe?function(n){if(n.op==="=="){if(PC(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(MC(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PC(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(MC(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:i2(n.op),value:n.value}}}(t):t instanceof Gt?function(n){let r=n.getFilters().map(i=>FS(i));return r.length===1?r[0]:{compositeFilter:{op:s2(n.op),filters:r}}}(t):G()}function o2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var La=class t{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=st.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Wy=class{constructor(e){this.ct=e}};function a2(t){let e=t2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Py(e,e.limit,"L"):e}var od=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ma(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Un(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Dr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?dS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):lS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):G()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(be(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),$.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};od.vt=new od;var Ky=class{constructor(){this.un=new Qy}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(_i.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},Qy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(Ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Ce.comparator)).toArray()}};var t5=new Uint8Array(0);var an=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);var Fa=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Yy=class{constructor(){this.changes=new Cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Zy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&xa(r.mutation,i,kt.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Sa();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jn(),o=Na(),a=function(){return Na()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof fn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),xa(h.mutation,l,h.mutation.getFieldMask(),Ye.now())):o.set(l.key,kt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Jy(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Na(),i=new Ae((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||kt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=TS();h.forEach(m=>{if(!s.has(m)){let v=RS(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return $.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(gi()),a=-1,u=s;return o.next(l=>M.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:ES(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $(n)).next(r=>{let i=Sa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Sa();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,u=>{let l=function(p,m){return new br(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,zt.newInvalidDocument(h)))});let a=Sa();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&xa(h.mutation,l,kt.empty(),Ye.now()),xd(n,l)&&(a=a.insert(u,l))}),a})}};var Xy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:dn(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:a2(i.bundledQuery),readTime:dn(i.readTime)}}(n)),M.resolve()}};var ev=class{constructor(){this.overlays=new Ae($.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=gi();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=gi(),s=n.length+1,o=new $(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ae((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=gi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=gi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vy(n,r));let s=this.Ir.get(n);s===void 0&&(s=ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var tv=class{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var Va=class{constructor(){this.Tr=new it(Le.Er),this.dr=new it(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Le(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Le(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new $(new Ce([])),r=new Le(n,e),i=new Le(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new $(new Ce([])),r=new Le(n,e),i=new Le(n,e+1),s=ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Le(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return $.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||$.comparator(e.key,n.key)}};var nv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new it(Le.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Ly(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Le(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Le(n,0),i=new Le(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(me);return n.forEach(i=>{let s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;$.isDocumentKey(s)||(s=s.child(""));let o=new Le(new $(s),0),a=new it(me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),M.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let s=new Le(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Le(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var rv=class{constructor(e){this.Mr=e,this.docs=function(){return new Ae($.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jn(),o=n.path,a=new $(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||mj(gj(h),r)<=0||(i.has(h.key)||xd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iv(this)}getSize(e){return M.resolve(this.size)}},iv=class extends Yy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var sv=class{constructor(e){this.persistence=e,this.Nr=new Cr(n=>Wv(n),Kv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Va,this.targetCount=0,this.kr=Fa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Fa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var ov=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new cS(0),this.Kr=!1,this.Kr=!0,this.$r=new tv,this.referenceDelegate=e(this),this.Ur=new sv(this),this.indexManager=new Ky,this.remoteDocumentCache=function(i){return new rv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Wy(n),this.Gr=new Xy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ev,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new nv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new av(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},av=class extends vy{constructor(e){super(),this.currentSequenceNumber=e}},cv=class t{constructor(e){this.persistence=e,this.Jr=new Va,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=$.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var uv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var lv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var dv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return vb()?8:vj($e())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new lv;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ca()<=ce.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",As(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(Ca()<=ce.DEBUG&&F("QueryEngine","Query:",As(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ca()<=ce.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",As(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ln(n))):M.resolve())}Yi(e,n){if(FC(n))return M.resolve(null);let r=ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Py(n,null,"F"),r=ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Py(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return FC(n)||i.isEqual(ee.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(Ca()<=ce.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),As(n)),this.rs(e,o,n,pj(i,-1)).next(a=>a))})}ts(e,n){let r=new it(IS(e));return n.forEach((i,s)=>{xd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ca()<=ce.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",As(n)),this.Ji.getDocumentsMatchingQuery(e,n,_i.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var hv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ae(me),this._s=new Cr(s=>Wv(s),Kv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function c2(t,e,n,r){return new hv(t,e,n,r)}function US(t,e){return w(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ue();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function u2(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=M.resolve();return m.forEach(C=>{v=v.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);_e(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function jS(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function l2(t,e){let n=Y(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(st.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(N,R,P){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=jn(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(d2(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ee.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function d2(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function h2(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f2(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new La(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function fv(t,e,n){return w(this,null,function*(){let r=Y(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!za(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function KC(t,e,n){let r=Y(t),i=ee.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Y(u),m=p._s.get(h);return m!==void 0?M.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:ue())).next(a=>(p2(r,Rj(e),a),{documents:a,Ts:s})))}function p2(t,e,n){let r=t.us.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var ad=class{constructor(){this.activeTargetIds=kj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var pv=class{constructor(){this.so=new ad,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ad,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var gv=class{_o(e){}shutdown(){}};var cd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ql=null;function ay(){return ql===null?ql=function(){return 268435456+Math.round(2147483648*Math.random())}():ql++,"0x"+ql.toString(16)}var g2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var mv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var rt="WebChannelConnection",yv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=ay(),u=this.xo(n,r.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(F("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Os("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=g2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=ay();return new Promise((o,a)=>{let u=new ty;u.setWithCredentials(!0),u.listenOnce(ny.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ba.NO_ERROR:let h=u.getResponseJson();F(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case ba.TIMEOUT:F(rt,`RPC '${e}' ${s} timed out`),a(new L(x.DEADLINE_EXCEEDED,"Request time out"));break;case ba.HTTP_ERROR:let p=u.getStatus();if(F(rt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let C=function(R){let P=R.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(P)>=0?P:x.UNKNOWN}(v.status);a(new L(C,v.message))}else a(new L(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(x.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{F(rt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);F(rt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=ay(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sy(),a=iy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");F(rt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,C=new mv({Io:R=>{v?F(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(F(rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(rt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,P,B)=>{R.listen(P,V=>{try{B(V)}catch(H){setTimeout(()=>{throw H},0)}})};return N(p,Ss.EventType.OPEN,()=>{v||(F(rt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),N(p,Ss.EventType.CLOSE,()=>{v||(v=!0,F(rt,`RPC '${e}' stream ${i} transport closed`),C.So())}),N(p,Ss.EventType.ERROR,R=>{v||(v=!0,Os(rt,`RPC '${e}' stream ${i} transport errored:`,R),C.So(new L(x.UNAVAILABLE,"The operation could not be completed")))}),N(p,Ss.EventType.MESSAGE,R=>{var P;if(!v){let B=R.data[0];_e(!!B);let V=B,H=V.error||((P=V[0])===null||P===void 0?void 0:P.error);if(H){F(rt,`RPC '${e}' stream ${i} received error:`,H);let ye=H.status,W=function(_){let E=ke[_];if(E!==void 0)return xS(E)}(ye),T=H.message;W===void 0&&(W=x.INTERNAL,T="Unknown error status: "+ye+" with message "+H.message),v=!0,C.So(new L(W,T)),p.close()}else F(rt,`RPC '${e}' stream ${i} received:`,B),C.bo(B)}}),N(a,ry.STAT_EVENT,R=>{R.stat===$l.PROXY?F(rt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===$l.NOPROXY&&F(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function cy(){return typeof document<"u"?document:null}function Md(t){return new $y(t,!0)}var ud=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ld=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ud(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Vn(n.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},vv=class extends ld{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=Yj(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?dn(o.readTime):ee.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Gy(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=xy(u)?{documents:Xj(s,u)}:{query:e2(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MS(s,o.resumeToken);let l=Hy(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=sd(s,o.snapshotVersion.toTimestamp());let l=Hy(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=n2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Gy(this.serializer),n.removeTarget=e,this.a_(n)}},_v=class extends ld{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return _e(!!e.streamToken),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=Zj(e.writeResults,e.commitTime),r=dn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Gy(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Jj(this.serializer,r))};this.a_(n)}};var Iv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,qy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(x.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,qy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(x.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},wv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vn(n),this.D_=!1):F("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Ev=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Si(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Y(u);l.L_.add(4),yield Ga(l),l.q_.set("Unknown"),l.L_.delete(4),yield Pd(l)})}(this))}))}),this.q_=new wv(r,i)}};function Pd(t){return w(this,null,function*(){if(Si(t))for(let e of t.B_)yield e(!0)})}function Ga(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function BS(t,e){let n=Y(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),e_(n)?Xv(n):Ws(n).r_()&&Zv(n,e))}function Jv(t,e){let n=Y(t),r=Ws(n);n.N_.delete(e),r.r_()&&$S(n,e),n.N_.size===0&&(r.r_()?r.o_():Si(n)&&n.q_.set("Unknown"))}function Zv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ws(t).A_(e)}function $S(t,e){t.Q_.xe(e),Ws(t).R_(e)}function Xv(t){t.Q_=new By({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ws(t).start(),t.q_.v_()}function e_(t){return Si(t)&&!Ws(t).n_()&&t.N_.size>0}function Si(t){return Y(t).L_.size===0}function HS(t){t.Q_=void 0}function m2(t){return w(this,null,function*(){t.q_.set("Online")})}function y2(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{Zv(t,e)})})}function v2(t,e){return w(this,null,function*(){HS(t),e_(t)?(t.q_.M_(e),Xv(t)):t.q_.set("Unknown")})}function _2(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof rd&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dd(t,r)}else if(e instanceof Ms?t.Q_.Ke(e):e instanceof nd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ee.min()))try{let r=yield jS(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(st.EMPTY_BYTE_STRING,h.snapshotVersion)),$S(s,u);let p=new La(h.target,u,l,h.sequenceNumber);Zv(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield dd(t,r)}})}function dd(t,e,n){return w(this,null,function*(){if(!za(e))throw e;t.L_.add(1),yield Ga(t),t.q_.set("Offline"),n||(n=()=>jS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Pd(t)}))})}function qS(t,e){return e().catch(n=>dd(t,n,e))}function Od(t){return w(this,null,function*(){let e=Y(t),n=Sr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;I2(e);)try{let i=yield h2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,w2(e,i)}catch(i){yield dd(e,i)}zS(e)&&GS(e)})}function I2(t){return Si(t)&&t.O_.length<10}function w2(t,e){t.O_.push(e);let n=Sr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function zS(t){return Si(t)&&!Sr(t).n_()&&t.O_.length>0}function GS(t){Sr(t).start()}function E2(t){return w(this,null,function*(){Sr(t).p_()})}function T2(t){return w(this,null,function*(){let e=Sr(t);for(let n of t.O_)e.m_(n.mutations)})}function D2(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Fy.from(r,e,n);yield qS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Od(t)})}function b2(t,e){return w(this,null,function*(){e&&Sr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return $j(o)&&o!==x.ABORTED}(i.code)){let s=r.O_.shift();Sr(r).s_(),yield qS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Od(r)}})}(t,e)),zS(t)&&GS(t)})}function QC(t,e){return w(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=Si(n);n.L_.add(3),yield Ga(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Pd(n)})}function C2(t,e){return w(this,null,function*(){let n=Y(t);e?(n.L_.delete(2),yield Pd(n)):e||(n.L_.add(2),yield Ga(n),n.q_.set("Unknown"))})}function Ws(t){return t.K_||(t.K_=function(n,r,i){let s=Y(n);return s.w_(),new vv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:m2.bind(null,t),Ro:y2.bind(null,t),mo:v2.bind(null,t),d_:_2.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),e_(t)?Xv(t):t.q_.set("Unknown")):(yield t.K_.stop(),HS(t))}))),t.K_}function Sr(t){return t.U_||(t.U_=function(n,r,i){let s=Y(n);return s.w_(),new _v(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:E2.bind(null,t),mo:b2.bind(null,t),f_:T2.bind(null,t),g_:D2.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Od(t)):(yield t.U_.stop(),t.O_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Tv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function t_(t,e){if(Vn("AsyncQueue",`${e}: ${t}`),za(t))return new L(x.UNAVAILABLE,`${e}: ${t}`);throw t}var hd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$.comparator(n.key,r.key):(n,r)=>$.comparator(n.key,r.key),this.keyedMap=Sa(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var fd=class{constructor(){this.W_=new Ae($.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Hs=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,hd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Dv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},bv=class{constructor(){this.queries=YC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Y(n),s=i.queries;i.queries=YC(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(x.ABORTED,"Firestore shutting down"))}};function YC(){return new Cr(t=>_S(t),Nd)}function WS(t,e){return w(this,null,function*(){let n=Y(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Dv,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=t_(o,`Initialization of query '${As(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&n_(n)})}function KS(t,e){return w(this,null,function*(){let n=Y(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function S2(t,e){let n=Y(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&n_(n)}function A2(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function n_(t){t.Y_.forEach(e=>{e.next()})}var Cv,JC;(JC=Cv||(Cv={})).ea="default",JC.Cache="cache";var pd=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Cv.Cache}};var gd=class{constructor(e){this.key=e}},md=class{constructor(e){this.key=e}},Sv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=IS(e),this.Ra=new hd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new fd,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=xd(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?C!==N&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return N(v)-N(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Hs(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new md(r))}),this.da.forEach(r=>{e.has(r)||n.push(new gd(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Hs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Av=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Rv=class{constructor(e){this.key=e,this.va=!1}},Nv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Cr(a=>_S(a),Nd),this.Ma=new Map,this.xa=new Set,this.Oa=new Ae($.comparator),this.Na=new Map,this.La=new Va,this.Ba={},this.ka=new Map,this.qa=Fa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function R2(t,e,n=!0){return w(this,null,function*(){let r=e0(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield QS(r,e,n,!0),i})}function N2(t,e){return w(this,null,function*(){let n=e0(t);yield QS(n,e,!0,!1)})}function QS(t,e,n,r){return w(this,null,function*(){let i=yield f2(t.localStore,ln(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield x2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&BS(t.remoteStore,i),a})}function x2(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(N,R,P,B){return w(this,null,function*(){let V=R.view.ma(P);V.ns&&(V=yield KC(N.localStore,R.query,!1).then(({documents:T})=>R.view.ma(T,V)));let H=B&&B.targetChanges.get(R.targetId),ye=B&&B.targetMismatches.get(R.targetId)!=null,W=R.view.applyChanges(V,N.isPrimaryClient,H,ye);return XC(N,R.targetId,W.wa),W.snapshot})}(t,p,m,v);let s=yield KC(t.localStore,e,!0),o=new Sv(e,s.Ts),a=o.ma(s.documents),u=ka.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);XC(t,n,l.wa);let h=new Av(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function M2(t,e,n){return w(this,null,function*(){let r=Y(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Nd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jv(r.remoteStore,i.targetId),xv(r,i.targetId)}).catch(qa))):(xv(r,i.targetId),yield fv(r.localStore,i.targetId,!0))})}function P2(t,e){return w(this,null,function*(){let n=Y(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jv(n.remoteStore,r.targetId))})}function O2(t,e,n){return w(this,null,function*(){let r=B2(t);try{let i=yield function(o,a){let u=Y(o),l=Ye.now(),h=a.reduce((v,C)=>v.add(C.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=jn(),N=ue();return u.cs.getEntries(v,h).next(R=>{C=R,C.forEach((P,B)=>{B.isValidDocument()||(N=N.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(R=>{p=R;let P=[];for(let B of a){let V=Bj(B,p.get(B.key).overlayedDocument);V!=null&&P.push(new fn(B.key,V,hS(V.value.mapValue),Er.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,P,a)}).next(R=>{m=R;let P=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(v,R.batchId,P)})}).then(()=>({batchId:m.batchId,changes:ES(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Ae(me)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Wa(r,i.changes),yield Od(r.remoteStore)}catch(i){let s=t_(i,"Failed to persist write");n.reject(s)}})}function YS(t,e){return w(this,null,function*(){let n=Y(t);try{let r=yield l2(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?_e(o.va):i.removedDocuments.size>0&&(_e(o.va),o.va=!1))}),yield Wa(n,r,e)}catch(r){yield qa(r)}})}function ZC(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Y(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&n_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function k2(t,e,n){return w(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ae($.comparator);o=o.insert(s,zt.newNoDocument(s,ee.min()));let a=ue().add(s),u=new td(ee.min(),new Map,new Ae(me),o,a);yield YS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),r_(r)}else yield fv(r.localStore,e,!1).then(()=>xv(r,e,n)).catch(qa)})}function L2(t,e){return w(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield u2(n.localStore,e);ZS(n,r,null),JS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Wa(n,i)}catch(i){yield qa(i)}})}function F2(t,e,n){return w(this,null,function*(){let r=Y(t);try{let i=yield function(o,a){let u=Y(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(_e(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);ZS(r,e,n),JS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Wa(r,i)}catch(i){yield qa(i)}})}function JS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ZS(t,e,n){let r=Y(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function xv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||XS(t,r)})}function XS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Jv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),r_(t))}function XC(t,e,n){for(let r of n)r instanceof gd?(t.La.addReference(r.key,e),V2(t,r)):r instanceof md?(F("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||XS(t,r.key)):G()}function V2(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(F("SyncEngine","New document in limbo: "+n),t.xa.add(r),r_(t))}function r_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new $(Ce.fromString(e)),r=t.qa.next();t.Na.set(r,new Rv(n)),t.Oa=t.Oa.insert(n,r),BS(t.remoteStore,new La(ln(Rd(n.path)),r,"TargetPurposeLimboResolution",cS.oe))}}function Wa(t,e,n){return w(this,null,function*(){let r=Y(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=uv.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>M.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!za(p))throw p;F("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),C=v.snapshotVersion,N=v.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,N)}}})}(r.localStore,s))})}function U2(t,e){return w(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield US(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(x.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wa(n,r.hs)}})}function j2(t,e){let n=Y(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function e0(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k2.bind(null,e),e.Ca.d_=S2.bind(null,e.eventManager),e.Ca.$a=A2.bind(null,e.eventManager),e}function B2(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F2.bind(null,e),e}var eS=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=Md(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return c2(this.persistence,new dv,n.initialUser,this.serializer)}Ga(n){return new ov(cv.Zr,this.serializer)}Wa(n){return new pv}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var $2=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ZC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=U2.bind(null,this.syncEngine),yield C2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new bv}()}createDatastore(n){let r=Md(n.databaseInfo.databaseId),i=function(o){return new yv(o)}(n.databaseInfo);return function(o,a,u,l){return new Iv(o,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new Ev(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>ZC(this.syncEngine,r,0),function(){return cd.D()?new cd:new gv}())}createSyncEngine(n,r){return function(s,o,a,u,l,h,p){let m=new Nv(s,o,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(s){return w(this,null,function*(){let o=Y(s);F("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ga(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var yd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Mv=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=Kl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>w(this,null,function*(){F("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=t_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function uy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield US(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function tS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield H2(t);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>QC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>QC(e.remoteStore,i)),t._onlineComponents=e})}function H2(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Os("Error using user provided cache. Falling back to memory cache: "+n),yield uy(t,new eS)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield uy(t,new eS);return t._offlineComponents})}function t0(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield tS(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield tS(t,new $2))),t._onlineComponents})}function q2(t){return t0(t).then(e=>e.syncEngine)}function Pv(t){return w(this,null,function*(){let e=yield t0(t),n=e.eventManager;return n.onListen=R2.bind(null,e.syncEngine),n.onUnlisten=M2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P2.bind(null,e.syncEngine),n})}function z2(t,e,n={}){let r=new cn;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(s,o,a,u,l){let h=new yd({next:m=>{h.Za(),o.enqueueAndForget(()=>KS(s,p));let v=m.docs.has(a);!v&&m.fromCache?l.reject(new L(x.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?l.reject(new L(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new pd(Rd(a.path),h,{includeMetadataChanges:!0,_a:!0});return WS(s,p)}(yield Pv(t),t.asyncQueue,e,n,r)})),r.promise}function n0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var nS=new Map;function r0(t,e,n){if(!n)throw new L(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G2(t,e,n,r){if(e===!0&&r===!0)throw new L(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rS(t){if(!$.isDocumentKey(t))throw new L(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iS(t){if($.isDocumentKey(t))throw new L(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function Fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=kd(t);throw new L(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var vd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},qs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ly;switch(r.type){case"firstParty":return new py(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=nS.get(n);r&&(F("ComponentProvider","Removing Datastore"),nS.delete(n),r.terminate())}(this),Promise.resolve()}};function i0(t,e,n,r={}){var i;let s=(t=Fn(t,qs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=He.MOCK_USER;else{a=vl(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new He(l)}t._authCredentials=new dy(new Wl(a,u))}}var bi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ht=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Tr=class t extends bi{constructor(e,n,r){super(e,n,Rd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new $(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function s0(t,e,...n){if(t=Oe(t),r0("collection","path",e),t instanceof qs){let r=Ce.fromString(e,...n);return iS(r),new Tr(t,null,r)}{if(!(t instanceof ht||t instanceof Tr))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return iS(r),new Tr(t.firestore,null,r)}}function i_(t,e,...n){if(t=Oe(t),arguments.length===1&&(e=Kl.newId()),r0("doc","path",e),t instanceof qs){let r=Ce.fromString(e,...n);return rS(r),new ht(t,null,new $(r))}{if(!(t instanceof ht||t instanceof Tr))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ce.fromString(e,...n));return rS(r),new ht(t.firestore,t instanceof Tr?t.converter:null,new $(r))}}var _d=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ud(this,"async_queue_retry"),this.Vu=()=>{let r=cy();r&&F("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=cy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=cy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new cn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!za(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Vn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Tv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&G()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function sS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Ar=class extends qs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _d,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new _d(e),this._firestoreClient=void 0,yield e}})}};function o0(t,e){let n=typeof t=="object"?t:gr(),r=typeof t=="string"?t:e||"(default)",i=ai(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=yl("firestore");s&&i0(i,...s)}return i}function s_(t){if(t._terminated)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||W2(t),t._firestoreClient}function W2(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new _y(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,n0(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Mv(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Ua=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(st.fromBase64String(e))}catch(n){throw new L(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var zs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ja=class{constructor(e){this._methodName=e}};var Ba=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var $a=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var K2=/^__.*__$/,Ov=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Di(e,this.data,n,this.fieldTransforms)}},Id=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function a0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var kv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ed(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(a0(this.Cu)&&K2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Lv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Md(e)}Qu(e,n,r,i=!1){return new kv({Cu:e,methodName:n,qu:r,path:Ct.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function o_(t){let e=t._freezeSettings(),n=Md(t._databaseId);return new Lv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Q2(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);a_("Data must be an object, but it was:",o,r);let a=c0(r,o),u,l;if(s.merge)u=new kt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=Fv(e,p,n);if(!o.contains(m))throw new L(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);l0(h,m)||h.push(m)}u=new kt(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Ov(new bt(a),u,l)}var wd=class t extends ja{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Y2(t,e,n,r){let i=t.Qu(1,e,n);a_("Data must be an object, but it was:",i,r);let s=[],o=bt.empty();Ci(r,(u,l)=>{let h=c_(e,u,n);l=Oe(l);let p=i.Nu(h);if(l instanceof wd)s.push(h);else{let m=Ka(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new kt(s);return new Id(o,a,i.fieldTransforms)}function J2(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[Fv(e,r,n)],u=[i];if(s.length%2!=0)throw new L(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Fv(e,s[m])),u.push(s[m+1]);let l=[],h=bt.empty();for(let m=a.length-1;m>=0;--m)if(!l0(l,a[m])){let v=a[m],C=u[m];C=Oe(C);let N=o.Nu(v);if(C instanceof wd)l.push(v);else{let R=Ka(C,N);R!=null&&(l.push(v),h.set(v,R))}}let p=new kt(l);return new Id(h,p,o.fieldTransforms)}function Z2(t,e,n,r=!1){return Ka(n,t.Qu(r?4:3,e))}function Ka(t,e){if(u0(t=Oe(t)))return a_("Unsupported field value:",e,t),c0(t,e);if(t instanceof ja)return function(r,i){if(!a0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Ka(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Lj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ye.fromDate(r);return{timestampValue:sd(i.serializer,s)}}if(r instanceof Ye){let s=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sd(i.serializer,s)}}if(r instanceof Ba)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ua)return{bytesValue:MS(i.serializer,r._byteString)};if(r instanceof ht){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $a)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Qv(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${kd(r)}`)}(t,e)}function c0(t,e){let n={};return uS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ci(t,(r,i)=>{let s=Ka(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function u0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Ba||t instanceof Ua||t instanceof ht||t instanceof ja||t instanceof $a)}function a_(t,e,n){if(!u0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=kd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Fv(t,e,n){if((e=Oe(e))instanceof zs)return e._internalPath;if(typeof e=="string")return c_(t,e);throw Ed("Field path arguments must be of type string or ",t,!1,void 0,n)}var X2=new RegExp("[~\\*/\\[\\]]");function c_(t,e,n){if(e.search(X2)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zs(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ed(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new L(x.INVALID_ARGUMENT,a+t+u)}function l0(t,e){return t.some(n=>n.isEqual(e))}var Td=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Vv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Ld("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Vv=class extends Td{data(){return super.data()}};function Ld(t,e){return typeof e=="string"?c_(t,e):e instanceof zs?e._internalPath:e._delegate._internalPath}function eB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ha=class{},Dd=class extends Ha{};function d0(t,e,...n){let r=[];e instanceof Ha&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof Uv).length,a=s.filter(u=>u instanceof bd).length;if(o>1||o>0&&a>0)throw new L(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var bd=class t extends Dd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return p0(e._query,n),new bi(e.firestore,e.converter,My(e._query,n))}_parse(e){let n=o_(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){aS(p,h);let v=[];for(let C of p)v.push(oS(u,s,C));m={arrayValue:{values:v}}}else m=oS(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||aS(p,h),m=Z2(a,o,p,h==="in"||h==="not-in");return Fe.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function h0(t,e,n){let r=e,i=Ld("where",t);return bd._create(i,r,n)}var Uv=class t extends Ha{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)p0(o,u),o=My(o,u)}(e._query,n),new bi(e.firestore,e.converter,My(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var jv=class t extends Dd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new L(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wi(s,o)}(e._query,this._field,this._direction);return new bi(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new br(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function f0(t,e="asc"){let n=e,r=Ld("orderBy",t);return jv._create(r,n)}function oS(t,e,n){if(typeof(n=Oe(n))=="string"){if(n==="")throw new L(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vS(e)&&n.indexOf("/")!==-1)throw new L(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ce.fromString(n));if(!$.isDocumentKey(r))throw new L(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xC(t,new $(r))}if(n instanceof ht)return xC(t,n._key);throw new L(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kd(n)}.`)}function aS(t,e){if(!Array.isArray(t)||t.length===0)throw new L(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p0(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Bv=class{convertValue(e,n="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ci(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>be(o.doubleValue));return new $a(s)}convertGeoPoint(e){return new Ba(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=zv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){let n=Un(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ce.fromString(e);_e(VS(r));let i=new Zl(r.get(1),r.get(3)),s=new $(r.popFirst(5));return i.isEqual(n)||Vn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function tB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var yi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Cd=class extends Td{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ps(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Ld("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ps=class extends Cd{data(e={}){return super.data(e)}},$v=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ps(this._firestore,this._userDataWriter,r.key,r,new yi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Ps(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:nB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function nB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}function g0(t){t=Fn(t,ht);let e=Fn(t.firestore,Ar);return z2(s_(e),t._key).then(n=>_0(e,t,n))}var Sd=class extends Bv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}};function m0(t,e,n,...r){t=Fn(t,ht);let i=Fn(t.firestore,Ar),s=o_(i),o;return o=typeof(e=Oe(e))=="string"||e instanceof zs?J2(s,"updateDoc",t._key,e,n,r):Y2(s,"updateDoc",t._key,e),v0(i,[o.toMutation(t._key,Er.exists(!0))])}function y0(t,e){let n=Fn(t.firestore,Ar),r=i_(t),i=tB(t.converter,e);return v0(n,[Q2(o_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}function u_(t,...e){var n,r,i;t=Oe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||sS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(sS(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof ht)l=Fn(t.firestore,Ar),h=Rd(t._key.path),u={next:p=>{e[o]&&e[o](_0(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Fn(t,bi);l=Fn(p.firestore,Ar),h=p._query;let m=new Sd(l);u={next:v=>{e[o]&&e[o](new $v(l,m,p,v))},error:e[o+1],complete:e[o+2]},eB(t._query)}return function(m,v,C,N){let R=new yd(N),P=new pd(v,R,C);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return WS(yield Pv(m),P)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return KS(yield Pv(m),P)}))}}(s_(l),h,a,u)}function v0(t,e){return function(r,i){let s=new cn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return O2(yield q2(r),i,s)})),s.promise}(s_(t),e)}function _0(t,e,n){let r=n.docs.get(e._key),i=new Sd(t);return new Cd(t,i,e._key,r,new yi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Gs=i})(sn),rn(new yt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Ar(new hy(r.getProvider("auth-internal")),new my(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),De(SC,"4.7.3",e),De(SC,"4.7.3","esm2017")})();var Fd=function(){return Fd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fd.apply(this,arguments)};var sB={includeMetadataChanges:!1};function I0(t,e){return e===void 0&&(e=sB),new se(function(n){var r=u_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function w0(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Fd(Fd({},r),(n={},n[e.idField]=t.id,n))}function E0(t){return I0(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function T0(t,e){return e===void 0&&(e={}),E0(t).pipe(ie(function(n){return n.map(function(r){return w0(r,e)})}))}var Ai=class{constructor(e){return e}},D0="firestore",l_=class{constructor(){return ui(D0)}};var d_=new Q("angularfire2.firestore-instances");function oB(t,e){let n=Ds(D0,t,e);return n&&new Ai(n)}function aB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ai(r)}}var cB={provide:l_,deps:[[new Ne,d_]]},uB={provide:Ai,useFactory:oB,deps:[[new Ne,d_],qt]};function N8(t,...e){return De("angularfire",Mn.full,"fst"),Mt([uB,cB,{provide:d_,useFactory:aB(t),multi:!0,deps:[ge,nt,yr,Pn,[new Ne,pi],[new Ne,mr],...e]}])}var b0=Qe(T0,!0);var x8=Qe(y0,!0);var C0=Qe(s0,!0);var M8=Qe(i_,!0);var P8=Qe(g0,!0);var O8=Qe(o0,!0);var k8=Qe(f0,!0);var L8=Qe(d0,!0);var F8=Qe(m0,!0);var V8=Qe(h0,!0);var M0="firebasestorage.googleapis.com",lB="storageBucket",dB=2*60*1e3,hB=10*60*1e3;var pn=class t extends dt{constructor(e,n,r=0){super(h_(e),`Firebase Storage: ${n} (${h_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return h_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},$n=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}($n||{});function h_(t){return"storage/"+t}function fB(){let t="An unknown error occurred, please check the error payload for server response.";return new pn($n.UNKNOWN,t)}function pB(){return new pn($n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gB(){return new pn($n.CANCELED,"User canceled the upload/download.")}function mB(t){return new pn($n.INVALID_URL,"Invalid URL '"+t+"'.")}function yB(t){return new pn($n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function S0(t){return new pn($n.INVALID_ARGUMENT,t)}function P0(){return new pn($n.APP_DELETED,"The Firebase app was deleted.")}function vB(t){return new pn($n.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Bn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw yB(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(H){H.path_=decodeURIComponent(H.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${h}/b/${i}/o${m}`,"i"),C={bucket:1,path:3},N=n===M0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",P=new RegExp(`^https?://${N}/${i}/${R}`,"i"),V=[{regex:a,indices:u,postModify:s},{regex:v,indices:C,postModify:l},{regex:P,indices:{bucket:1,path:2},postModify:l}];for(let H=0;H<V.length;H++){let ye=V[H],W=ye.regex.exec(e);if(W){let T=W[ye.indices.bucket],y=W[ye.indices.path];y||(y=""),r=new t(T,y),ye.postModify(r);break}}if(r==null)throw mB(e);return r}},f_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function _B(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function h(...R){l||(l=!0,e.apply(null,R))}function p(R){i=setTimeout(()=>{i=null,t(v,u())},R)}function m(){s&&clearTimeout(s)}function v(R,...P){if(l){m();return}if(R){m(),h.call(null,R,...P);return}if(u()||o){m(),h.call(null,R,...P);return}r<64&&(r*=2);let V;a===1?(a=2,V=0):V=(r+Math.random())*1e3,p(V)}let C=!1;function N(R){C||(C=!0,m(),!l&&(i!==null?(R||(a=2),clearTimeout(i),p(0)):R||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,N(!0)},n),N}function IB(t){t(!1)}function wB(t){return t!==void 0}function A0(t,e,n,r){if(r<e)throw S0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw S0(`Invalid value for '${t}'. Expected ${n} or less.`)}function EB(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var p_=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(p_||{});function TB(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var g_=class{constructor(e,n,r,i,s,o,a,u,l,h,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,C)=>{this.resolve_=v,this.reject_=C,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Ks(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===p_.NO_ERROR,u=s.getStatus();if(!a||TB(u,this.additionalRetryCodes_)&&this.retry){let h=s.getErrorCode()===p_.ABORT;r(!1,new Ks(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new Ks(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());wB(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=fB();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?P0():gB();o(u)}else{let u=pB();o(u)}};this.canceled_?n(!1,new Ks(!1,null,!0)):this.backoffId_=_B(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ks=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function DB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function SB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function AB(t,e,n,r,i,s,o=!0){let a=EB(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return CB(l,e),DB(l,n),bB(l,s),SB(l,r),new g_(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function RB(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function NB(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var q8=256*1024;var m_=class t{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NB(this._location.path)}get storage(){return this._service}get parent(){let e=RB(this._location.path);if(e===null)return null;let n=new Bn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vB(e)}};function R0(t,e){let n=e?.[lB];return n==null?null:Bn.makeFromBucketSpec(n,t)}function xB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:vl(i,t.app.options.projectId))}var y_=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=M0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dB,this._maxUploadRetryTime=hB,this._requests=new Set,i!=null?this._bucket=Bn.makeFromBucketSpec(i,this._host):this._bucket=R0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=R0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return w(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return w(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new m_(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new f_(P0());{let o=AB(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return w(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},N0="@firebase/storage",x0="0.13.2";var O0="storage";function k0(t=gr(),e){t=Oe(t);let r=ai(t,O0).getImmediate({identifier:e}),i=yl("storage");return i&&L0(r,...i),r}function L0(t,e,n,r={}){xB(t,e,n,r)}function MB(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new y_(n,r,i,e,sn)}function PB(){rn(new yt(O0,MB,"PUBLIC").setMultipleInstances(!0)),De(N0,x0,""),De(N0,x0,"esm2017")}PB();var Ri=class{constructor(e){return e}},F0="storage",v_=class{constructor(){return ui(F0)}};var __=new Q("angularfire2.storage-instances");function OB(t,e){let n=Ds(F0,t,e);return n&&new Ri(n)}function kB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ri(r)}}var LB={provide:v_,deps:[[new Ne,__]]},FB={provide:Ri,useFactory:OB,deps:[[new Ne,__],qt]};function gK(t,...e){return De("angularfire",Mn.full,"gcs"),Mt([FB,LB,{provide:__,useFactory:kB(t),multi:!0,deps:[ge,nt,yr,Pn,[new Ne,pi],[new Ne,mr],...e]}])}var mK=Qe(k0,!0);var DK=(()=>{class t{constructor(){this._firestore=k(Ai),this._storage=k(Ri),this._collectionMenu=C0(this._firestore,"menu"),this.cartItemsCount=Zr(0),this.totalPrice=Zr(0),this.cartItems=Zr([]),this.getMenu=Wg(b0(this._collectionMenu,{idField:"id"}),{initialValue:[]}),this.cartItems.set(this.getCartItems()),this.cartItemsCount.set(this.getTotalItems()),this.totalPrice.set(this.getTotalPrice())}get cartItemsValue(){return this.cartItems()}getTotalItems(){return this.getCartItems().reduce((r,i)=>r+i.quantity,0)}getTotalPrice(){return this.getCartItems().reduce((r,i)=>r+i.price*i.quantity,0)}getCartItems(){let n=localStorage.getItem("cart");return n?JSON.parse(n):[]}getCartItemsToOrder(){return JSON.parse(localStorage.getItem("cart")||"[]").map(r=>({id:r.id,name:r.name,quantity:r.quantity,price:r.price}))}saveCartItems(n){localStorage.setItem("cart",JSON.stringify(n)),this.cartItems.set(n),this.cartItemsCount.set(this.getTotalItems()),this.totalPrice.set(this.getTotalPrice())}addToCart(n,r,i,s){let o=this.cartItemsValue,a=o.find(u=>u.id===n);a?a.quantity+=1:o.push({id:n,name:r,description:i,price:s,image:"",quantity:1}),this.saveCartItems(o)}updateCartItemsWithImage(){let n=this.getMenu(),r=this.cartItemsValue;r.forEach(i=>{let s=n.find(o=>o.id===i.id);s&&(i.image=s.image)}),this.saveCartItems(r)}clearCart(){localStorage.removeItem("cart"),this.cartItems.set([]),this.cartItemsCount.set(0),this.totalPrice.set(0)}incrementQuantity(n){let r=this.getCartItems(),i=r.find(s=>s.id===n);i&&(i.quantity+=1,this.saveCartItems(r))}decrementQuantity(n){let r=this.getCartItems(),i=r.find(s=>s.id===n);if(i){if(i.quantity=Math.max(0,i.quantity-1),i.quantity===0){let s=r.indexOf(i);s>-1&&r.splice(s,1)}this.saveCartItems(r)}}getCartItemsCount(){return Ho(()=>this.cartItemsCount())}getTotalPriceSignal(){return Ho(()=>this.totalPrice())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{tt as a,Pe as b,ie as c,qA as d,wt as e,j as f,qw as g,z as h,Tu as i,Q as j,k,Rt as l,sE as m,Su as n,Yr as o,Au as p,Oo as q,tW as r,nW as s,rW as t,iW as u,fp as v,nt as w,bn as x,At as y,ZN as z,sW as A,xe as B,Vo as C,rP as D,pP as E,jp as F,TP as G,DP as H,uW as I,UT as J,jT as K,Bp as L,jP as M,BP as N,lW as O,$p as P,dW as Q,JP as R,hW as S,ZP as T,XP as U,fW as V,pW as W,nO as X,$T as Y,gW as Z,qT as _,mW as $,yW as aa,vW as ba,_W as ca,IW as da,wW as ea,EW as fa,Uo as ga,$o as ha,fs as ia,$W as ja,HW as ka,qW as la,zW as ma,GW as na,WW as oa,JO as pa,v9 as qa,lr as ra,ii as sa,Wk as ta,Gg as ua,$9 as va,H9 as wa,q9 as xa,V6 as ya,U6 as za,F3 as Aa,V3 as Ba,Ai as Ca,N8 as Da,b0 as Ea,x8 as Fa,C0 as Ga,M8 as Ha,P8 as Ia,O8 as Ja,k8 as Ka,L8 as La,F8 as Ma,V8 as Na,gK as Oa,mK as Pa,DK as Qa};
